var jI=Object.defineProperty;var zI=(t,e,n)=>e in t?jI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rp=(t,e,n)=>zI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var WF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function FI(){if(nS)return rc;nS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var rS;function BI(){return rS||(rS=1,xp.exports=FI()),xp.exports}var x=BI(),Ip={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function HI(){if(iS)return Ke;iS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function M(U,ie,de){this.props=U,this.context=ie,this.refs=k,this.updater=de||T}M.prototype.isReactComponent={},M.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=M.prototype;function G(U,ie,de){this.props=U,this.context=ie,this.refs=k,this.updater=de||T}var Q=G.prototype=new j;Q.constructor=G,A(Q,M.prototype),Q.isPureReactComponent=!0;var re=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function D(U,ie,de,oe,be,Be){return de=Be.ref,{$$typeof:t,type:U,key:ie,ref:de!==void 0?de:null,props:Be}}function I(U,ie){return D(U.type,ie,void 0,void 0,void 0,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function P(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(de){return ie[de]})}var F=/\/+/g;function V(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):ie.toString(36)}function N(){}function Se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ve(U,ie,de,oe,be){var Be=typeof U;(Be==="undefined"||Be==="boolean")&&(U=null);var De=!1;if(U===null)De=!0;else switch(Be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(U.$$typeof){case t:case e:De=!0;break;case y:return De=U._init,Ve(De(U._payload),ie,de,oe,be)}}if(De)return be=be(U),De=oe===""?"."+V(U,0):oe,re(be)?(de="",De!=null&&(de=De.replace(F,"$&/")+"/"),Ve(be,ie,de,"",function(hr){return hr})):be!=null&&(R(be)&&(be=I(be,de+(be.key==null||U&&U.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+De)),ie.push(be)),1;De=0;var Gt=oe===""?".":oe+":";if(re(U))for(var St=0;St<U.length;St++)oe=U[St],Be=Gt+V(oe,St),De+=Ve(oe,ie,de,Be,be);else if(St=E(U),typeof St=="function")for(U=St.call(U),St=0;!(oe=U.next()).done;)oe=oe.value,Be=Gt+V(oe,St++),De+=Ve(oe,ie,de,Be,be);else if(Be==="object"){if(typeof U.then=="function")return Ve(Se(U),ie,de,oe,be);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return De}function Y(U,ie,de){if(U==null)return U;var oe=[],be=0;return Ve(U,oe,"","",function(Be){return ie.call(de,Be,be++)}),oe}function fe(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(de){(U._status===0||U._status===-1)&&(U._status=1,U._result=de)},function(de){(U._status===0||U._status===-1)&&(U._status=2,U._result=de)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ye=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Oe(){}return Ke.Children={map:Y,forEach:function(U,ie,de){Y(U,function(){ie.apply(this,arguments)},de)},count:function(U){var ie=0;return Y(U,function(){ie++}),ie},toArray:function(U){return Y(U,function(ie){return ie})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ke.Component=M,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=G,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return te.H.useMemoCache(U)}},Ke.cache=function(U){return function(){return U.apply(null,arguments)}},Ke.cloneElement=function(U,ie,de){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var oe=A({},U.props),be=U.key,Be=void 0;if(ie!=null)for(De in ie.ref!==void 0&&(Be=void 0),ie.key!==void 0&&(be=""+ie.key),ie)!B.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(oe[De]=ie[De]);var De=arguments.length-2;if(De===1)oe.children=de;else if(1<De){for(var Gt=Array(De),St=0;St<De;St++)Gt[St]=arguments[St+2];oe.children=Gt}return D(U.type,be,void 0,void 0,Be,oe)},Ke.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ke.createElement=function(U,ie,de){var oe,be={},Be=null;if(ie!=null)for(oe in ie.key!==void 0&&(Be=""+ie.key),ie)B.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=ie[oe]);var De=arguments.length-2;if(De===1)be.children=de;else if(1<De){for(var Gt=Array(De),St=0;St<De;St++)Gt[St]=arguments[St+2];be.children=Gt}if(U&&U.defaultProps)for(oe in De=U.defaultProps,De)be[oe]===void 0&&(be[oe]=De[oe]);return D(U,Be,void 0,void 0,null,be)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(U){return{$$typeof:f,render:U}},Ke.isValidElement=R,Ke.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:fe}},Ke.memo=function(U,ie){return{$$typeof:g,type:U,compare:ie===void 0?null:ie}},Ke.startTransition=function(U){var ie=te.T,de={};te.T=de;try{var oe=U(),be=te.S;be!==null&&be(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Oe,ye)}catch(Be){ye(Be)}finally{te.T=ie}},Ke.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ke.use=function(U){return te.H.use(U)},Ke.useActionState=function(U,ie,de){return te.H.useActionState(U,ie,de)},Ke.useCallback=function(U,ie){return te.H.useCallback(U,ie)},Ke.useContext=function(U){return te.H.useContext(U)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(U,ie){return te.H.useDeferredValue(U,ie)},Ke.useEffect=function(U,ie,de){var oe=te.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(U,ie)},Ke.useId=function(){return te.H.useId()},Ke.useImperativeHandle=function(U,ie,de){return te.H.useImperativeHandle(U,ie,de)},Ke.useInsertionEffect=function(U,ie){return te.H.useInsertionEffect(U,ie)},Ke.useLayoutEffect=function(U,ie){return te.H.useLayoutEffect(U,ie)},Ke.useMemo=function(U,ie){return te.H.useMemo(U,ie)},Ke.useOptimistic=function(U,ie){return te.H.useOptimistic(U,ie)},Ke.useReducer=function(U,ie,de){return te.H.useReducer(U,ie,de)},Ke.useRef=function(U){return te.H.useRef(U)},Ke.useState=function(U){return te.H.useState(U)},Ke.useSyncExternalStore=function(U,ie,de){return te.H.useSyncExternalStore(U,ie,de)},Ke.useTransition=function(){return te.H.useTransition()},Ke.version="19.1.0",Ke}var sS;function Qd(){return sS||(sS=1,Ip.exports=HI()),Ip.exports}var O=Qd();const Vw=Uw(O);var Op={exports:{}},ic={},Dp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function qI(){return aS||(aS=1,function(t){function e(Y,fe){var ye=Y.length;Y.push(fe);e:for(;0<ye;){var Oe=ye-1>>>1,U=Y[Oe];if(0<s(U,fe))Y[Oe]=fe,Y[ye]=U,ye=Oe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var fe=Y[0],ye=Y.pop();if(ye!==fe){Y[0]=ye;e:for(var Oe=0,U=Y.length,ie=U>>>1;Oe<ie;){var de=2*(Oe+1)-1,oe=Y[de],be=de+1,Be=Y[be];if(0>s(oe,ye))be<U&&0>s(Be,oe)?(Y[Oe]=Be,Y[be]=ye,Oe=be):(Y[Oe]=oe,Y[de]=ye,Oe=de);else if(be<U&&0>s(Be,ye))Y[Oe]=Be,Y[be]=ye,Oe=be;else break e}}return fe}function s(Y,fe){var ye=Y.sortIndex-fe.sortIndex;return ye!==0?ye:Y.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],g=[],y=1,_=null,E=3,T=!1,A=!1,k=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var fe=n(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=Y)r(g),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(g)}}function te(Y){if(k=!1,re(Y),!A)if(n(d)!==null)A=!0,B||(B=!0,V());else{var fe=n(g);fe!==null&&Ve(te,fe.startTime-Y)}}var B=!1,D=-1,I=5,R=-1;function P(){return M?!0:!(t.unstable_now()-R<I)}function F(){if(M=!1,B){var Y=t.unstable_now();R=Y;var fe=!0;try{e:{A=!1,k&&(k=!1,G(D),D=-1),T=!0;var ye=E;try{t:{for(re(Y),_=n(d);_!==null&&!(_.expirationTime>Y&&P());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,E=_.priorityLevel;var U=Oe(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof U=="function"){_.callback=U,re(Y),fe=!0;break t}_===n(d)&&r(d),re(Y)}else r(d);_=n(d)}if(_!==null)fe=!0;else{var ie=n(g);ie!==null&&Ve(te,ie.startTime-Y),fe=!1}}break e}finally{_=null,E=ye,T=!1}fe=void 0}}finally{fe?V():B=!1}}}var V;if(typeof Q=="function")V=function(){Q(F)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Se=N.port2;N.port1.onmessage=F,V=function(){Se.postMessage(null)}}else V=function(){j(F,0)};function Ve(Y,fe){D=j(function(){Y(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ye=E;E=fe;try{return Y()}finally{E=ye}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Y,fe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=E;E=Y;try{return fe()}finally{E=ye}},t.unstable_scheduleCallback=function(Y,fe,ye){var Oe=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Oe+ye:Oe):ye=Oe,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ye+U,Y={id:y++,callback:fe,priorityLevel:Y,startTime:ye,expirationTime:U,sortIndex:-1},ye>Oe?(Y.sortIndex=ye,e(g,Y),n(d)===null&&Y===n(g)&&(k?(G(D),D=-1):k=!0,Ve(te,ye-Oe))):(Y.sortIndex=U,e(d,Y),A||T||(A=!0,B||(B=!0,V()))),Y},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Y){var fe=E;return function(){var ye=E;E=fe;try{return Y.apply(this,arguments)}finally{E=ye}}}}(Np)),Np}var oS;function $I(){return oS||(oS=1,Dp.exports=qI()),Dp.exports}var Pp={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function GI(){if(lS)return In;lS=1;var t=Qd();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,y)},In.flushSync=function(d){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=g,r.p=y,r.d.f()}},In.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},In.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},In.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},In.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},In.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},In.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},In.requestFormReset=function(d){r.d.r(d)},In.unstable_batchedUpdates=function(d,g){return d(g)},In.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.1.0",In}var uS;function jw(){if(uS)return Pp.exports;uS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pp.exports=GI(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function KI(){if(cS)return ic;cS=1;var t=$I(),e=Qd(),n=jw();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),i;if(p===c)return f(m),a;p=p.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=p;else{for(var b=!1,w=m.child;w;){if(w===l){b=!0,l=m,c=p;break}if(w===c){b=!0,c=m,l=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===l){b=!0,l=p,c=m;break}if(w===c){b=!0,c=p,l=m;break}w=w.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case re:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return a=i.displayName||null,a!==null?a:Se(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return Se(i(a))}catch{}}return null}var Ve=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Oe=[],U=-1;function ie(i){return{current:i}}function de(i){0>U||(i.current=Oe[U],Oe[U]=null,U--)}function oe(i,a){U++,Oe[U]=i.current,i.current=a}var be=ie(null),Be=ie(null),De=ie(null),Gt=ie(null);function St(i,a){switch(oe(De,a),oe(Be,i),oe(be,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?O1(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=O1(a),i=D1(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(be),oe(be,i)}function hr(){de(be),de(Be),de(De)}function Dt(i){i.memoizedState!==null&&oe(Gt,i);var a=be.current,l=D1(a,i.type);a!==l&&(oe(Be,i),oe(be,l))}function An(i){Be.current===i&&(de(be),de(Be)),Gt.current===i&&(de(Gt),Zu._currentValue=ye)}var Qr=Object.prototype.hasOwnProperty,Ii=t.unstable_scheduleCallback,kn=t.unstable_cancelCallback,xa=t.unstable_shouldYield,No=t.unstable_requestPaint,Ln=t.unstable_now,su=t.unstable_getCurrentPriorityLevel,Ia=t.unstable_ImmediatePriority,_s=t.unstable_UserBlockingPriority,Oi=t.unstable_NormalPriority,Pr=t.unstable_LowPriority,dr=t.unstable_IdlePriority,Es=t.log,Ss=t.unstable_setDisableYieldValue,mt=null,Ye=null;function Cn(i){if(typeof Es=="function"&&Ss(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(mt,i)}catch{}}var Kt=Math.clz32?Math.clz32:Xr,Po=Math.log,mr=Math.LN2;function Xr(i){return i>>>=0,i===0?32:31-(Po(i)/mr|0)|0}var Wr=256,Zr=4194304;function Qn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?m=Qn(c):(b&=w,b!==0?m=Qn(b):l||(l=w&~i,l!==0&&(m=Qn(l))))):(w=c&~p,w!==0?m=Qn(w):b!==0?m=Qn(b):l||(l=c&~i,l!==0&&(m=Qn(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function gr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function bs(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var i=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),i}function Oa(){var i=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),i}function pr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Mr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ts(i,a,l,c,m,p){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,L=i.expirationTimes,Z=i.hiddenUpdates;for(l=b&~l;0<l;){var se=31-Kt(l),ue=1<<se;w[se]=0,L[se]=-1;var J=Z[se];if(J!==null)for(Z[se]=null,se=0;se<J.length;se++){var ee=J[se];ee!==null&&(ee.lane&=-536870913)}l&=~ue}c!==0&&Un(i,c,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~a))}function Un(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Kt(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Jr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Kt(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function ei(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ws(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function z(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:X1(i.type))}function $(i,a){var l=fe.p;try{return fe.p=i,a()}finally{fe.p=l}}var W=Math.random().toString(36).slice(2),le="__reactFiber$"+W,me="__reactProps$"+W,ve="__reactContainer$"+W,Ne="__reactEvents$"+W,Ee="__reactListeners$"+W,we="__reactHandles$"+W,Re="__reactResources$"+W,Me="__reactMarker$"+W;function Ae(i){delete i[le],delete i[me],delete i[Ne],delete i[Ee],delete i[we]}function Le(i){var a=i[le];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ve]||l[le]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=k1(i);i!==null;){if(l=i[le])return l;i=k1(i)}return a}i=l,l=i.parentNode}return null}function et(i){if(i=i[le]||i[ve]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function pt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ht(i){var a=i[Re];return a||(a=i[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ot(i){i[Me]=!0}var We=new Set,yr={};function Jt(i,a){Vn(i,a),Vn(i+"Capture",a)}function Vn(i,a){for(yr[i]=a,i=0;i<a.length;i++)We.add(a[i])}var mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},Xn={};function As(i){return Qr.call(Xn,i)?!0:Qr.call(ti,i)?!1:mn.test(i)?Xn[i]=!0:(ti[i]=!0,!1)}function Rn(i,a,l){if(As(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function jn(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function He(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var Yt,Wn;function Bn(i){if(Yt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Yt=a&&a[1]||"",Wn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+i+Wn}var ni=!1;function Ct(i,a){if(!i||ni)return"";ni=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var J=ee}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(ee){J=ee}i.call(ue.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var L=b.split(`
`),Z=w.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===Z.length)for(c=L.length-1,m=Z.length-1;1<=c&&0<=m&&L[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==Z[m]){var se=`
`+L[c].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=c&&0<=m);break}}}finally{ni=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Bn(l):""}function vr(i){switch(i.tag){case 26:case 27:case 5:return Bn(i.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Ct(i.type,!1);case 11:return Ct(i.type.render,!1);case 1:return Ct(i.type,!0);case 31:return Bn("Activity");default:return""}}function Pi(i){try{var a="";do a+=vr(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function au(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dm(i){var a=au(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,p.call(this,b)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Mo(i){i._valueTracker||(i._valueTracker=Dm(i))}function ou(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=au(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nm=/[\n"\\]/g;function Qt(i){return i.replace(Nm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zn(i,a,l,c,m,p,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?Cs(i,b,gn(a)):l!=null?Cs(i,b,gn(l)):c!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+gn(w):i.removeAttribute("name")}function Na(i,a,l,c,m,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+gn(l):"",a=a!=null?""+gn(a):l,w||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Cs(i,a,l){a==="number"&&Da(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Mi(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function bt(i,a,l){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+gn(l):""}function Pa(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=gn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function _r(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Ma.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function lu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&pf(i,m,c)}else for(var p in a)a.hasOwnProperty(p)&&pf(i,p,a[p])}function uu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(i){return Mm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ki=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Li=null,Ui=null;function cu(i){var a=et(i);if(a&&(i=a.stateNode)){var l=i[me]||null;e:switch(i=a.stateNode,a.type){case"input":if(Zn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[me]||null;if(!m)throw Error(r(90));Zn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&ou(c)}break e;case"textarea":bt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Mi(i,!!l.multiple,a,!1)}}}var ri=!1;function yf(i,a,l){if(ri)return i(a,l);ri=!0;try{var c=i(a);return c}finally{if(ri=!1,(Li!==null||Ui!==null)&&(ch(),Li&&(a=Li,i=Ui,Ui=Li=null,cu(a),i)))for(a=0;a<i.length;a++)cu(i[a])}}function ka(i,a){var l=i.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(kr)try{var La={};Object.defineProperty(La,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Sr=!1}var ii=null,Rs=null,Vi=null;function fu(){if(Vi)return Vi;var i,a=Rs,l=a.length,c,m="value"in ii?ii.value:ii.textContent,p=m.length;for(i=0;i<l&&a[i]===m[i];i++);var b=l-i;for(c=1;c<=b&&a[l-c]===m[p-c];c++);return Vi=m.slice(i,1<c?1-c:void 0)}function si(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ai(){return!0}function hu(){return!1}function ln(i){function a(l,c,m,p,b){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ai:hu,this.isPropagationStopped=hu,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),a}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=ln(yt),Ua=y({},yt,{view:0,detail:0}),vf=ln(Ua),Uo,Vo,oi,Va=y({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(Uo=i.screenX-oi.screenX,Vo=i.screenY-oi.screenY):Vo=Uo=0,oi=i),Uo)},movementY:function(i){return"movementY"in i?i.movementY:Vo}}),br=ln(Va),_f=y({},Va,{dataTransfer:0}),km=ln(_f),ja=y({},Ua,{relatedTarget:0}),jo=ln(ja),du=y({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=ln(du),Ef=y({},yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fo=ln(Ef),Lm=y({},yt,{data:0}),mu=ln(Lm),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=bf[i])?!!a[i]:!1}function Fa(){return gu}var Tf=y({},Ua,{key:function(i){if(i.key){var a=za[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(i){return i.type==="keypress"?si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Bo=ln(Tf),wf=y({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=ln(wf),ji=y({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Af=ln(ji),Cf=y({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=ln(Cf),xf=y({},Va,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ho=ln(xf),zn=y({},yt,{newState:0,oldState:0}),If=ln(zn),Of=[9,13,27,32],li=kr&&"CompositionEvent"in window,h=null;kr&&"documentMode"in document&&(h=document.documentMode);var v=kr&&"TextEvent"in window&&!h,S=kr&&(!li||h&&8<h&&11>=h),C=" ",K=!1;function ne(i,a){switch(i){case"keyup":return Of.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lt=!1;function en(i,a){switch(i){case"compositionend":return pe(a);case"keypress":return a.which!==32?null:(K=!0,C);case"textInput":return i=a.data,i===C&&K?null:i;default:return null}}function ut(i,a){if(lt)return i==="compositionend"||!li&&ne(i,a)?(i=fu(),Vi=Rs=ii=null,lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!un[i.type]:a==="textarea"}function zi(i,a,l,c){Li?Ui?Ui.push(c):Ui=[c]:Li=c,a=ph(a,"onChange"),0<a.length&&(l=new Lo("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var pn=null,ui=null;function yu(i){A1(i,0)}function Df(i){var a=pt(i);if(ou(a))return i}function G_(i,a){if(i==="change")return a}var K_=!1;if(kr){var Um;if(kr){var Vm="oninput"in document;if(!Vm){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Vm=typeof Y_.oninput=="function"}Um=Vm}else Um=!1;K_=Um&&(!document.documentMode||9<document.documentMode)}function Q_(){pn&&(pn.detachEvent("onpropertychange",X_),ui=pn=null)}function X_(i){if(i.propertyName==="value"&&Df(ui)){var a=[];zi(a,ui,i,Er(i)),yf(yu,a)}}function g2(i,a,l){i==="focusin"?(Q_(),pn=a,ui=l,pn.attachEvent("onpropertychange",X_)):i==="focusout"&&Q_()}function p2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Df(ui)}function y2(i,a){if(i==="click")return Df(a)}function v2(i,a){if(i==="input"||i==="change")return Df(a)}function _2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Jn=typeof Object.is=="function"?Object.is:_2;function vu(i,a){if(Jn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Qr.call(a,m)||!Jn(i[m],a[m]))return!1}return!0}function W_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Z_(i,a){var l=W_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=W_(l)}}function J_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?J_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function e0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Da(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Da(i.document)}return a}function jm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var E2=kr&&"documentMode"in document&&11>=document.documentMode,qo=null,zm=null,_u=null,Fm=!1;function t0(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fm||qo==null||qo!==Da(c)||(c=qo,"selectionStart"in c&&jm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_u&&vu(_u,c)||(_u=c,c=ph(zm,"onSelect"),0<c.length&&(a=new Lo("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=qo)))}function Ba(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var $o={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Bm={},n0={};kr&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Ha(i){if(Bm[i])return Bm[i];if(!$o[i])return i;var a=$o[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in n0)return Bm[i]=a[l];return i}var r0=Ha("animationend"),i0=Ha("animationiteration"),s0=Ha("animationstart"),S2=Ha("transitionrun"),b2=Ha("transitionstart"),T2=Ha("transitioncancel"),a0=Ha("transitionend"),o0=new Map,Hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hm.push("scrollEnd");function Lr(i,a){o0.set(i,a),Jt(a,[i])}var l0=new WeakMap;function Tr(i,a){if(typeof i=="object"&&i!==null){var l=l0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Pi(a)},l0.set(i,a),a)}return{value:i,source:a,stack:Pi(a)}}var wr=[],Go=0,qm=0;function Nf(){for(var i=Go,a=qm=Go=0;a<i;){var l=wr[a];wr[a++]=null;var c=wr[a];wr[a++]=null;var m=wr[a];wr[a++]=null;var p=wr[a];if(wr[a++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}p!==0&&u0(l,m,p)}}function Pf(i,a,l,c){wr[Go++]=i,wr[Go++]=a,wr[Go++]=l,wr[Go++]=c,qm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function $m(i,a,l,c){return Pf(i,a,l,c),Mf(i)}function Ko(i,a){return Pf(i,null,null,a),Mf(i)}function u0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=i.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&a!==null&&(m=31-Kt(l),i=p.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),p):null}function Mf(i){if(50<qu)throw qu=0,Wg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Yo={};function w2(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(i,a,l,c){return new w2(i,a,l,c)}function Gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,a){var l=i.alternate;return l===null?(l=er(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function c0(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function kf(i,a,l,c,m,p){var b=0;if(c=i,typeof i=="function")Gm(i)&&(b=1);else if(typeof i=="string")b=CI(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=er(31,l,a,m),i.elementType=R,i.lanes=p,i;case A:return qa(l.children,m,p,a);case k:b=8,m|=24;break;case M:return i=er(12,l,a,m|2),i.elementType=M,i.lanes=p,i;case te:return i=er(13,l,a,m),i.elementType=te,i.lanes=p,i;case B:return i=er(19,l,a,m),i.elementType=B,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case Q:b=10;break e;case G:b=9;break e;case re:b=11;break e;case D:b=14;break e;case I:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=er(b,l,a,m),a.elementType=i,a.type=c,a.lanes=p,a}function qa(i,a,l,c){return i=er(7,i,c,a),i.lanes=l,i}function Km(i,a,l){return i=er(6,i,null,a),i.lanes=l,i}function Ym(i,a,l){return a=er(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Qo=[],Xo=0,Lf=null,Uf=0,Ar=[],Cr=0,$a=null,Bi=1,Hi="";function Ga(i,a){Qo[Xo++]=Uf,Qo[Xo++]=Lf,Lf=i,Uf=a}function f0(i,a,l){Ar[Cr++]=Bi,Ar[Cr++]=Hi,Ar[Cr++]=$a,$a=i;var c=Bi;i=Hi;var m=32-Kt(c)-1;c&=~(1<<m),l+=1;var p=32-Kt(a)+m;if(30<p){var b=m-m%5;p=(c&(1<<b)-1).toString(32),c>>=b,m-=b,Bi=1<<32-Kt(a)+m|l<<m|c,Hi=p+i}else Bi=1<<p|l<<m|c,Hi=i}function Qm(i){i.return!==null&&(Ga(i,1),f0(i,1,0))}function Xm(i){for(;i===Lf;)Lf=Qo[--Xo],Qo[Xo]=null,Uf=Qo[--Xo],Qo[Xo]=null;for(;i===$a;)$a=Ar[--Cr],Ar[Cr]=null,Hi=Ar[--Cr],Ar[Cr]=null,Bi=Ar[--Cr],Ar[Cr]=null}var Fn=null,Vt=null,gt=!1,Ka=null,ci=!1,Wm=Error(r(519));function Ya(i){var a=Error(r(418,""));throw bu(Tr(a,i)),Wm}function h0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[le]=i,a[me]=c,l){case"dialog":nt("cancel",a),nt("close",a);break;case"iframe":case"object":case"embed":nt("load",a);break;case"video":case"audio":for(l=0;l<Gu.length;l++)nt(Gu[l],a);break;case"source":nt("error",a);break;case"img":case"image":case"link":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"input":nt("invalid",a),Na(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mo(a);break;case"select":nt("invalid",a);break;case"textarea":nt("invalid",a),Pa(a,c.value,c.defaultValue,c.children),Mo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||I1(a.textContent,l)?(c.popover!=null&&(nt("beforetoggle",a),nt("toggle",a)),c.onScroll!=null&&nt("scroll",a),c.onScrollEnd!=null&&nt("scrollend",a),c.onClick!=null&&(a.onclick=yh),a=!0):a=!1,a||Ya(i)}function d0(i){for(Fn=i.return;Fn;)switch(Fn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Fn=Fn.return}}function Eu(i){if(i!==Fn)return!1;if(!gt)return d0(i),gt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||dp(i.type,i.memoizedProps)),l=!l),l&&Vt&&Ya(i),d0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Vt=Vr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Vt=null}}else a===27?(a=Vt,Hs(i.type)?(i=yp,yp=null,Vt=i):Vt=a):Vt=Fn?Vr(i.stateNode.nextSibling):null;return!0}function Su(){Vt=Fn=null,gt=!1}function m0(){var i=Ka;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),Ka=null),i}function bu(i){Ka===null?Ka=[i]:Ka.push(i)}var Zm=ie(null),Qa=null,qi=null;function xs(i,a,l){oe(Zm,a._currentValue),a._currentValue=l}function $i(i){i._currentValue=Zm.current,de(Zm)}function Jm(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function eg(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=m;for(var L=0;L<a.length;L++)if(w.context===a[L]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Jm(p.return,l,i),c||(b=null);break e}p=w.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Jm(b,l,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Tu(i,a,l,c){i=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=m.type;Jn(m.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(m===Gt.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Zu):i=[Zu])}m=m.return}i!==null&&eg(a,i,l,c),a.flags|=262144}function Vf(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xa(i){Qa=i,qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return g0(Qa,i)}function jf(i,a){return Qa===null&&Xa(i),g0(i,a)}function g0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qi===null){if(i===null)throw Error(r(308));qi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else qi=qi.next=a;return l}var A2=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},C2=t.unstable_scheduleCallback,R2=t.unstable_NormalPriority,nn={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new A2,data:new Map,refCount:0}}function wu(i){i.refCount--,i.refCount===0&&C2(R2,function(){i.controller.abort()})}var Au=null,ng=0,Wo=0,Zo=null;function x2(i,a){if(Au===null){var l=Au=[];ng=0,Wo=ip(),Zo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ng++,a.then(p0,p0),a}function p0(){if(--ng===0&&Au!==null){Zo!==null&&(Zo.status="fulfilled");var i=Au;Au=null,Wo=0,Zo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function I2(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var y0=Y.S;Y.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&x2(i,a),y0!==null&&y0(i,a)};var Wa=ie(null);function rg(){var i=Wa.current;return i!==null?i:xt.pooledCache}function zf(i,a){a===null?oe(Wa,Wa.current):oe(Wa,a.pool)}function v0(){var i=rg();return i===null?null:{parent:nn._currentValue,pool:i}}var Cu=Error(r(460)),_0=Error(r(474)),Ff=Error(r(542)),ig={then:function(){}};function E0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bf(){}function S0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Bf,Bf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T0(i),i;default:if(typeof a.status=="string")a.then(Bf,Bf);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T0(i),i}throw Ru=a,Cu}}var Ru=null;function b0(){if(Ru===null)throw Error(r(459));var i=Ru;return Ru=null,i}function T0(i){if(i===Cu||i===Ff)throw Error(r(483))}var Is=!1;function sg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(_t&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Mf(i),u0(i,null,l),a}return Pf(i,c,a,l),Mf(i)}function xu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Jr(i,l)}}function og(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var lg=!1;function Iu(){if(lg){var i=Zo;if(i!==null)throw i}}function Ou(i,a,l,c){lg=!1;var m=i.updateQueue;Is=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var L=w,Z=L.next;L.next=null,b===null?p=Z:b.next=Z,b=L;var se=i.alternate;se!==null&&(se=se.updateQueue,w=se.lastBaseUpdate,w!==b&&(w===null?se.firstBaseUpdate=Z:w.next=Z,se.lastBaseUpdate=L))}if(p!==null){var ue=m.baseState;b=0,se=Z=L=null,w=p;do{var J=w.lane&-536870913,ee=J!==w.lane;if(ee?(ct&J)===J:(c&J)===J){J!==0&&J===Wo&&(lg=!0),se!==null&&(se=se.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Fe=i,ke=w;J=a;var At=l;switch(ke.tag){case 1:if(Fe=ke.payload,typeof Fe=="function"){ue=Fe.call(At,ue,J);break e}ue=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ke.payload,J=typeof Fe=="function"?Fe.call(At,ue,J):Fe,J==null)break e;ue=y({},ue,J);break e;case 2:Is=!0}}J=w.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:w.tag,payload:w.payload,callback:w.callback,next:null},se===null?(Z=se=ee,L=ue):se=se.next=ee,b|=J;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;ee=w,w=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(L=ue),m.baseState=L,m.firstBaseUpdate=Z,m.lastBaseUpdate=se,p===null&&(m.shared.lanes=0),js|=b,i.lanes=b,i.memoizedState=ue}}function w0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function A0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)w0(l[i],a)}var Jo=ie(null),Hf=ie(0);function C0(i,a){i=Zi,oe(Hf,i),oe(Jo,a),Zi=i|a.baseLanes}function ug(){oe(Hf,Zi),oe(Jo,Jo.current)}function cg(){Zi=Hf.current,de(Jo),de(Hf)}var Ns=0,Qe=null,Tt=null,Xt=null,qf=!1,el=!1,Za=!1,$f=0,Du=0,tl=null,O2=0;function Bt(){throw Error(r(321))}function fg(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Jn(i[l],a[l]))return!1;return!0}function hg(i,a,l,c,m,p){return Ns=p,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=i===null||i.memoizedState===null?uE:cE,Za=!1,p=l(c,m),Za=!1,el&&(p=x0(a,l,c,m)),R0(i),p}function R0(i){Y.H=Wf;var a=Tt!==null&&Tt.next!==null;if(Ns=0,Xt=Tt=Qe=null,qf=!1,Du=0,tl=null,a)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&Vf(i)&&(cn=!0))}function x0(i,a,l,c){Qe=i;var m=0;do{if(el&&(tl=null),Du=0,el=!1,25<=m)throw Error(r(301));if(m+=1,Xt=Tt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=U2,p=a(l,c)}while(el);return p}function D2(){var i=Y.H,a=i.useState()[0];return a=typeof a.then=="function"?Nu(a):a,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Qe.flags|=1024),a}function dg(){var i=$f!==0;return $f=0,i}function mg(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function gg(i){if(qf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}qf=!1}Ns=0,Xt=Tt=Qe=null,el=!1,Du=$f=0,tl=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Qe.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Wt(){if(Tt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var a=Xt===null?Qe.memoizedState:Xt.next;if(a!==null)Xt=a,Tt=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Xt===null?Qe.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var a=Du;return Du+=1,tl===null&&(tl=[]),i=S0(tl,i,a),a=Qe,(Xt===null?a.memoizedState:Xt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?uE:cE),i}function Gf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===Q)return xn(i)}throw Error(r(438,String(i)))}function yg(i){var a=null,l=Qe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=pg(),Qe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=P;return a.index++,l}function Gi(i,a){return typeof a=="function"?a(i):a}function Kf(i){var a=Wt();return vg(a,Tt,i)}function vg(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,p=c.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}a.baseQueue=m=p,c.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{a=m.next;var w=b=null,L=null,Z=a,se=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ct&ue)===ue:(Ns&ue)===ue){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Wo&&(se=!0);else if((Ns&J)===J){Z=Z.next,J===Wo&&(se=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=ue,b=p):L=L.next=ue,Qe.lanes|=J,js|=J;ue=Z.action,Za&&l(p,ue),p=Z.hasEagerState?Z.eagerState:l(p,ue)}else J={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=J,b=p):L=L.next=J,Qe.lanes|=ue,js|=ue;Z=Z.next}while(Z!==null&&Z!==a);if(L===null?b=p:L.next=w,!Jn(p,i.memoizedState)&&(cn=!0,se&&(l=Zo,l!==null)))throw l;i.memoizedState=p,i.baseState=b,i.baseQueue=L,c.lastRenderedState=p}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function _g(i){var a=Wt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=i(p,b.action),b=b.next;while(b!==m);Jn(p,a.memoizedState)||(cn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function I0(i,a,l){var c=Qe,m=Wt(),p=gt;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=a();var b=!Jn((Tt||m).memoizedState,l);b&&(m.memoizedState=l,cn=!0),m=m.queue;var w=N0.bind(null,c,m,i);if(Pu(2048,8,w,[i]),m.getSnapshot!==a||b||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,nl(9,Yf(),D0.bind(null,c,m,l,a),null),xt===null)throw Error(r(349));p||(Ns&124)!==0||O0(c,a,l)}return l}function O0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Qe.updateQueue,a===null?(a=pg(),Qe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function D0(i,a,l,c){a.value=l,a.getSnapshot=c,P0(a)&&M0(i)}function N0(i,a,l){return l(function(){P0(a)&&M0(i)})}function P0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Jn(i,l)}catch{return!0}}function M0(i){var a=Ko(i,2);a!==null&&sr(a,i,2)}function Eg(i){var a=Hn();if(typeof i=="function"){var l=i;if(i=l(),Za){Cn(!0);try{l()}finally{Cn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},a}function k0(i,a,l,c){return i.baseState=l,vg(i,Tt,typeof c=="function"?c:Gi)}function N2(i,a,l,c,m){if(Xf(i))throw Error(r(485));if(i=a.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Y.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,L0(a,p)):(p.next=l.next,a.pending=l.next=p)}}function L0(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var p=Y.T,b={};Y.T=b;try{var w=l(m,c),L=Y.S;L!==null&&L(b,w),U0(i,a,w)}catch(Z){Sg(i,a,Z)}finally{Y.T=p}}else try{p=l(m,c),U0(i,a,p)}catch(Z){Sg(i,a,Z)}}function U0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){V0(i,a,c)},function(c){return Sg(i,a,c)}):V0(i,a,l)}function V0(i,a,l){a.status="fulfilled",a.value=l,j0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,L0(i,l)))}function Sg(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,j0(a),a=a.next;while(a!==c)}i.action=null}function j0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function z0(i,a){return a}function F0(i,a){if(gt){var l=xt.formState;if(l!==null){e:{var c=Qe;if(gt){if(Vt){t:{for(var m=Vt,p=ci;m.nodeType!==8;){if(!p){m=null;break t}if(m=Vr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Vt=Vr(m.nextSibling),c=m.data==="F!";break e}}Ya(c)}c=!1}c&&(a=l[0])}}return l=Hn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:a},l.queue=c,l=aE.bind(null,Qe,c),c.dispatch=l,c=Eg(!1),p=Cg.bind(null,Qe,!1,c.queue),c=Hn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=N2.bind(null,Qe,m,p,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function B0(i){var a=Wt();return H0(a,Tt,i)}function H0(i,a,l){if(a=vg(i,a,z0)[0],i=Kf(Gi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Nu(a)}catch(b){throw b===Cu?Ff:b}else c=a;a=Wt();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Qe.flags|=2048,nl(9,Yf(),P2.bind(null,m,l),null)),[c,p,i]}function P2(i,a){i.action=a}function q0(i){var a=Wt(),l=Tt;if(l!==null)return H0(a,l,i);Wt(),a=a.memoizedState,l=Wt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function nl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=pg(),Qe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Yf(){return{destroy:void 0,resource:void 0}}function $0(){return Wt().memoizedState}function Qf(i,a,l,c){var m=Hn();c=c===void 0?null:c,Qe.flags|=i,m.memoizedState=nl(1|a,Yf(),l,c)}function Pu(i,a,l,c){var m=Wt();c=c===void 0?null:c;var p=m.memoizedState.inst;Tt!==null&&c!==null&&fg(c,Tt.memoizedState.deps)?m.memoizedState=nl(a,p,l,c):(Qe.flags|=i,m.memoizedState=nl(1|a,p,l,c))}function G0(i,a){Qf(8390656,8,i,a)}function K0(i,a){Pu(2048,8,i,a)}function Y0(i,a){return Pu(4,2,i,a)}function Q0(i,a){return Pu(4,4,i,a)}function X0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function W0(i,a,l){l=l!=null?l.concat([i]):null,Pu(4,4,X0.bind(null,a,i),l)}function bg(){}function Z0(i,a){var l=Wt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&fg(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function J0(i,a){var l=Wt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&fg(a,c[1]))return c[0];if(c=i(),Za){Cn(!0);try{i()}finally{Cn(!1)}}return l.memoizedState=[c,a],c}function Tg(i,a,l){return l===void 0||(Ns&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=n1(),Qe.lanes|=i,js|=i,l)}function eE(i,a,l,c){return Jn(l,a)?l:Jo.current!==null?(i=Tg(i,l,c),Jn(i,a)||(cn=!0),i):(Ns&42)===0?(cn=!0,i.memoizedState=l):(i=n1(),Qe.lanes|=i,js|=i,a)}function tE(i,a,l,c,m){var p=fe.p;fe.p=p!==0&&8>p?p:8;var b=Y.T,w={};Y.T=w,Cg(i,!1,a,l);try{var L=m(),Z=Y.S;if(Z!==null&&Z(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=I2(L,c);Mu(i,a,se,ir(i))}else Mu(i,a,c,ir(i))}catch(ue){Mu(i,a,{then:function(){},status:"rejected",reason:ue},ir())}finally{fe.p=p,Y.T=b}}function M2(){}function wg(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=nE(i).queue;tE(i,m,a,ye,l===null?M2:function(){return rE(i),l(c)})}function nE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ye},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function rE(i){var a=nE(i).next.queue;Mu(i,a,{},ir())}function Ag(){return xn(Zu)}function iE(){return Wt().memoizedState}function sE(){return Wt().memoizedState}function k2(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ir();i=Os(l);var c=Ds(a,i,l);c!==null&&(sr(c,a,l),xu(c,a,l)),a={cache:tg()},i.payload=a;return}a=a.return}}function L2(i,a,l){var c=ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xf(i)?oE(a,l):(l=$m(i,a,l,c),l!==null&&(sr(l,i,c),lE(l,a,c)))}function aE(i,a,l){var c=ir();Mu(i,a,l,c)}function Mu(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xf(i))oE(a,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,w=p(b,l);if(m.hasEagerState=!0,m.eagerState=w,Jn(w,b))return Pf(i,a,m,0),xt===null&&Nf(),!1}catch{}finally{}if(l=$m(i,a,m,c),l!==null)return sr(l,i,c),lE(l,a,c),!0}return!1}function Cg(i,a,l,c){if(c={lane:2,revertLane:ip(),action:c,hasEagerState:!1,eagerState:null,next:null},Xf(i)){if(a)throw Error(r(479))}else a=$m(i,l,c,2),a!==null&&sr(a,i,2)}function Xf(i){var a=i.alternate;return i===Qe||a!==null&&a===Qe}function oE(i,a){el=qf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function lE(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Jr(i,l)}}var Wf={readContext:xn,use:Gf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},uE={readContext:xn,use:Gf,useCallback:function(i,a){return Hn().memoizedState=[i,a===void 0?null:a],i},useContext:xn,useEffect:G0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Qf(4194308,4,X0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Qf(4194308,4,i,a)},useInsertionEffect:function(i,a){Qf(4,2,i,a)},useMemo:function(i,a){var l=Hn();a=a===void 0?null:a;var c=i();if(Za){Cn(!0);try{i()}finally{Cn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Hn();if(l!==void 0){var m=l(a);if(Za){Cn(!0);try{l(a)}finally{Cn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=L2.bind(null,Qe,i),[c.memoizedState,i]},useRef:function(i){var a=Hn();return i={current:i},a.memoizedState=i},useState:function(i){i=Eg(i);var a=i.queue,l=aE.bind(null,Qe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:bg,useDeferredValue:function(i,a){var l=Hn();return Tg(l,i,a)},useTransition:function(){var i=Eg(!1);return i=tE.bind(null,Qe,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Qe,m=Hn();if(gt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),xt===null)throw Error(r(349));(ct&124)!==0||O0(c,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,G0(N0.bind(null,c,p,i),[i]),c.flags|=2048,nl(9,Yf(),D0.bind(null,c,p,l,a),null),l},useId:function(){var i=Hn(),a=xt.identifierPrefix;if(gt){var l=Hi,c=Bi;l=(c&~(1<<32-Kt(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=$f++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=O2++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Ag,useFormState:F0,useActionState:F0,useOptimistic:function(i){var a=Hn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Cg.bind(null,Qe,!0,l),l.dispatch=a,[i,a]},useMemoCache:yg,useCacheRefresh:function(){return Hn().memoizedState=k2.bind(null,Qe)}},cE={readContext:xn,use:Gf,useCallback:Z0,useContext:xn,useEffect:K0,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:J0,useReducer:Kf,useRef:$0,useState:function(){return Kf(Gi)},useDebugValue:bg,useDeferredValue:function(i,a){var l=Wt();return eE(l,Tt.memoizedState,i,a)},useTransition:function(){var i=Kf(Gi)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:Nu(i),a]},useSyncExternalStore:I0,useId:iE,useHostTransitionStatus:Ag,useFormState:B0,useActionState:B0,useOptimistic:function(i,a){var l=Wt();return k0(l,Tt,i,a)},useMemoCache:yg,useCacheRefresh:sE},U2={readContext:xn,use:Gf,useCallback:Z0,useContext:xn,useEffect:K0,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:J0,useReducer:_g,useRef:$0,useState:function(){return _g(Gi)},useDebugValue:bg,useDeferredValue:function(i,a){var l=Wt();return Tt===null?Tg(l,i,a):eE(l,Tt.memoizedState,i,a)},useTransition:function(){var i=_g(Gi)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:Nu(i),a]},useSyncExternalStore:I0,useId:iE,useHostTransitionStatus:Ag,useFormState:q0,useActionState:q0,useOptimistic:function(i,a){var l=Wt();return Tt!==null?k0(l,Tt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:yg,useCacheRefresh:sE},rl=null,ku=0;function Zf(i){var a=ku;return ku+=1,rl===null&&(rl=[]),S0(rl,i,a)}function Lu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Jf(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function fE(i){var a=i._init;return a(i._payload)}function hE(i){function a(q,H){if(i){var X=q.deletions;X===null?(q.deletions=[H],q.flags|=16):X.push(H)}}function l(q,H){if(!i)return null;for(;H!==null;)a(q,H),H=H.sibling;return null}function c(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function m(q,H){return q=Fi(q,H),q.index=0,q.sibling=null,q}function p(q,H,X){return q.index=X,i?(X=q.alternate,X!==null?(X=X.index,X<H?(q.flags|=67108866,H):X):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,H,X,ae){return H===null||H.tag!==6?(H=Km(X,q.mode,ae),H.return=q,H):(H=m(H,X),H.return=q,H)}function L(q,H,X,ae){var Te=X.type;return Te===A?se(q,H,X.props.children,ae,X.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&fE(Te)===H.type)?(H=m(H,X.props),Lu(H,X),H.return=q,H):(H=kf(X.type,X.key,X.props,null,q.mode,ae),Lu(H,X),H.return=q,H)}function Z(q,H,X,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Ym(X,q.mode,ae),H.return=q,H):(H=m(H,X.children||[]),H.return=q,H)}function se(q,H,X,ae,Te){return H===null||H.tag!==7?(H=qa(X,q.mode,ae,Te),H.return=q,H):(H=m(H,X),H.return=q,H)}function ue(q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Km(""+H,q.mode,X),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return X=kf(H.type,H.key,H.props,null,q.mode,X),Lu(X,H),X.return=q,X;case T:return H=Ym(H,q.mode,X),H.return=q,H;case I:var ae=H._init;return H=ae(H._payload),ue(q,H,X)}if(Ve(H)||V(H))return H=qa(H,q.mode,X,null),H.return=q,H;if(typeof H.then=="function")return ue(q,Zf(H),X);if(H.$$typeof===Q)return ue(q,jf(q,H),X);Jf(q,H)}return null}function J(q,H,X,ae){var Te=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Te!==null?null:w(q,H,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Te?L(q,H,X,ae):null;case T:return X.key===Te?Z(q,H,X,ae):null;case I:return Te=X._init,X=Te(X._payload),J(q,H,X,ae)}if(Ve(X)||V(X))return Te!==null?null:se(q,H,X,ae,null);if(typeof X.then=="function")return J(q,H,Zf(X),ae);if(X.$$typeof===Q)return J(q,H,jf(q,X),ae);Jf(q,X)}return null}function ee(q,H,X,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(X)||null,w(H,q,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return q=q.get(ae.key===null?X:ae.key)||null,L(H,q,ae,Te);case T:return q=q.get(ae.key===null?X:ae.key)||null,Z(H,q,ae,Te);case I:var Ze=ae._init;return ae=Ze(ae._payload),ee(q,H,X,ae,Te)}if(Ve(ae)||V(ae))return q=q.get(X)||null,se(H,q,ae,Te,null);if(typeof ae.then=="function")return ee(q,H,X,Zf(ae),Te);if(ae.$$typeof===Q)return ee(q,H,X,jf(H,ae),Te);Jf(H,ae)}return null}function Fe(q,H,X,ae){for(var Te=null,Ze=null,xe=H,Ue=H=0,hn=null;xe!==null&&Ue<X.length;Ue++){xe.index>Ue?(hn=xe,xe=null):hn=xe.sibling;var dt=J(q,xe,X[Ue],ae);if(dt===null){xe===null&&(xe=hn);break}i&&xe&&dt.alternate===null&&a(q,xe),H=p(dt,H,Ue),Ze===null?Te=dt:Ze.sibling=dt,Ze=dt,xe=hn}if(Ue===X.length)return l(q,xe),gt&&Ga(q,Ue),Te;if(xe===null){for(;Ue<X.length;Ue++)xe=ue(q,X[Ue],ae),xe!==null&&(H=p(xe,H,Ue),Ze===null?Te=xe:Ze.sibling=xe,Ze=xe);return gt&&Ga(q,Ue),Te}for(xe=c(xe);Ue<X.length;Ue++)hn=ee(xe,q,Ue,X[Ue],ae),hn!==null&&(i&&hn.alternate!==null&&xe.delete(hn.key===null?Ue:hn.key),H=p(hn,H,Ue),Ze===null?Te=hn:Ze.sibling=hn,Ze=hn);return i&&xe.forEach(function(Ys){return a(q,Ys)}),gt&&Ga(q,Ue),Te}function ke(q,H,X,ae){if(X==null)throw Error(r(151));for(var Te=null,Ze=null,xe=H,Ue=H=0,hn=null,dt=X.next();xe!==null&&!dt.done;Ue++,dt=X.next()){xe.index>Ue?(hn=xe,xe=null):hn=xe.sibling;var Ys=J(q,xe,dt.value,ae);if(Ys===null){xe===null&&(xe=hn);break}i&&xe&&Ys.alternate===null&&a(q,xe),H=p(Ys,H,Ue),Ze===null?Te=Ys:Ze.sibling=Ys,Ze=Ys,xe=hn}if(dt.done)return l(q,xe),gt&&Ga(q,Ue),Te;if(xe===null){for(;!dt.done;Ue++,dt=X.next())dt=ue(q,dt.value,ae),dt!==null&&(H=p(dt,H,Ue),Ze===null?Te=dt:Ze.sibling=dt,Ze=dt);return gt&&Ga(q,Ue),Te}for(xe=c(xe);!dt.done;Ue++,dt=X.next())dt=ee(xe,q,Ue,dt.value,ae),dt!==null&&(i&&dt.alternate!==null&&xe.delete(dt.key===null?Ue:dt.key),H=p(dt,H,Ue),Ze===null?Te=dt:Ze.sibling=dt,Ze=dt);return i&&xe.forEach(function(VI){return a(q,VI)}),gt&&Ga(q,Ue),Te}function At(q,H,X,ae){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Te=X.key;H!==null;){if(H.key===Te){if(Te=X.type,Te===A){if(H.tag===7){l(q,H.sibling),ae=m(H,X.props.children),ae.return=q,q=ae;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&fE(Te)===H.type){l(q,H.sibling),ae=m(H,X.props),Lu(ae,X),ae.return=q,q=ae;break e}l(q,H);break}else a(q,H);H=H.sibling}X.type===A?(ae=qa(X.props.children,q.mode,ae,X.key),ae.return=q,q=ae):(ae=kf(X.type,X.key,X.props,null,q.mode,ae),Lu(ae,X),ae.return=q,q=ae)}return b(q);case T:e:{for(Te=X.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){l(q,H.sibling),ae=m(H,X.children||[]),ae.return=q,q=ae;break e}else{l(q,H);break}else a(q,H);H=H.sibling}ae=Ym(X,q.mode,ae),ae.return=q,q=ae}return b(q);case I:return Te=X._init,X=Te(X._payload),At(q,H,X,ae)}if(Ve(X))return Fe(q,H,X,ae);if(V(X)){if(Te=V(X),typeof Te!="function")throw Error(r(150));return X=Te.call(X),ke(q,H,X,ae)}if(typeof X.then=="function")return At(q,H,Zf(X),ae);if(X.$$typeof===Q)return At(q,H,jf(q,X),ae);Jf(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(l(q,H.sibling),ae=m(H,X),ae.return=q,q=ae):(l(q,H),ae=Km(X,q.mode,ae),ae.return=q,q=ae),b(q)):l(q,H)}return function(q,H,X,ae){try{ku=0;var Te=At(q,H,X,ae);return rl=null,Te}catch(xe){if(xe===Cu||xe===Ff)throw xe;var Ze=er(29,xe,null,q.mode);return Ze.lanes=ae,Ze.return=q,Ze}finally{}}}var il=hE(!0),dE=hE(!1),Rr=ie(null),fi=null;function Ps(i){var a=i.alternate;oe(rn,rn.current&1),oe(Rr,i),fi===null&&(a===null||Jo.current!==null||a.memoizedState!==null)&&(fi=i)}function mE(i){if(i.tag===22){if(oe(rn,rn.current),oe(Rr,i),fi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(fi=i)}}else Ms()}function Ms(){oe(rn,rn.current),oe(Rr,Rr.current)}function Ki(i){de(Rr),fi===i&&(fi=null),de(rn)}var rn=ie(0);function eh(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||pp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Rg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xg={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=ir(),m=Os(c);m.payload=a,l!=null&&(m.callback=l),a=Ds(i,m,c),a!==null&&(sr(a,i,c),xu(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=ir(),m=Os(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Ds(i,m,c),a!==null&&(sr(a,i,c),xu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ir(),c=Os(l);c.tag=2,a!=null&&(c.callback=a),a=Ds(i,c,l),a!==null&&(sr(a,i,l),xu(a,i,l))}};function gE(i,a,l,c,m,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):a.prototype&&a.prototype.isPureReactComponent?!vu(l,c)||!vu(m,p):!0}function pE(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&xg.enqueueReplaceState(a,a.state,null)}function Ja(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function yE(i){th(i)}function vE(i){console.error(i)}function _E(i){th(i)}function nh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function EE(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ig(i,a,l){return l=Os(l),l.tag=3,l.payload={element:null},l.callback=function(){nh(i,a)},l}function SE(i){return i=Os(i),i.tag=3,i}function bE(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;i.payload=function(){return m(p)},i.callback=function(){EE(a,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){EE(a,l,c),typeof m!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function V2(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Tu(a,l,m,!0),l=Rr.current,l!==null){switch(l.tag){case 13:return fi===null?Jg():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===ig?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),tp(i,c,m)),!1;case 22:return l.flags|=65536,c===ig?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),tp(i,c,m)),!1}throw Error(r(435,l.tag))}return tp(i,c,m),Jg(),!1}if(gt)return a=Rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Wm&&(i=Error(r(422),{cause:c}),bu(Tr(i,l)))):(c!==Wm&&(a=Error(r(423),{cause:c}),bu(Tr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Tr(c,l),m=Ig(i.stateNode,c,m),og(i,m),jt!==4&&(jt=2)),!1;var p=Error(r(520),{cause:c});if(p=Tr(p,l),Hu===null?Hu=[p]:Hu.push(p),jt!==4&&(jt=2),a===null)return!0;c=Tr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Ig(l.stateNode,c,i),og(l,i),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zs===null||!zs.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=SE(m),bE(m,i,l,c),og(l,m),!1}l=l.return}while(l!==null);return!1}var TE=Error(r(461)),cn=!1;function yn(i,a,l,c){a.child=i===null?dE(a,null,l,c):il(a,i.child,l,c)}function wE(i,a,l,c,m){l=l.render;var p=a.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return Xa(a),c=hg(i,a,l,b,p,m),w=dg(),i!==null&&!cn?(mg(i,a,m),Yi(i,a,m)):(gt&&w&&Qm(a),a.flags|=1,yn(i,a,c,m),a.child)}function AE(i,a,l,c,m){if(i===null){var p=l.type;return typeof p=="function"&&!Gm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,CE(i,a,p,c,m)):(i=kf(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Ug(i,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:vu,l(b,c)&&i.ref===a.ref)return Yi(i,a,m)}return a.flags|=1,i=Fi(p,c),i.ref=a.ref,i.return=a,a.child=i}function CE(i,a,l,c,m){if(i!==null){var p=i.memoizedProps;if(vu(p,c)&&i.ref===a.ref)if(cn=!1,a.pendingProps=c=p,Ug(i,m))(i.flags&131072)!==0&&(cn=!0);else return a.lanes=i.lanes,Yi(i,a,m)}return Og(i,a,l,c,m)}function RE(i,a,l){var c=a.pendingProps,m=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,i!==null){for(m=a.child=i.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return xE(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&zf(a,p!==null?p.cachePool:null),p!==null?C0(a,p):ug(),mE(a);else return a.lanes=a.childLanes=536870912,xE(i,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(zf(a,p.cachePool),C0(a,p),Ms(),a.memoizedState=null):(i!==null&&zf(a,null),ug(),Ms());return yn(i,a,m,l),a.child}function xE(i,a,l,c){var m=rg();return m=m===null?null:{parent:nn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&zf(a,null),ug(),mE(a),i!==null&&Tu(i,a,c,!0),null}function rh(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Og(i,a,l,c,m){return Xa(a),l=hg(i,a,l,c,void 0,m),c=dg(),i!==null&&!cn?(mg(i,a,m),Yi(i,a,m)):(gt&&c&&Qm(a),a.flags|=1,yn(i,a,l,m),a.child)}function IE(i,a,l,c,m,p){return Xa(a),a.updateQueue=null,l=x0(a,c,l,m),R0(i),c=dg(),i!==null&&!cn?(mg(i,a,p),Yi(i,a,p)):(gt&&c&&Qm(a),a.flags|=1,yn(i,a,l,p),a.child)}function OE(i,a,l,c,m){if(Xa(a),a.stateNode===null){var p=Yo,b=l.contextType;typeof b=="object"&&b!==null&&(p=xn(b)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},sg(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?xn(b):Yo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Rg(a,l,b,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&xg.enqueueReplaceState(p,p.state,null),Ou(a,c,p,m),Iu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var w=a.memoizedProps,L=Ja(l,w);p.props=L;var Z=p.context,se=l.contextType;b=Yo,typeof se=="object"&&se!==null&&(b=xn(se));var ue=l.getDerivedStateFromProps;se=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,se||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Z!==b)&&pE(a,p,c,b),Is=!1;var J=a.memoizedState;p.state=J,Ou(a,c,p,m),Iu(),Z=a.memoizedState,w||J!==Z||Is?(typeof ue=="function"&&(Rg(a,l,ue,c),Z=a.memoizedState),(L=Is||gE(a,l,L,c,J,Z,b))?(se||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),p.props=c,p.state=Z,p.context=b,c=L):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,ag(i,a),b=a.memoizedProps,se=Ja(l,b),p.props=se,ue=a.pendingProps,J=p.context,Z=l.contextType,L=Yo,typeof Z=="object"&&Z!==null&&(L=xn(Z)),w=l.getDerivedStateFromProps,(Z=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ue||J!==L)&&pE(a,p,c,L),Is=!1,J=a.memoizedState,p.state=J,Ou(a,c,p,m),Iu();var ee=a.memoizedState;b!==ue||J!==ee||Is||i!==null&&i.dependencies!==null&&Vf(i.dependencies)?(typeof w=="function"&&(Rg(a,l,w,c),ee=a.memoizedState),(se=Is||gE(a,l,se,c,J,ee,L)||i!==null&&i.dependencies!==null&&Vf(i.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ee,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ee,L)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),p.props=c,p.state=ee,p.context=L,c=se):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,rh(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=il(a,i.child,null,m),a.child=il(a,null,l,m)):yn(i,a,l,m),a.memoizedState=p.state,i=a.child):i=Yi(i,a,m),i}function DE(i,a,l,c){return Su(),a.flags|=256,yn(i,a,l,c),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(i){return{baseLanes:i,cachePool:v0()}}function Pg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=xr),i}function NE(i,a,l){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(gt){if(m?Ps(a):Ms(),gt){var w=Vt,L;if(L=w){e:{for(L=w,w=ci;L.nodeType!==8;){if(!w){w=null;break e}if(L=Vr(L.nextSibling),L===null){w=null;break e}}w=L}w!==null?(a.memoizedState={dehydrated:w,treeContext:$a!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},L=er(18,null,null,0),L.stateNode=w,L.return=a,a.child=L,Fn=a,Vt=null,L=!0):L=!1}L||Ya(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return pp(w)?a.lanes=32:a.lanes=536870912,null;Ki(a)}return w=c.children,c=c.fallback,m?(Ms(),m=a.mode,w=ih({mode:"hidden",children:w},m),c=qa(c,m,l,null),w.return=a,c.return=a,w.sibling=c,a.child=w,m=a.child,m.memoizedState=Ng(l),m.childLanes=Pg(i,b,l),a.memoizedState=Dg,c):(Ps(a),Mg(a,w))}if(L=i.memoizedState,L!==null&&(w=L.dehydrated,w!==null)){if(p)a.flags&256?(Ps(a),a.flags&=-257,a=kg(i,a,l)):a.memoizedState!==null?(Ms(),a.child=i.child,a.flags|=128,a=null):(Ms(),m=c.fallback,w=a.mode,c=ih({mode:"visible",children:c.children},w),m=qa(m,w,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,il(a,i.child,null,l),c=a.child,c.memoizedState=Ng(l),c.childLanes=Pg(i,b,l),a.memoizedState=Dg,a=m);else if(Ps(a),pp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Z=b.dgst;b=Z,c=Error(r(419)),c.stack="",c.digest=b,bu({value:c,source:null,stack:null}),a=kg(i,a,l)}else if(cn||Tu(i,a,l,!1),b=(l&i.childLanes)!==0,cn||b){if(b=xt,b!==null&&(c=l&-l,c=(c&42)!==0?1:ei(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,Ko(i,c),sr(b,i,c),TE;w.data==="$?"||Jg(),a=kg(i,a,l)}else w.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=L.treeContext,Vt=Vr(w.nextSibling),Fn=a,gt=!0,Ka=null,ci=!1,i!==null&&(Ar[Cr++]=Bi,Ar[Cr++]=Hi,Ar[Cr++]=$a,Bi=i.id,Hi=i.overflow,$a=a),a=Mg(a,c.children),a.flags|=4096);return a}return m?(Ms(),m=c.fallback,w=a.mode,L=i.child,Z=L.sibling,c=Fi(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?m=Fi(Z,m):(m=qa(m,w,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,w=i.child.memoizedState,w===null?w=Ng(l):(L=w.cachePool,L!==null?(Z=nn._currentValue,L=L.parent!==Z?{parent:Z,pool:Z}:L):L=v0(),w={baseLanes:w.baseLanes|l,cachePool:L}),m.memoizedState=w,m.childLanes=Pg(i,b,l),a.memoizedState=Dg,c):(Ps(a),l=i.child,i=l.sibling,l=Fi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=l,a.memoizedState=null,l)}function Mg(i,a){return a=ih({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ih(i,a){return i=er(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function kg(i,a,l){return il(a,i.child,null,l),i=Mg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function PE(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Jm(i.return,a,l)}function Lg(i,a,l,c,m){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function ME(i,a,l){var c=a.pendingProps,m=c.revealOrder,p=c.tail;if(yn(i,a,c.children,l),c=rn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&PE(i,l,a);else if(i.tag===19)PE(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(oe(rn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&eh(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Lg(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&eh(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Lg(a,!0,l,null,p);break;case"together":Lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Yi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),js|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Tu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Fi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Fi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Ug(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Vf(i)))}function j2(i,a,l){switch(a.tag){case 3:St(a,a.stateNode.containerInfo),xs(a,nn,i.memoizedState.cache),Su();break;case 27:case 5:Dt(a);break;case 4:St(a,a.stateNode.containerInfo);break;case 10:xs(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(a),a.flags|=128,null):(l&a.child.childLanes)!==0?NE(i,a,l):(Ps(a),i=Yi(i,a,l),i!==null?i.sibling:null);Ps(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Tu(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return ME(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(rn,rn.current),c)break;return null;case 22:case 23:return a.lanes=0,RE(i,a,l);case 24:xs(a,nn,i.memoizedState.cache)}return Yi(i,a,l)}function kE(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)cn=!0;else{if(!Ug(i,l)&&(a.flags&128)===0)return cn=!1,j2(i,a,l);cn=(i.flags&131072)!==0}else cn=!1,gt&&(a.flags&1048576)!==0&&f0(a,Uf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Gm(c)?(i=Ja(c,i),a.tag=1,a=OE(null,a,c,i,l)):(a.tag=0,a=Og(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===re){a.tag=11,a=wE(null,a,c,i,l);break e}else if(m===D){a.tag=14,a=AE(null,a,c,i,l);break e}}throw a=Se(c)||c,Error(r(306,a,""))}}return a;case 0:return Og(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Ja(c,a.pendingProps),OE(i,a,c,m,l);case 3:e:{if(St(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,ag(i,a),Ou(a,c,null,l);var b=a.memoizedState;if(c=b.cache,xs(a,nn,c),c!==p.cache&&eg(a,[nn],l,!0),Iu(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=DE(i,a,c,l);break e}else if(c!==m){m=Tr(Error(r(424)),a),bu(m),a=DE(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=Vr(i.firstChild),Fn=a,gt=!0,Ka=null,ci=!0,l=dE(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Su(),c===m){a=Yi(i,a,l);break e}yn(i,a,c,l)}a=a.child}return a;case 26:return rh(i,a),i===null?(l=j1(a.type,null,a.pendingProps,null))?a.memoizedState=l:gt||(l=a.type,i=a.pendingProps,c=vh(De.current).createElement(l),c[le]=a,c[me]=i,_n(c,l,i),ot(c),a.stateNode=c):a.memoizedState=j1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Dt(a),i===null&&gt&&(c=a.stateNode=L1(a.type,a.pendingProps,De.current),Fn=a,ci=!0,m=Vt,Hs(a.type)?(yp=m,Vt=Vr(c.firstChild)):Vt=m),yn(i,a,a.pendingProps.children,l),rh(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gt&&((m=c=Vt)&&(c=dI(c,a.type,a.pendingProps,ci),c!==null?(a.stateNode=c,Fn=a,Vt=Vr(c.firstChild),ci=!1,m=!0):m=!1),m||Ya(a)),Dt(a),m=a.type,p=a.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,dp(m,p)?c=null:b!==null&&dp(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=hg(i,a,D2,null,null,l),Zu._currentValue=m),rh(i,a),yn(i,a,c,l),a.child;case 6:return i===null&&gt&&((i=l=Vt)&&(l=mI(l,a.pendingProps,ci),l!==null?(a.stateNode=l,Fn=a,Vt=null,i=!0):i=!1),i||Ya(a)),null;case 13:return NE(i,a,l);case 4:return St(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=il(a,null,c,l):yn(i,a,c,l),a.child;case 11:return wE(i,a,a.type,a.pendingProps,l);case 7:return yn(i,a,a.pendingProps,l),a.child;case 8:return yn(i,a,a.pendingProps.children,l),a.child;case 12:return yn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,xs(a,a.type,c.value),yn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Xa(a),m=xn(m),c=c(m),a.flags|=1,yn(i,a,c,l),a.child;case 14:return AE(i,a,a.type,a.pendingProps,l);case 15:return CE(i,a,a.type,a.pendingProps,l);case 19:return ME(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=ih(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Fi(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return RE(i,a,l);case 24:return Xa(a),c=xn(nn),i===null?(m=rg(),m===null&&(m=xt,p=tg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:c,cache:m},sg(a),xs(a,nn,m)):((i.lanes&l)!==0&&(ag(i,a),Ou(a,null,null,l),Iu()),m=i.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),xs(a,nn,c)):(c=p.cache,xs(a,nn,c),c!==m.cache&&eg(a,[nn],l,!0))),yn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Qi(i){i.flags|=4}function LE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q1(a)){if(a=Rr.current,a!==null&&((ct&4194048)===ct?fi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||a!==fi))throw Ru=ig,_0;i.flags|=8192}}function sh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Oa():536870912,i.lanes|=a,ll|=a)}function Uu(i,a){if(!gt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function kt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function z2(i,a,l){var c=a.pendingProps;switch(Xm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(a),null;case 1:return kt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),$i(nn),hr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Eu(a)?Qi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,m0())),kt(a),null;case 26:return l=a.memoizedState,i===null?(Qi(a),l!==null?(kt(a),LE(a,l)):(kt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Qi(a),kt(a),LE(a,l)):(kt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Qi(a),kt(a),a.flags&=-16777217),null;case 27:An(a),l=De.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Qi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return kt(a),null}i=be.current,Eu(a)?h0(a):(i=L1(m,c,l),a.stateNode=i,Qi(a))}return kt(a),null;case 5:if(An(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Qi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return kt(a),null}if(i=be.current,Eu(a))h0(a);else{switch(m=vh(De.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[le]=a,i[me]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(_n(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qi(a)}}return kt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Qi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=De.current,Eu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=Fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[le]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||I1(i.nodeValue,l)),i||Ya(a)}else i=vh(i).createTextNode(c),i[le]=a,a.stateNode=i}return kt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Eu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[le]=a}else Su(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kt(a),m=!1}else m=m0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ki(a),a):(Ki(a),null)}if(Ki(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),sh(a,a.updateQueue),kt(a),null;case 4:return hr(),i===null&&lp(a.stateNode.containerInfo),kt(a),null;case 10:return $i(a.type),kt(a),null;case 19:if(de(rn),m=a.memoizedState,m===null)return kt(a),null;if(c=(a.flags&128)!==0,p=m.rendering,p===null)if(c)Uu(m,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=eh(i),p!==null){for(a.flags|=128,Uu(m,!1),i=p.updateQueue,a.updateQueue=i,sh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)c0(l,i),l=l.sibling;return oe(rn,rn.current&1|2),a.child}i=i.sibling}m.tail!==null&&Ln()>lh&&(a.flags|=128,c=!0,Uu(m,!1),a.lanes=4194304)}else{if(!c)if(i=eh(p),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,sh(a,i),Uu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!gt)return kt(a),null}else 2*Ln()-m.renderingStartTime>lh&&l!==536870912&&(a.flags|=128,c=!0,Uu(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(i=m.last,i!==null?i.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ln(),a.sibling=null,i=rn.current,oe(rn,c?i&1|2:i&1),a):(kt(a),null);case 22:case 23:return Ki(a),cg(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(kt(a),a.subtreeFlags&6&&(a.flags|=8192)):kt(a),l=a.updateQueue,l!==null&&sh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&de(Wa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$i(nn),kt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function F2(i,a){switch(Xm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return $i(nn),hr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 13:if(Ki(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Su()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return de(rn),null;case 4:return hr(),null;case 10:return $i(a.type),null;case 22:case 23:return Ki(a),cg(),i!==null&&de(Wa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return $i(nn),null;case 25:return null;default:return null}}function UE(i,a){switch(Xm(a),a.tag){case 3:$i(nn),hr();break;case 26:case 27:case 5:An(a);break;case 4:hr();break;case 13:Ki(a);break;case 19:de(rn);break;case 10:$i(a.type);break;case 22:case 23:Ki(a),cg(),i!==null&&de(Wa);break;case 24:$i(nn)}}function Vu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var p=l.create,b=l.inst;c=p(),b.destroy=c}l=l.next}while(l!==m)}}catch(w){Rt(a,a.return,w)}}function ks(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&i)===i){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,m=a;var L=l,Z=w;try{Z()}catch(se){Rt(m,L,se)}}}c=c.next}while(c!==p)}}catch(se){Rt(a,a.return,se)}}function VE(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{A0(a,l)}catch(c){Rt(i,i.return,c)}}}function jE(i,a,l){l.props=Ja(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Rt(i,a,c)}}function ju(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Rt(i,a,m)}}function hi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Rt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Rt(i,a,m)}else l.current=null}function zE(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Rt(i,i.return,m)}}function Vg(i,a,l){try{var c=i.stateNode;lI(c,i.type,l,a),c[me]=a}catch(m){Rt(i,i.return,m)}}function FE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hs(i.type)||i.tag===4}function jg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||FE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zg(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=yh));else if(c!==4&&(c===27&&Hs(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(zg(i,a,l),i=i.sibling;i!==null;)zg(i,a,l),i=i.sibling}function ah(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Hs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ah(i,a,l),i=i.sibling;i!==null;)ah(i,a,l),i=i.sibling}function BE(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);_n(a,c,l),a[le]=i,a[me]=l}catch(p){Rt(i,i.return,p)}}var Xi=!1,Ht=!1,Fg=!1,HE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function B2(i,a){if(i=i.containerInfo,fp=wh,i=e0(i),jm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var b=0,w=-1,L=-1,Z=0,se=0,ue=i,J=null;t:for(;;){for(var ee;ue!==l||m!==0&&ue.nodeType!==3||(w=b+m),ue!==p||c!==0&&ue.nodeType!==3||(L=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)J=ue,ue=ee;for(;;){if(ue===i)break t;if(J===l&&++Z===m&&(w=b),J===p&&++se===c&&(L=b),(ee=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ee}l=w===-1||L===-1?null:{start:w,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(hp={focusedElem:i,selectionRange:l},wh=!1,fn=a;fn!==null;)if(a=fn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,fn=i;else for(;fn!==null;){switch(a=fn,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var Fe=Ja(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Fe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){Rt(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)gp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,fn=i;break}fn=a.return}}function qE(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ls(i,l),c&4&&Vu(5,l);break;case 1:if(Ls(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(b){Rt(l,l.return,b)}else{var m=Ja(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Rt(l,l.return,b)}}c&64&&VE(l),c&512&&ju(l,l.return);break;case 3:if(Ls(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{A0(i,a)}catch(b){Rt(l,l.return,b)}}break;case 27:a===null&&c&4&&BE(l);case 26:case 5:Ls(i,l),a===null&&c&4&&zE(l),c&512&&ju(l,l.return);break;case 12:Ls(i,l);break;case 13:Ls(i,l),c&4&&KE(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=W2.bind(null,l),gI(i,l))));break;case 22:if(c=l.memoizedState!==null||Xi,!c){a=a!==null&&a.memoizedState!==null||Ht,m=Xi;var p=Ht;Xi=c,(Ht=a)&&!p?Us(i,l,(l.subtreeFlags&8772)!==0):Ls(i,l),Xi=m,Ht=p}break;case 30:break;default:Ls(i,l)}}function $E(i){var a=i.alternate;a!==null&&(i.alternate=null,$E(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ae(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,qn=!1;function Wi(i,a,l){for(l=l.child;l!==null;)GE(i,a,l),l=l.sibling}function GE(i,a,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:Ht||hi(l,a),Wi(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||hi(l,a);var c=Nt,m=qn;Hs(l.type)&&(Nt=l.stateNode,qn=!1),Wi(i,a,l),Yu(l.stateNode),Nt=c,qn=m;break;case 5:Ht||hi(l,a);case 6:if(c=Nt,m=qn,Nt=null,Wi(i,a,l),Nt=c,qn=m,Nt!==null)if(qn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(l.stateNode)}catch(p){Rt(l,a,p)}else try{Nt.removeChild(l.stateNode)}catch(p){Rt(l,a,p)}break;case 18:Nt!==null&&(qn?(i=Nt,M1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),nc(i)):M1(Nt,l.stateNode));break;case 4:c=Nt,m=qn,Nt=l.stateNode.containerInfo,qn=!0,Wi(i,a,l),Nt=c,qn=m;break;case 0:case 11:case 14:case 15:Ht||ks(2,l,a),Ht||ks(4,l,a),Wi(i,a,l);break;case 1:Ht||(hi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&jE(l,a,c)),Wi(i,a,l);break;case 21:Wi(i,a,l);break;case 22:Ht=(c=Ht)||l.memoizedState!==null,Wi(i,a,l),Ht=c;break;default:Wi(i,a,l)}}function KE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nc(i)}catch(l){Rt(a,a.return,l)}}function H2(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new HE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new HE),a;default:throw Error(r(435,i.tag))}}function Bg(i,a){var l=H2(i);a.forEach(function(c){var m=Z2.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function tr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=i,b=a,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Hs(w.type)){Nt=w.stateNode,qn=!1;break e}break;case 5:Nt=w.stateNode,qn=!1;break e;case 3:case 4:Nt=w.stateNode.containerInfo,qn=!0;break e}w=w.return}if(Nt===null)throw Error(r(160));GE(p,b,m),Nt=null,qn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)YE(a,i),a=a.sibling}var Ur=null;function YE(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tr(a,i),nr(i),c&4&&(ks(3,i,i.return),Vu(3,i),ks(5,i,i.return));break;case 1:tr(a,i),nr(i),c&512&&(Ht||l===null||hi(l,l.return)),c&64&&Xi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Ur;if(tr(a,i),nr(i),c&512&&(Ht||l===null||hi(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Me]||p[le]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),_n(p,c,l),p[le]=i,ot(p),c=p;break e;case"link":var b=B1("link","href",m).get(c+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}p=m.createElement(c),_n(p,c,l),m.head.appendChild(p);break;case"meta":if(b=B1("meta","content",m).get(c+(l.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}p=m.createElement(c),_n(p,c,l),m.head.appendChild(p);break;default:throw Error(r(468,c))}p[le]=i,ot(p),c=p}i.stateNode=c}else H1(m,i.type,i.stateNode);else i.stateNode=F1(m,c,i.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?H1(m,i.type,i.stateNode):F1(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Vg(i,i.memoizedProps,l.memoizedProps)}break;case 27:tr(a,i),nr(i),c&512&&(Ht||l===null||hi(l,l.return)),l!==null&&c&4&&Vg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(tr(a,i),nr(i),c&512&&(Ht||l===null||hi(l,l.return)),i.flags&32){m=i.stateNode;try{_r(m,"")}catch(ee){Rt(i,i.return,ee)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Vg(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Fg=!0);break;case 6:if(tr(a,i),nr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ee){Rt(i,i.return,ee)}}break;case 3:if(Sh=null,m=Ur,Ur=_h(a.containerInfo),tr(a,i),Ur=m,nr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{nc(a.containerInfo)}catch(ee){Rt(i,i.return,ee)}Fg&&(Fg=!1,QE(i));break;case 4:c=Ur,Ur=_h(i.stateNode.containerInfo),tr(a,i),nr(i),Ur=c;break;case 12:tr(a,i),nr(i);break;case 13:tr(a,i),nr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yg=Ln()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bg(i,c)));break;case 22:m=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,Z=Xi,se=Ht;if(Xi=Z||m,Ht=se||L,tr(a,i),Ht=se,Xi=Z,nr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||L||Xi||Ht||eo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(p=L.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=L.stateNode;var ue=L.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Rt(L,L.return,ee)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ee){Rt(L,L.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Bg(i,l))));break;case 19:tr(a,i),nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bg(i,c)));break;case 30:break;case 21:break;default:tr(a,i),nr(i)}}function nr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(FE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,p=jg(i);ah(i,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(_r(b,""),l.flags&=-33);var w=jg(i);ah(i,w,b);break;case 3:case 4:var L=l.stateNode.containerInfo,Z=jg(i);zg(i,Z,L);break;default:throw Error(r(161))}}catch(se){Rt(i,i.return,se)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function QE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;QE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ls(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qE(i,a.alternate,a),a=a.sibling}function eo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ks(4,a,a.return),eo(a);break;case 1:hi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&jE(a,a.return,l),eo(a);break;case 27:Yu(a.stateNode);case 26:case 5:hi(a,a.return),eo(a);break;case 22:a.memoizedState===null&&eo(a);break;case 30:eo(a);break;default:eo(a)}i=i.sibling}}function Us(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Us(m,p,l),Vu(4,p);break;case 1:if(Us(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Rt(c,c.return,Z)}if(c=p,m=c.updateQueue,m!==null){var w=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)w0(L[m],w)}catch(Z){Rt(c,c.return,Z)}}l&&b&64&&VE(p),ju(p,p.return);break;case 27:BE(p);case 26:case 5:Us(m,p,l),l&&c===null&&b&4&&zE(p),ju(p,p.return);break;case 12:Us(m,p,l);break;case 13:Us(m,p,l),l&&b&4&&KE(m,p);break;case 22:p.memoizedState===null&&Us(m,p,l),ju(p,p.return);break;case 30:break;default:Us(m,p,l)}a=a.sibling}}function Hg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&wu(l))}function qg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&wu(i))}function di(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)XE(i,a,l,c),a=a.sibling}function XE(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:di(i,a,l,c),m&2048&&Vu(9,a);break;case 1:di(i,a,l,c);break;case 3:di(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&wu(i)));break;case 12:if(m&2048){di(i,a,l,c),i=a.stateNode;try{var p=a.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Rt(a,a.return,L)}}else di(i,a,l,c);break;case 13:di(i,a,l,c);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?di(i,a,l,c):zu(i,a):p._visibility&2?di(i,a,l,c):(p._visibility|=2,sl(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Hg(b,a);break;case 24:di(i,a,l,c),m&2048&&qg(a.alternate,a);break;default:di(i,a,l,c)}}function sl(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,b=a,w=l,L=c,Z=b.flags;switch(b.tag){case 0:case 11:case 15:sl(p,b,w,L,m),Vu(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?sl(p,b,w,L,m):zu(p,b):(se._visibility|=2,sl(p,b,w,L,m)),m&&Z&2048&&Hg(b.alternate,b);break;case 24:sl(p,b,w,L,m),m&&Z&2048&&qg(b.alternate,b);break;default:sl(p,b,w,L,m)}a=a.sibling}}function zu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:zu(l,c),m&2048&&Hg(c.alternate,c);break;case 24:zu(l,c),m&2048&&qg(c.alternate,c);break;default:zu(l,c)}a=a.sibling}}var Fu=8192;function al(i){if(i.subtreeFlags&Fu)for(i=i.child;i!==null;)WE(i),i=i.sibling}function WE(i){switch(i.tag){case 26:al(i),i.flags&Fu&&i.memoizedState!==null&&xI(Ur,i.memoizedState,i.memoizedProps);break;case 5:al(i);break;case 3:case 4:var a=Ur;Ur=_h(i.stateNode.containerInfo),al(i),Ur=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Fu,Fu=16777216,al(i),Fu=a):al(i));break;default:al(i)}}function ZE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Bu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];fn=c,e1(c,i)}ZE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)JE(i),i=i.sibling}function JE(i){switch(i.tag){case 0:case 11:case 15:Bu(i),i.flags&2048&&ks(9,i,i.return);break;case 3:Bu(i);break;case 12:Bu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,oh(i)):Bu(i);break;default:Bu(i)}}function oh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];fn=c,e1(c,i)}ZE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ks(8,a,a.return),oh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,oh(a));break;default:oh(a)}i=i.sibling}}function e1(i,a){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:ks(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,fn=c;else e:for(l=i;fn!==null;){c=fn;var m=c.sibling,p=c.return;if($E(c),c===l){fn=null;break e}if(m!==null){m.return=p,fn=m;break e}fn=p}}}var q2={getCacheForType:function(i){var a=xn(nn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},$2=typeof WeakMap=="function"?WeakMap:Map,_t=0,xt=null,tt=null,ct=0,Et=0,rr=null,Vs=!1,ol=!1,$g=!1,Zi=0,jt=0,js=0,to=0,Gg=0,xr=0,ll=0,Hu=null,$n=null,Kg=!1,Yg=0,lh=1/0,uh=null,zs=null,vn=0,Fs=null,ul=null,cl=0,Qg=0,Xg=null,t1=null,qu=0,Wg=null;function ir(){if((_t&2)!==0&&ct!==0)return ct&-ct;if(Y.T!==null){var i=Wo;return i!==0?i:ip()}return z()}function n1(){xr===0&&(xr=(ct&536870912)===0||gt?Ni():536870912);var i=Rr.current;return i!==null&&(i.flags|=32),xr}function sr(i,a,l){(i===xt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(fl(i,0),Bs(i,ct,xr,!1)),Mr(i,l),((_t&2)===0||i!==xt)&&(i===xt&&((_t&2)===0&&(to|=l),jt===4&&Bs(i,ct,xr,!1)),mi(i))}function r1(i,a,l){if((_t&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||gr(i,a),m=c?Y2(i,a):ep(i,a,!0),p=c;do{if(m===0){ol&&!c&&Bs(i,a,0,!1);break}else{if(l=i.current.alternate,p&&!G2(l)){m=ep(i,a,!1),p=!1;continue}if(m===2){if(p=a,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var w=i;m=Hu;var L=w.current.memoizedState.isDehydrated;if(L&&(fl(w,b).flags|=256),b=ep(w,b,!1),b!==2){if($g&&!L){w.errorRecoveryDisabledLanes|=p,to|=p,m=4;break e}p=$n,$n=m,p!==null&&($n===null?$n=p:$n.push.apply($n,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){fl(i,0),Bs(i,a,0,!0);break}e:{switch(c=i,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Bs(c,a,xr,!Vs);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Yg+300-Ln(),10<m)){if(Bs(c,a,xr,!Vs),Di(c,0,!0)!==0)break e;c.timeoutHandle=N1(i1.bind(null,c,l,$n,uh,Kg,a,xr,to,ll,Vs,p,2,-0,0),m);break e}i1(c,l,$n,uh,Kg,a,xr,to,ll,Vs,p,0,-0,0)}}break}while(!0);mi(i)}function i1(i,a,l,c,m,p,b,w,L,Z,se,ue,J,ee){if(i.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Wu={stylesheets:null,count:0,unsuspend:RI},WE(a),ue=II(),ue!==null)){i.cancelPendingCommit=ue(f1.bind(null,i,a,p,l,c,m,b,w,L,se,1,J,ee)),Bs(i,p,b,!Z);return}f1(i,a,p,l,c,m,b,w,L)}function G2(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!Jn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bs(i,a,l,c){a&=~Gg,a&=~to,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var p=31-Kt(m),b=1<<p;c[p]=-1,m&=~b}l!==0&&Un(i,l,a)}function ch(){return(_t&6)===0?($u(0),!1):!0}function Zg(){if(tt!==null){if(Et===0)var i=tt.return;else i=tt,qi=Qa=null,gg(i),rl=null,ku=0,i=tt;for(;i!==null;)UE(i.alternate,i),i=i.return;tt=null}}function fl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,cI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Zg(),xt=i,tt=l=Fi(i.current,null),ct=a,Et=0,rr=null,Vs=!1,ol=gr(i,a),$g=!1,ll=xr=Gg=to=js=jt=0,$n=Hu=null,Kg=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-Kt(c),p=1<<m;a|=i[m],c&=~p}return Zi=a,Nf(),l}function s1(i,a){Qe=null,Y.H=Wf,a===Cu||a===Ff?(a=b0(),Et=3):a===_0?(a=b0(),Et=4):Et=a===TE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rr=a,tt===null&&(jt=1,nh(i,Tr(a,i.current)))}function a1(){var i=Y.H;return Y.H=Wf,i===null?Wf:i}function o1(){var i=Y.A;return Y.A=q2,i}function Jg(){jt=4,Vs||(ct&4194048)!==ct&&Rr.current!==null||(ol=!0),(js&134217727)===0&&(to&134217727)===0||xt===null||Bs(xt,ct,xr,!1)}function ep(i,a,l){var c=_t;_t|=2;var m=a1(),p=o1();(xt!==i||ct!==a)&&(uh=null,fl(i,a)),a=!1;var b=jt;e:do try{if(Et!==0&&tt!==null){var w=tt,L=rr;switch(Et){case 8:Zg(),b=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(a=!0);var Z=Et;if(Et=0,rr=null,hl(i,w,L,Z),l&&ol){b=0;break e}break;default:Z=Et,Et=0,rr=null,hl(i,w,L,Z)}}K2(),b=jt;break}catch(se){s1(i,se)}while(!0);return a&&i.shellSuspendCounter++,qi=Qa=null,_t=c,Y.H=m,Y.A=p,tt===null&&(xt=null,ct=0,Nf()),b}function K2(){for(;tt!==null;)l1(tt)}function Y2(i,a){var l=_t;_t|=2;var c=a1(),m=o1();xt!==i||ct!==a?(uh=null,lh=Ln()+500,fl(i,a)):ol=gr(i,a);e:do try{if(Et!==0&&tt!==null){a=tt;var p=rr;t:switch(Et){case 1:Et=0,rr=null,hl(i,a,p,1);break;case 2:case 9:if(E0(p)){Et=0,rr=null,u1(a);break}a=function(){Et!==2&&Et!==9||xt!==i||(Et=7),mi(i)},p.then(a,a);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:E0(p)?(Et=0,rr=null,u1(a)):(Et=0,rr=null,hl(i,a,p,7));break;case 5:var b=null;switch(tt.tag){case 26:b=tt.memoizedState;case 5:case 27:var w=tt;if(!b||q1(b)){Et=0,rr=null;var L=w.sibling;if(L!==null)tt=L;else{var Z=w.return;Z!==null?(tt=Z,fh(Z)):tt=null}break t}}Et=0,rr=null,hl(i,a,p,5);break;case 6:Et=0,rr=null,hl(i,a,p,6);break;case 8:Zg(),jt=6;break e;default:throw Error(r(462))}}Q2();break}catch(se){s1(i,se)}while(!0);return qi=Qa=null,Y.H=c,Y.A=m,_t=l,tt!==null?0:(xt=null,ct=0,Nf(),jt)}function Q2(){for(;tt!==null&&!xa();)l1(tt)}function l1(i){var a=kE(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,a===null?fh(i):tt=a}function u1(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=IE(l,a,a.pendingProps,a.type,void 0,ct);break;case 11:a=IE(l,a,a.pendingProps,a.type.render,a.ref,ct);break;case 5:gg(a);default:UE(l,a),a=tt=c0(a,Zi),a=kE(l,a,Zi)}i.memoizedProps=i.pendingProps,a===null?fh(i):tt=a}function hl(i,a,l,c){qi=Qa=null,gg(a),rl=null,ku=0;var m=a.return;try{if(V2(i,m,a,l,ct)){jt=1,nh(i,Tr(l,i.current)),tt=null;return}}catch(p){if(m!==null)throw tt=m,p;jt=1,nh(i,Tr(l,i.current)),tt=null;return}a.flags&32768?(gt||c===1?i=!0:ol||(ct&536870912)!==0?i=!1:(Vs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),c1(a,i)):fh(a)}function fh(i){var a=i;do{if((a.flags&32768)!==0){c1(a,Vs);return}i=a.return;var l=z2(a.alternate,a,Zi);if(l!==null){tt=l;return}if(a=a.sibling,a!==null){tt=a;return}tt=a=i}while(a!==null);jt===0&&(jt=5)}function c1(i,a){do{var l=F2(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);jt=6,tt=null}function f1(i,a,l,c,m,p,b,w,L){i.cancelPendingCommit=null;do hh();while(vn!==0);if((_t&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=qm,Ts(i,l,p,b,w,L),i===xt&&(tt=xt=null,ct=0),ul=a,Fs=i,cl=l,Qg=p,Xg=m,t1=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,J2(Oi,function(){return p1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,m=fe.p,fe.p=2,b=_t,_t|=4;try{B2(i,a,l)}finally{_t=b,fe.p=m,Y.T=c}}vn=1,h1(),d1(),m1()}}function h1(){if(vn===1){vn=0;var i=Fs,a=ul,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{YE(a,i);var p=hp,b=e0(i.containerInfo),w=p.focusedElem,L=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&J_(w.ownerDocument.documentElement,w)){if(L!==null&&jm(w)){var Z=L.start,se=L.end;if(se===void 0&&(se=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(se,w.value.length);else{var ue=w.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Fe=w.textContent.length,ke=Math.min(L.start,Fe),At=L.end===void 0?ke:Math.min(L.end,Fe);!ee.extend&&ke>At&&(b=At,At=ke,ke=b);var q=Z_(w,ke),H=Z_(w,At);if(q&&H&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var X=ue.createRange();X.setStart(q.node,q.offset),ee.removeAllRanges(),ke>At?(ee.addRange(X),ee.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),ee.addRange(X))}}}}for(ue=[],ee=w;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ue.length;w++){var ae=ue[w];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}wh=!!fp,hp=fp=null}finally{_t=m,fe.p=c,Y.T=l}}i.current=a,vn=2}}function d1(){if(vn===2){vn=0;var i=Fs,a=ul,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{qE(i,a.alternate,a)}finally{_t=m,fe.p=c,Y.T=l}}vn=3}}function m1(){if(vn===4||vn===3){vn=0,No();var i=Fs,a=ul,l=cl,c=t1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,ul=Fs=null,g1(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(zs=null),ws(l),a=a.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(mt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Y.T,m=fe.p,fe.p=2,Y.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var w=c[b];p(w.value,{componentStack:w.stack})}}finally{Y.T=a,fe.p=m}}(cl&3)!==0&&hh(),mi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Wg?qu++:(qu=0,Wg=i):qu=0,$u(0)}}function g1(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,wu(a)))}function hh(i){return h1(),d1(),m1(),p1()}function p1(){if(vn!==5)return!1;var i=Fs,a=Qg;Qg=0;var l=ws(cl),c=Y.T,m=fe.p;try{fe.p=32>l?32:l,Y.T=null,l=Xg,Xg=null;var p=Fs,b=cl;if(vn=0,ul=Fs=null,cl=0,(_t&6)!==0)throw Error(r(331));var w=_t;if(_t|=4,JE(p.current),XE(p,p.current,b,l),_t=w,$u(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(mt,p)}catch{}return!0}finally{fe.p=m,Y.T=c,g1(i,a)}}function y1(i,a,l){a=Tr(l,a),a=Ig(i.stateNode,a,2),i=Ds(i,a,2),i!==null&&(Mr(i,2),mi(i))}function Rt(i,a,l){if(i.tag===3)y1(i,i,l);else for(;a!==null;){if(a.tag===3){y1(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zs===null||!zs.has(c))){i=Tr(l,i),l=SE(2),c=Ds(a,l,2),c!==null&&(bE(l,c,a,i),Mr(c,2),mi(c));break}}a=a.return}}function tp(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new $2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||($g=!0,m.add(l),i=X2.bind(null,i,a,l),a.then(i,i))}function X2(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(ct&l)===l&&(jt===4||jt===3&&(ct&62914560)===ct&&300>Ln()-Yg?(_t&2)===0&&fl(i,0):Gg|=l,ll===ct&&(ll=0)),mi(i)}function v1(i,a){a===0&&(a=Oa()),i=Ko(i,a),i!==null&&(Mr(i,a),mi(i))}function W2(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),v1(i,l)}function Z2(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),v1(i,l)}function J2(i,a){return Ii(i,a)}var dh=null,dl=null,np=!1,mh=!1,rp=!1,no=0;function mi(i){i!==dl&&i.next===null&&(dl===null?dh=dl=i:dl=dl.next=i),mh=!0,np||(np=!0,tI())}function $u(i,a){if(!rp&&mh){rp=!0;do for(var l=!1,c=dh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var b=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-Kt(42|i)+1)-1,p&=m&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,b1(c,p))}else p=ct,p=Di(c,c===xt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||gr(c,p)||(l=!0,b1(c,p));c=c.next}while(l);rp=!1}}function eI(){_1()}function _1(){mh=np=!1;var i=0;no!==0&&(uI()&&(i=no),no=0);for(var a=Ln(),l=null,c=dh;c!==null;){var m=c.next,p=E1(c,a);p===0?(c.next=null,l===null?dh=m:l.next=m,m===null&&(dl=l)):(l=c,(i!==0||(p&3)!==0)&&(mh=!0)),c=m}$u(i)}function E1(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-Kt(p),w=1<<b,L=m[b];L===-1?((w&l)===0||(w&c)!==0)&&(m[b]=bs(w,a)):L<=a&&(i.expiredLanes|=w),p&=~w}if(a=xt,l=ct,l=Di(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&kn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||gr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&kn(c),ws(l)){case 2:case 8:l=_s;break;case 32:l=Oi;break;case 268435456:l=dr;break;default:l=Oi}return c=S1.bind(null,i),l=Ii(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&kn(c),i.callbackPriority=2,i.callbackNode=null,2}function S1(i,a){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(hh()&&i.callbackNode!==l)return null;var c=ct;return c=Di(i,i===xt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(r1(i,c,a),E1(i,Ln()),i.callbackNode!=null&&i.callbackNode===l?S1.bind(null,i):null)}function b1(i,a){if(hh())return null;r1(i,a,!0)}function tI(){fI(function(){(_t&6)!==0?Ii(Ia,eI):_1()})}function ip(){return no===0&&(no=Ni()),no}function T1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ko(""+i)}function w1(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function nI(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var p=T1((m[me]||null).action),b=c.submitter;b&&(a=(a=b[me]||null)?T1(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var w=new Lo("action","action",null,c,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(no!==0){var L=b?w1(m,b):new FormData(m);wg(l,{pending:!0,data:L,method:m.method,action:p},null,L)}}else typeof p=="function"&&(w.preventDefault(),L=b?w1(m,b):new FormData(m),wg(l,{pending:!0,data:L,method:m.method,action:p},p,L))},currentTarget:m}]})}}for(var sp=0;sp<Hm.length;sp++){var ap=Hm[sp],rI=ap.toLowerCase(),iI=ap[0].toUpperCase()+ap.slice(1);Lr(rI,"on"+iI)}Lr(r0,"onAnimationEnd"),Lr(i0,"onAnimationIteration"),Lr(s0,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(S2,"onTransitionRun"),Lr(b2,"onTransitionStart"),Lr(T2,"onTransitionCancel"),Lr(a0,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function A1(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var b=c.length-1;0<=b;b--){var w=c[b],L=w.instance,Z=w.currentTarget;if(w=w.listener,L!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(se){th(se)}m.currentTarget=null,p=L}else for(b=0;b<c.length;b++){if(w=c[b],L=w.instance,Z=w.currentTarget,w=w.listener,L!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(se){th(se)}m.currentTarget=null,p=L}}}}function nt(i,a){var l=a[Ne];l===void 0&&(l=a[Ne]=new Set);var c=i+"__bubble";l.has(c)||(C1(a,i,2,!1),l.add(c))}function op(i,a,l){var c=0;a&&(c|=4),C1(l,i,c,a)}var gh="_reactListening"+Math.random().toString(36).slice(2);function lp(i){if(!i[gh]){i[gh]=!0,We.forEach(function(l){l!=="selectionchange"&&(sI.has(l)||op(l,!1,i),op(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gh]||(a[gh]=!0,op("selectionchange",!1,a))}}function C1(i,a,l,c){switch(X1(a)){case 2:var m=NI;break;case 8:m=PI;break;default:m=bp}l=m.bind(null,a,l,i),m=void 0,!Sr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function up(i,a,l,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===m)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;w!==null;){if(b=Le(w),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=p=b;continue e}w=w.parentNode}}c=c.return}yf(function(){var Z=p,se=Er(l),ue=[];e:{var J=o0.get(i);if(J!==void 0){var ee=Lo,Fe=i;switch(i){case"keypress":if(si(l)===0)break e;case"keydown":case"keyup":ee=Bo;break;case"focusin":Fe="focus",ee=jo;break;case"focusout":Fe="blur",ee=jo;break;case"beforeblur":case"afterblur":ee=jo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Af;break;case r0:case i0:case s0:ee=zo;break;case a0:ee=Rf;break;case"scroll":case"scrollend":ee=vf;break;case"wheel":ee=Ho;break;case"copy":case"cut":case"paste":ee=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=pu;break;case"toggle":case"beforetoggle":ee=If}var ke=(a&4)!==0,At=!ke&&(i==="scroll"||i==="scrollend"),q=ke?J!==null?J+"Capture":null:J;ke=[];for(var H=Z,X;H!==null;){var ae=H;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||q===null||(ae=ka(H,q),ae!=null&&ke.push(Ku(H,ae,X))),At)break;H=H.return}0<ke.length&&(J=new ee(J,Fe,null,l,se),ue.push({event:J,listeners:ke}))}}if((a&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&l!==ki&&(Fe=l.relatedTarget||l.fromElement)&&(Le(Fe)||Fe[ve]))break e;if((ee||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Fe=l.relatedTarget||l.toElement,ee=Z,Fe=Fe?Le(Fe):null,Fe!==null&&(At=o(Fe),ke=Fe.tag,Fe!==At||ke!==5&&ke!==27&&ke!==6)&&(Fe=null)):(ee=null,Fe=Z),ee!==Fe)){if(ke=br,ae="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(ke=pu,ae="onPointerLeave",q="onPointerEnter",H="pointer"),At=ee==null?J:pt(ee),X=Fe==null?J:pt(Fe),J=new ke(ae,H+"leave",ee,l,se),J.target=At,J.relatedTarget=X,ae=null,Le(se)===Z&&(ke=new ke(q,H+"enter",Fe,l,se),ke.target=X,ke.relatedTarget=At,ae=ke),At=ae,ee&&Fe)t:{for(ke=ee,q=Fe,H=0,X=ke;X;X=ml(X))H++;for(X=0,ae=q;ae;ae=ml(ae))X++;for(;0<H-X;)ke=ml(ke),H--;for(;0<X-H;)q=ml(q),X--;for(;H--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=ml(ke),q=ml(q)}ke=null}else ke=null;ee!==null&&R1(ue,J,ee,ke,!1),Fe!==null&&At!==null&&R1(ue,At,Fe,ke,!0)}}e:{if(J=Z?pt(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Te=G_;else if(tn(J))if(K_)Te=v2;else{Te=p2;var Ze=g2}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&uu(Z.elementType)&&(Te=G_):Te=y2;if(Te&&(Te=Te(i,Z))){zi(ue,Te,l,se);break e}Ze&&Ze(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Cs(J,"number",J.value)}switch(Ze=Z?pt(Z):window,i){case"focusin":(tn(Ze)||Ze.contentEditable==="true")&&(qo=Ze,zm=Z,_u=null);break;case"focusout":_u=zm=qo=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,t0(ue,l,se);break;case"selectionchange":if(E2)break;case"keydown":case"keyup":t0(ue,l,se)}var xe;if(li)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else lt?ne(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(S&&l.locale!=="ko"&&(lt||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&lt&&(xe=fu()):(ii=se,Rs="value"in ii?ii.value:ii.textContent,lt=!0)),Ze=ph(Z,Ue),0<Ze.length&&(Ue=new mu(Ue,i,null,l,se),ue.push({event:Ue,listeners:Ze}),xe?Ue.data=xe:(xe=pe(l),xe!==null&&(Ue.data=xe)))),(xe=v?en(i,l):ut(i,l))&&(Ue=ph(Z,"onBeforeInput"),0<Ue.length&&(Ze=new mu("onBeforeInput","beforeinput",null,l,se),ue.push({event:Ze,listeners:Ue}),Ze.data=xe)),nI(ue,i,Z,l,se)}A1(ue,a)})}function Ku(i,a,l){return{instance:i,listener:a,currentTarget:l}}function ph(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ka(i,l),m!=null&&c.unshift(Ku(i,m,p)),m=ka(i,a),m!=null&&c.push(Ku(i,m,p))),i.tag===3)return c;i=i.return}return[]}function ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R1(i,a,l,c,m){for(var p=a._reactName,b=[];l!==null&&l!==c;){var w=l,L=w.alternate,Z=w.stateNode;if(w=w.tag,L!==null&&L===c)break;w!==5&&w!==26&&w!==27||Z===null||(L=Z,m?(Z=ka(l,p),Z!=null&&b.unshift(Ku(l,Z,L))):m||(Z=ka(l,p),Z!=null&&b.push(Ku(l,Z,L)))),l=l.return}b.length!==0&&i.push({event:a,listeners:b})}var aI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function x1(i){return(typeof i=="string"?i:""+i).replace(aI,`
`).replace(oI,"")}function I1(i,a){return a=x1(a),x1(i)===a}function yh(){}function wt(i,a,l,c,m,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||_r(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&_r(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,l,c);break;case"style":lu(i,c,p);break;case"data":if(a!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ko(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&wt(i,a,"name",m.name,m,null),wt(i,a,"formEncType",m.formEncType,m,null),wt(i,a,"formMethod",m.formMethod,m,null),wt(i,a,"formTarget",m.formTarget,m,null)):(wt(i,a,"encType",m.encType,m,null),wt(i,a,"method",m.method,m,null),wt(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ko(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=yh);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ko(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Rn(i,"popover",c);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Rn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pm.get(l)||l,Rn(i,l,c))}}function cp(i,a,l,c,m,p){switch(l){case"style":lu(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?_r(i,c):(typeof c=="number"||typeof c=="bigint")&&_r(i,""+c);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=i[me]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Rn(i,l,c)}}}function _n(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,p,b,l,null)}}m&&wt(i,a,"srcSet",l.srcSet,l,null),c&&wt(i,a,"src",l.src,l,null);return;case"input":nt("invalid",i);var w=p=b=m=null,L=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var se=l[c];if(se!=null)switch(c){case"name":m=se;break;case"type":b=se;break;case"checked":L=se;break;case"defaultChecked":Z=se;break;case"value":p=se;break;case"defaultValue":w=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:wt(i,a,c,se,l,null)}}Na(i,p,w,L,Z,b,m,!1),Mo(i);return;case"select":nt("invalid",i),c=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:wt(i,a,m,w,l,null)}a=p,l=b,i.multiple=!!c,a!=null?Mi(i,!!c,a,!1):l!=null&&Mi(i,!!c,l,!0);return;case"textarea":nt("invalid",i),p=m=c=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:wt(i,a,b,w,l,null)}Pa(i,c,m,p),Mo(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,a,L,c,l,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(c=0;c<Gu.length;c++)nt(Gu[c],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,Z,c,l,null)}return;default:if(uu(a)){for(se in l)l.hasOwnProperty(se)&&(c=l[se],c!==void 0&&cp(i,a,se,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&wt(i,a,w,c,l,null))}function lI(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,w=null,L=null,Z=null,se=null;for(ee in l){var ue=l[ee];if(l.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(ee)||wt(i,a,ee,null,c,ue)}}for(var J in c){var ee=c[J];if(ue=l[J],c.hasOwnProperty(J)&&(ee!=null||ue!=null))switch(J){case"type":p=ee;break;case"name":m=ee;break;case"checked":Z=ee;break;case"defaultChecked":se=ee;break;case"value":b=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:ee!==ue&&wt(i,a,J,ee,c,ue)}}Zn(i,b,w,L,Z,se,p,m);return;case"select":ee=b=w=J=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ee=L;default:c.hasOwnProperty(p)||wt(i,a,p,null,c,L)}for(m in c)if(p=c[m],L=l[m],c.hasOwnProperty(m)&&(p!=null||L!=null))switch(m){case"value":J=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==L&&wt(i,a,m,p,c,L)}a=w,l=b,c=ee,J!=null?Mi(i,!!l,J,!1):!!c!=!!l&&(a!=null?Mi(i,!!l,a,!0):Mi(i,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:wt(i,a,w,null,c,m)}for(b in c)if(m=c[b],p=l[b],c.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&wt(i,a,b,m,c,p)}bt(i,J,ee);return;case"option":for(var Fe in l)if(J=l[Fe],l.hasOwnProperty(Fe)&&J!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:wt(i,a,Fe,null,c,J)}for(L in c)if(J=c[L],ee=l[L],c.hasOwnProperty(L)&&J!==ee&&(J!=null||ee!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:wt(i,a,L,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)J=l[ke],l.hasOwnProperty(ke)&&J!=null&&!c.hasOwnProperty(ke)&&wt(i,a,ke,null,c,J);for(Z in c)if(J=c[Z],ee=l[Z],c.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:wt(i,a,Z,J,c,ee)}return;default:if(uu(a)){for(var At in l)J=l[At],l.hasOwnProperty(At)&&J!==void 0&&!c.hasOwnProperty(At)&&cp(i,a,At,void 0,c,J);for(se in c)J=c[se],ee=l[se],!c.hasOwnProperty(se)||J===ee||J===void 0&&ee===void 0||cp(i,a,se,J,c,ee);return}}for(var q in l)J=l[q],l.hasOwnProperty(q)&&J!=null&&!c.hasOwnProperty(q)&&wt(i,a,q,null,c,J);for(ue in c)J=c[ue],ee=l[ue],!c.hasOwnProperty(ue)||J===ee||J==null&&ee==null||wt(i,a,ue,J,c,ee)}var fp=null,hp=null;function vh(i){return i.nodeType===9?i:i.ownerDocument}function O1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D1(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function dp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mp=null;function uI(){var i=window.event;return i&&i.type==="popstate"?i===mp?!1:(mp=i,!0):(mp=null,!1)}var N1=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,fI=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(i){return P1.resolve(null).then(i).catch(hI)}:N1;function hI(i){setTimeout(function(){throw i})}function Hs(i){return i==="head"}function M1(i,a){var l=a,c=0,m=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var b=i.ownerDocument;if(l&1&&Yu(b.documentElement),l&2&&Yu(b.body),l&4)for(l=b.head,Yu(l),b=l.firstChild;b;){var w=b.nextSibling,L=b.nodeName;b[Me]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=w}}if(m===0){i.removeChild(p),nc(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);nc(a)}function gp(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gp(l),Ae(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function dI(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Me])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function mI(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vr(i.nextSibling),i===null))return null;return i}function pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function gI(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Vr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var yp=null;function k1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function L1(i,a,l){switch(a=vh(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ae(i)}var Ir=new Map,U1=new Set;function _h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ji=fe.d;fe.d={f:pI,r:yI,D:vI,C:_I,L:EI,m:SI,X:TI,S:bI,M:wI};function pI(){var i=Ji.f(),a=ch();return i||a}function yI(i){var a=et(i);a!==null&&a.tag===5&&a.type==="form"?rE(a):Ji.r(i)}var gl=typeof document>"u"?null:document;function V1(i,a,l){var c=gl;if(c&&typeof a=="string"&&a){var m=Qt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),U1.has(m)||(U1.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),_n(a,"link",i),ot(a),c.head.appendChild(a)))}}function vI(i){Ji.D(i),V1("dns-prefetch",i,null)}function _I(i,a){Ji.C(i,a),V1("preconnect",i,a)}function EI(i,a,l){Ji.L(i,a,l);var c=gl;if(c&&i&&a){var m='link[rel="preload"][as="'+Qt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Qt(l.imageSizes)+'"]')):m+='[href="'+Qt(i)+'"]';var p=m;switch(a){case"style":p=pl(i);break;case"script":p=yl(i)}Ir.has(p)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ir.set(p,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(Qu(p))||a==="script"&&c.querySelector(Xu(p))||(a=c.createElement("link"),_n(a,"link",i),ot(a),c.head.appendChild(a)))}}function SI(i,a){Ji.m(i,a);var l=gl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(i)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=yl(i)}if(!Ir.has(p)&&(i=y({rel:"modulepreload",href:i},a),Ir.set(p,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xu(p)))return}c=l.createElement("link"),_n(c,"link",i),ot(c),l.head.appendChild(c)}}}function bI(i,a,l){Ji.S(i,a,l);var c=gl;if(c&&i){var m=ht(c).hoistableStyles,p=pl(i);a=a||"default";var b=m.get(p);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(Qu(p)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ir.get(p))&&vp(i,l);var L=b=c.createElement("link");ot(L),_n(L,"link",i),L._p=new Promise(function(Z,se){L.onload=Z,L.onerror=se}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Eh(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:w},m.set(p,b)}}}function TI(i,a){Ji.X(i,a);var l=gl;if(l&&i){var c=ht(l).hoistableScripts,m=yl(i),p=c.get(m);p||(p=l.querySelector(Xu(m)),p||(i=y({src:i,async:!0},a),(a=Ir.get(m))&&_p(i,a),p=l.createElement("script"),ot(p),_n(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function wI(i,a){Ji.M(i,a);var l=gl;if(l&&i){var c=ht(l).hoistableScripts,m=yl(i),p=c.get(m);p||(p=l.querySelector(Xu(m)),p||(i=y({src:i,async:!0,type:"module"},a),(a=Ir.get(m))&&_p(i,a),p=l.createElement("script"),ot(p),_n(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function j1(i,a,l,c){var m=(m=De.current)?_h(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=pl(l.href),l=ht(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=pl(l.href);var p=ht(m).hoistableStyles,b=p.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=m.querySelector(Qu(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Ir.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ir.set(i,l),p||AI(m,i,l,b.state))),a&&c===null)throw Error(r(528,""));return b}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(l),l=ht(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function pl(i){return'href="'+Qt(i)+'"'}function Qu(i){return'link[rel="stylesheet"]['+i+"]"}function z1(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function AI(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),_n(a,"link",l),ot(a),i.head.appendChild(a))}function yl(i){return'[src="'+Qt(i)+'"]'}function Xu(i){return"script[async]"+i}function F1(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(c)return a.instance=c,ot(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ot(c),_n(c,"style",m),Eh(c,l.precedence,i),a.instance=c;case"stylesheet":m=pl(l.href);var p=i.querySelector(Qu(m));if(p)return a.state.loading|=4,a.instance=p,ot(p),p;c=z1(l),(m=Ir.get(m))&&vp(c,m),p=(i.ownerDocument||i).createElement("link"),ot(p);var b=p;return b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),_n(p,"link",c),a.state.loading|=4,Eh(p,l.precedence,i),a.instance=p;case"script":return p=yl(l.src),(m=i.querySelector(Xu(p)))?(a.instance=m,ot(m),m):(c=l,(m=Ir.get(p))&&(c=y({},l),_p(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),ot(m),_n(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Eh(c,l.precedence,i));return a.instance}function Eh(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===a)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function vp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function _p(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Sh=null;function B1(i,a,l){if(Sh===null){var c=new Map,m=Sh=new Map;m.set(l,c)}else m=Sh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var p=l[m];if(!(p[Me]||p[le]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=i+b;var w=c.get(b);w?w.push(p):c.set(b,[p])}}return c}function H1(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function CI(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function q1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wu=null;function RI(){}function xI(i,a,l){if(Wu===null)throw Error(r(475));var c=Wu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=pl(l.href),p=i.querySelector(Qu(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=bh.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=p,ot(p);return}p=i.ownerDocument||i,l=z1(l),(m=Ir.get(m))&&vp(l,m),p=p.createElement("link"),ot(p);var b=p;b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),_n(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=bh.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function II(){if(Wu===null)throw Error(r(475));var i=Wu;return i.stylesheets&&i.count===0&&Ep(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Ep(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)Ep(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Th=null;function Ep(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Th=new Map,a.forEach(OI,i),Th=null,bh.call(i))}function OI(i,a){if(!(a.state.loading&4)){var l=Th.get(i);if(l)var c=l.get(null);else{l=new Map,Th.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}m=a.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||c,p===c&&l.set(null,m),l.set(b,m),this.count++,c=bh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Zu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function DI(i,a,l,c,m,p,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $1(i,a,l,c,m,p,b,w,L,Z,se,ue){return i=new DI(i,a,l,b,w,L,Z,ue),a=1,p===!0&&(a|=24),p=er(3,null,null,a),i.current=p,p.stateNode=i,a=tg(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},sg(p),i}function G1(i){return i?(i=Yo,i):Yo}function K1(i,a,l,c,m,p){m=G1(m),c.context===null?c.context=m:c.pendingContext=m,c=Os(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Ds(i,c,a),l!==null&&(sr(l,i,a),xu(l,i,a))}function Y1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Sp(i,a){Y1(i,a),(i=i.alternate)&&Y1(i,a)}function Q1(i){if(i.tag===13){var a=Ko(i,67108864);a!==null&&sr(a,i,67108864),Sp(i,67108864)}}var wh=!0;function NI(i,a,l,c){var m=Y.T;Y.T=null;var p=fe.p;try{fe.p=2,bp(i,a,l,c)}finally{fe.p=p,Y.T=m}}function PI(i,a,l,c){var m=Y.T;Y.T=null;var p=fe.p;try{fe.p=8,bp(i,a,l,c)}finally{fe.p=p,Y.T=m}}function bp(i,a,l,c){if(wh){var m=Tp(c);if(m===null)up(i,a,c,Ah,l),W1(i,c);else if(kI(m,i,a,l,c))c.stopPropagation();else if(W1(i,c),a&4&&-1<MI.indexOf(i)){for(;m!==null;){var p=et(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Qn(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var L=1<<31-Kt(b);w.entanglements[1]|=L,b&=~L}mi(p),(_t&6)===0&&(lh=Ln()+500,$u(0))}}break;case 13:w=Ko(p,2),w!==null&&sr(w,p,2),ch(),Sp(p,2)}if(p=Tp(c),p===null&&up(i,a,c,Ah,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else up(i,a,c,null,l)}}function Tp(i){return i=Er(i),wp(i)}var Ah=null;function wp(i){if(Ah=null,i=Le(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ah=i,null}function X1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(su()){case Ia:return 2;case _s:return 8;case Oi:case Pr:return 32;case dr:return 268435456;default:return 32}default:return 32}}var Ap=!1,qs=null,$s=null,Gs=null,Ju=new Map,ec=new Map,Ks=[],MI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W1(i,a){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ju.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(a.pointerId)}}function tc(i,a,l,c,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=et(a),a!==null&&Q1(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function kI(i,a,l,c,m){switch(a){case"focusin":return qs=tc(qs,i,a,l,c,m),!0;case"dragenter":return $s=tc($s,i,a,l,c,m),!0;case"mouseover":return Gs=tc(Gs,i,a,l,c,m),!0;case"pointerover":var p=m.pointerId;return Ju.set(p,tc(Ju.get(p)||null,i,a,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,ec.set(p,tc(ec.get(p)||null,i,a,l,c,m)),!0}return!1}function Z1(i){var a=Le(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,$(i.priority,function(){if(l.tag===13){var c=ir();c=ei(c);var m=Ko(l,c);m!==null&&sr(m,l,c),Sp(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ch(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Tp(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ki=c,l.target.dispatchEvent(c),ki=null}else return a=et(l),a!==null&&Q1(a),i.blockedOn=l,!1;a.shift()}return!0}function J1(i,a,l){Ch(i)&&l.delete(a)}function LI(){Ap=!1,qs!==null&&Ch(qs)&&(qs=null),$s!==null&&Ch($s)&&($s=null),Gs!==null&&Ch(Gs)&&(Gs=null),Ju.forEach(J1),ec.forEach(J1)}function Rh(i,a){i.blockedOn===a&&(i.blockedOn=null,Ap||(Ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LI)))}var xh=null;function eS(i){xh!==i&&(xh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xh===i&&(xh=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(wp(c||l)===null)continue;break}var p=et(l);p!==null&&(i.splice(a,3),a-=3,wg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function nc(i){function a(L){return Rh(L,i)}qs!==null&&Rh(qs,i),$s!==null&&Rh($s,i),Gs!==null&&Rh(Gs,i),Ju.forEach(a),ec.forEach(a);for(var l=0;l<Ks.length;l++){var c=Ks[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ks.length&&(l=Ks[0],l.blockedOn===null);)Z1(l),l.blockedOn===null&&Ks.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],b=m[me]||null;if(typeof p=="function")b||eS(l);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[me]||null)w=b.formAction;else if(wp(m)!==null)continue}else w=b.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),eS(l)}}}function Cp(i){this._internalRoot=i}Ih.prototype.render=Cp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=ir();K1(l,c,i,a,null,null)},Ih.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;K1(i.current,2,null,i,null,null),ch(),a[ve]=null}};function Ih(i){this._internalRoot=i}Ih.prototype.unstable_scheduleHydration=function(i){if(i){var a=z();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ks.length&&a!==0&&a<Ks[l].priority;l++);Ks.splice(l,0,i),l===0&&Z1(i)}};var tS=e.version;if(tS!=="19.1.0")throw Error(r(527,tS,"19.1.0"));fe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var UI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{mt=Oh.inject(UI),Ye=Oh}catch{}}return ic.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=yE,p=vE,b=_E,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=$1(i,1,!1,null,null,l,c,m,p,b,w,null),i[ve]=a.current,lp(i),new Cp(a)},ic.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",p=yE,b=vE,w=_E,L=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=$1(i,1,!0,a,l??null,c,m,p,b,w,L,Z),a.context=G1(null),l=a.current,c=ir(),c=ei(c),m=Os(c),m.callback=null,Ds(l,m,c),l=c,a.current.lanes=l,Mr(a,l),mi(a),i[ve]=a.current,lp(i),new Ih(a)},ic.version="19.1.0",ic}var fS;function YI(){if(fS)return Op.exports;fS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=KI(),Op.exports}var QI=YI(),Mp={exports:{}},kp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function XI(){if(hS)return kp;hS=1;var t=Qd();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return kp.useSyncExternalStoreWithSelector=function(d,g,y,_,E){var T=s(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=u(function(){function M(te){if(!j){if(j=!0,G=te,te=_(te),E!==void 0&&A.hasValue){var B=A.value;if(E(B,te))return Q=B}return Q=te}if(B=Q,n(G,te))return B;var D=_(te);return E!==void 0&&E(B,D)?(G=te,B):(G=te,Q=D)}var j=!1,G,Q,re=y===void 0?null:y;return[function(){return M(g())},re===null?void 0:function(){return M(re())}]},[g,y,_,E]);var k=r(d,T[0],T[1]);return o(function(){A.hasValue=!0,A.value=k},[k]),f(k),k},kp}var dS;function WI(){return dS||(dS=1,Mp.exports=XI()),Mp.exports}var ZI=WI();function JI(t){t()}function eO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){JI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var mS={notify(){},get:()=>[]};function tO(t,e){let n,r=mS,s=0,o=!1;function u(k){y();const M=r.subscribe(k);let j=!1;return()=>{j||(j=!0,M(),_())}}function f(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function g(){return o}function y(){s++,n||(n=t.subscribe(d),r=eO())}function _(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=mS)}function E(){o||(o=!0,y())}function T(){o&&(o=!1,_())}const A={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:g,trySubscribe:E,tryUnsubscribe:T,getListeners:()=>r};return A}var nO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rO=nO(),iO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sO=iO(),aO=()=>rO||sO?O.useLayoutEffect:O.useEffect,oO=aO(),Lp=Symbol.for("react-redux-context"),Up=typeof globalThis<"u"?globalThis:{};function lO(){if(!O.createContext)return{};const t=Up[Lp]??(Up[Lp]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var ca=lO();function uO(t){const{children:e,context:n,serverState:r,store:s}=t,o=O.useMemo(()=>{const d=tO(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),u=O.useMemo(()=>s.getState(),[s]);oO(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const f=n||ca;return O.createElement(f.Provider,{value:o},e)}var cO=uO;function Iv(t=ca){return function(){return O.useContext(t)}}var zw=Iv();function Fw(t=ca){const e=t===ca?zw:Iv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var fO=Fw();function hO(t=ca){const e=t===ca?fO:Fw(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ta=hO(),dO=(t,e)=>t===e;function mO(t=ca){const e=t===ca?zw:Iv(t),n=(r,s={})=>{const{equalityFn:o=dO}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:f,subscription:d,getServerState:g}=u;O.useRef(!0);const y=O.useCallback({[r.name](E){return r(E)}}[r.name],[r]),_=ZI.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,g||f.getState,y,o);return O.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var zt=mO();const gO=()=>{};var gS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],f=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,f=u?t[s+1]:0,d=s+2<t.length,g=d?t[s+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let E=(f&15)<<2|g>>6,T=g&63;d||(T=64,u||(E=64)),r.push(n[y],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||f==null||g==null||_==null)throw new yO;const E=o<<2|f>>4;if(r.push(E),g!==64){const T=f<<4&240|g>>2;if(r.push(T),_!==64){const A=g<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vO=function(t){const e=Bw(t);return Hw.encodeByteArray(e,!0)},dd=function(t){return vO(t).replace(/\./g,"")},qw=function(t){try{return Hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=()=>_O().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof gS>"u")return;const t=gS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qw(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return gO()||EO()||SO()||bO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$w=t=>{var e,n;return(n=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TO=t=>{const e=$w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gw=()=>{var t;return(t=Xd())===null||t===void 0?void 0:t.config},Kw=t=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){return t.endsWith(".cloudworkstations.dev")}async function Yw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(u)),""].join(".")}const Ec={};function CO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?t.emulator.push(e):t.prod.push(e);return t}function RO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pS=!1;function Qw(t,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Ec[t]===e||Ec[t]||pS)return;Ec[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=CO().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pS=!0,u()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=RO(r),T=n("text"),A=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;f(Q),y(M,k);const re=g();d(G,j),Q.append(G,A,M,re),document.body.appendChild(Q)}o?(A.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function IO(){var t;const e=(t=Xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PO(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MO(){return!IO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kO(){try{return typeof indexedDB=="object"}catch{return!1}}function LO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UO,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?VO(o,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new gs(s,f,r)}}function VO(t,e){return t.replace(jO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jO=/\{\$([^}]+)}/g;function zO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(yS(o)&&yS(u)){if(!ho(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FO(t,e){const n=new BO(t,e);return n.subscribe.bind(n)}class BO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vp),s.error===void 0&&(s.error=Vp),s.complete===void 0&&(s.complete=Vp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GO(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$O(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $O(t){return t===ro?void 0:t}function GO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const YO={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},QO=st.INFO,XO={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=XO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ov=class{constructor(e){this.name=e,this._logLevel=QO,this._logHandler=WO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}};const ZO=(t,e)=>e.some(n=>t instanceof n);let vS,_S;function JO(){return vS||(vS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return _S||(_S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xw=new WeakMap,_y=new WeakMap,Ww=new WeakMap,jp=new WeakMap,Dv=new WeakMap;function tD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ia(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Xw.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function nD(t){if(_y.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});_y.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rD(t){Ey=t(Ey)}function iD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zp(this),e,...n);return Ww.set(r,e.sort?e.sort():[e]),ia(r)}:eD().includes(t)?function(...e){return t.apply(zp(this),e),ia(Xw.get(this))}:function(...e){return ia(t.apply(zp(this),e))}}function sD(t){return typeof t=="function"?iD(t):(t instanceof IDBTransaction&&nD(t),ZO(t,JO())?new Proxy(t,Ey):t)}function ia(t){if(t instanceof IDBRequest)return tD(t);if(jp.has(t))return jp.get(t);const e=sD(t);return e!==t&&(jp.set(t,e),Dv.set(e,t)),e}const zp=t=>Dv.get(t);function aD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),f=ia(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ia(u.result),d.oldVersion,d.newVersion,ia(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const oD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],Fp=new Map;function ES(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oD.includes(n)))return;const o=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),s&&d.done]))[0]};return Fp.set(e,o),o}rD(t=>({...t,get:(e,n,r)=>ES(e,n)||t.get(e,n,r),has:(e,n)=>!!ES(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sy="@firebase/app",SS="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Ov("@firebase/app"),fD="@firebase/app-compat",hD="@firebase/analytics-compat",dD="@firebase/analytics",mD="@firebase/app-check-compat",gD="@firebase/app-check",pD="@firebase/auth",yD="@firebase/auth-compat",vD="@firebase/database",_D="@firebase/data-connect",ED="@firebase/database-compat",SD="@firebase/functions",bD="@firebase/functions-compat",TD="@firebase/installations",wD="@firebase/installations-compat",AD="@firebase/messaging",CD="@firebase/messaging-compat",RD="@firebase/performance",xD="@firebase/performance-compat",ID="@firebase/remote-config",OD="@firebase/remote-config-compat",DD="@firebase/storage",ND="@firebase/storage-compat",PD="@firebase/firestore",MD="@firebase/ai",kD="@firebase/firestore-compat",LD="firebase",UD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",VD={[Sy]:"fire-core",[fD]:"fire-core-compat",[dD]:"fire-analytics",[hD]:"fire-analytics-compat",[gD]:"fire-app-check",[mD]:"fire-app-check-compat",[pD]:"fire-auth",[yD]:"fire-auth-compat",[vD]:"fire-rtdb",[_D]:"fire-data-connect",[ED]:"fire-rtdb-compat",[SD]:"fire-fn",[bD]:"fire-fn-compat",[TD]:"fire-iid",[wD]:"fire-iid-compat",[AD]:"fire-fcm",[CD]:"fire-fcm-compat",[RD]:"fire-perf",[xD]:"fire-perf-compat",[ID]:"fire-rc",[OD]:"fire-rc-compat",[DD]:"fire-gcs",[ND]:"fire-gcs-compat",[PD]:"fire-fst",[kD]:"fire-fst-compat",[MD]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,jD=new Map,Ty=new Map;function bS(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(Ty.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of md.values())bS(n,t);for(const n of jD.values())bS(n,t);return!0}function Nv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new Wc("app","Firebase",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=UD;function Zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw sa.create("bad-app-name",{appName:String(s)});if(n||(n=Gw()),!n)throw sa.create("no-options");const o=md.get(s);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw sa.create("duplicate-app",{appName:s})}const u=new KO(s);for(const d of Ty.values())u.addComponent(d);const f=new FD(n,r,u);return md.set(s,f),f}function Jw(t=by){const e=md.get(t);if(!e&&t===by&&Gw())return Zw();if(!e)throw sa.create("no-app",{appName:t});return e}function aa(t,e,n){var r;let s=(r=VD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(f.join(" "));return}Ul(new mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebase-heartbeat-database",HD=1,Oc="firebase-heartbeat-store";let Bp=null;function eA(){return Bp||(Bp=aD(BD,HD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw sa.create("idb-open",{originalErrorMessage:t.message})})),Bp}async function qD(t){try{const n=(await eA()).transaction(Oc),r=await n.objectStore(Oc).get(tA(t));return await n.done,r}catch(e){if(e instanceof gs)ls.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function TS(t,e){try{const r=(await eA()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,tA(t)),await r.done}catch(n){if(n instanceof gs)ls.warn(n.message);else{const r=sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function tA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,GD=30;class KD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>GD){const u=XD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wS(),{heartbeatsToSend:r,unsentEntries:s}=YD(this._heartbeatsCache.heartbeats),o=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ls.warn(n),""}}}function wS(){return new Date().toISOString().substring(0,10)}function YD(t,e=$D){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),AS(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),AS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kO()?LO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return TS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return TS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function AS(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function XD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){Ul(new mo("platform-logger",e=>new uD(e),"PRIVATE")),Ul(new mo("heartbeat",e=>new KD(e),"PRIVATE")),aa(Sy,SS,t),aa(Sy,SS,"esm2017"),aa("fire-js","")}WD("");function Pv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=nA,rA=new Wc("auth","Firebase",nA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Ov("@firebase/auth");function JD(t,...e){gd.logLevel<=st.WARN&&gd.warn(`Auth (${Xl}): ${t}`,...e)}function $h(t,...e){gd.logLevel<=st.ERROR&&gd.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Mv(t,...e)}function Ei(t,...e){return Mv(t,...e)}function iA(t,e,n){const r=Object.assign(Object.assign({},ZD()),{[e]:n});return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return iA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rA.create(t,...e)}function je(t,e,...n){if(!t)throw Mv(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $h(e),new Error(e)}function us(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eN(){return CS()==="http:"||CS()==="https:"}function CS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eN()||DO()||"connection"in navigator)?navigator.onLine:!0}function nN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=xO()||NO()}get(){return tN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sN=new Jc(3e4,6e4);function wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,n,r,s={}){return aA(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Zc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:d},o);return OO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(g.credentials="include"),sA.fetch()(await oA(t,t.config.apiHost,n,f),g)})}async function aA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rN),e);try{const s=new oN(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Dh(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,g]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Dh(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iA(t,y,g);qr(t,y)}}catch(s){if(s instanceof gs)throw s;qr(t,"network-request-failed",{message:String(s)})}}async function ef(t,e,n,r,s={}){const o=await Aa(t,e,n,r,s);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function oA(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?kv(t.config,s):`${t.config.apiScheme}://${s}`;return iN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function aN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),sN.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ei(t,e,r);return s.customData._tokenResponse=n,s}function RS(t){return t!==void 0&&t.enterprise!==void 0}class lN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uN(t,e){return Aa(t,"GET","/v2/recaptchaConfig",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function pd(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fN(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),s=Lv(r);je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Sc(Hp(s.auth_time)),issuedAtTime:Sc(Hp(s.iat)),expirationTime:Sc(Hp(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hp(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const s=qw(n);return s?JSON.parse(s):($h("Failed to decode base64 JWT payload"),null)}catch(s){return $h("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xS(t){const e=Lv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&hN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dc(t,pd(n,{idToken:r}));je(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lA(o.providerUserInfo):[],f=gN(t.providerData,u),d=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!(f!=null&&f.length),y=d?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ay(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function mN(t){const e=Kn(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lA(t){return t.map(e=>{var{providerId:n}=e,r=Pv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){const n=await aA(t,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await oA(t,s,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:r};return t.emulatorConfig&&Ql(t.emulatorConfig.host)&&(d.credentials="include"),sA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yN(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=xS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await pN(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new Dl;return r&&(je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(je(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(je(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ay(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Dc(this,cN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,f,d,g,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,k=(f=n.tenantId)!==null&&f!==void 0?f:void 0,M=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,j=(g=n.createdAt)!==null&&g!==void 0?g:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Q,emailVerified:re,isAnonymous:te,providerData:B,stsTokenManager:D}=n;je(Q&&D,e,"internal-error");const I=Dl.fromJSON(this.name,D);je(typeof Q=="string",e,"internal-error"),Qs(_,e.name),Qs(E,e.name),je(typeof re=="boolean",e,"internal-error"),je(typeof te=="boolean",e,"internal-error"),Qs(T,e.name),Qs(A,e.name),Qs(k,e.name),Qs(M,e.name),Qs(j,e.name),Qs(G,e.name);const R=new zr({uid:Q,auth:e,email:E,emailVerified:re,displayName:_,isAnonymous:te,photoURL:A,phoneNumber:T,tenantId:k,stsTokenManager:I,createdAt:j,lastLoginAt:G});return B&&Array.isArray(B)&&(R.providerData=B.map(P=>Object.assign({},P))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Dl;s.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?lA(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new Dl;f.updateFromIdToken(r);const d=new zr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ay(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function ns(t){us(t instanceof Function,"Expected a class definition");let e=IS.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uA.type="NONE";const OS=uA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Gh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Gh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pd(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(ns(OS),e,r);const s=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||ns(OS);const u=Gh(r,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const E=await pd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await zr._fromGetAccountInfoResponse(e,E,y)}else _=zr._fromJSON(e,y);g!==o&&(f=_),o=g;break}}catch{}const d=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Nl(o,e,r):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gA(e))return"Blackberry";if(pA(e))return"Webos";if(fA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(mA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cA(t=Pn()){return/firefox\//i.test(t)}function fA(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=Pn()){return/crios\//i.test(t)}function dA(t=Pn()){return/iemobile/i.test(t)}function mA(t=Pn()){return/android/i.test(t)}function gA(t=Pn()){return/blackberry/i.test(t)}function pA(t=Pn()){return/webos/i.test(t)}function Uv(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vN(t=Pn()){var e;return Uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _N(){return PO()&&document.documentMode===10}function yA(t=Pn()){return Uv(t)||mA(t)||pA(t)||gA(t)||/windows phone/i.test(t)||dA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e=[]){let n;switch(t){case"Browser":n=DS(Pn());break;case"Worker":n=`${DS(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,f)=>{try{const d=e(o);u(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class TN{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:bN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NS(this),this.idTokenSubscription=new NS(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pd(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(rs(this));const n=e?Kn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SN(this),n=new TN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return Kn(t)}class NS{constructor(e){this.auth=e,this.observer=null,this.addObserver=FO(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AN(t){Wd=t}function _A(t){return Wd.loadJS(t)}function CN(){return Wd.recaptchaEnterpriseScript}function RN(){return Wd.gapiScript}function xN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ON{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DN="recaptcha-enterprise",EA="NO_RECAPTCHA";class NN{constructor(e){this.type=DN,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{uN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new lN(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(d=>{f(d)})})}function s(o,u,f){const d=window.grecaptcha;RS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(EA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!n&&RS(window.grecaptcha))s(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CN();d.length!==0&&(d+=f),_A(d).then(()=>{s(f,o,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function PS(t,e,n,r=!1,s=!1){const o=new NN(t);let u;if(s)u=EA;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cy(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await PS(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await PS(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){const n=Nv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ho(o,e??{}))return s;qr(s,"already-initialized")}return n.initialize({options:e})}function MN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kN(t,e,n){const r=wo(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=SA(e),{host:u,port:f}=LN(e),d=f===null?"":`:${f}`,g={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(ho(g,r.config.emulator)&&ho(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ql(u)?(Yw(`${o}//${u}${d}`),Qw("Auth",!0)):UN()}function SA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LN(t){const e=SA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:MS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:MS(u)}}}function MS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function VN(t,e){return Aa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){return ef(t,"POST","/v1/accounts:signInWithPassword",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return ef(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}async function FN(t,e){return ef(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Vv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,n,"signInWithPassword",jN);case"emailLink":return zN(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,r,"signUpPassword",VN);case"emailLink":return FN(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return ef(t,"POST","/v1/accounts:signInWithIdp",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="http://localhost";class go extends Vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Pv(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new go(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qN(t){const e=cc(fc(t)).link,n=e?cc(fc(e)).deep_link_id:null,r=cc(fc(t)).deep_link_id;return(r?cc(fc(r)).link:null)||r||n||e||t}class jv{constructor(e){var n,r,s,o,u,f;const d=cc(fc(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=HN((s=d.mode)!==null&&s!==void 0?s:null);je(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=qN(e);try{return new jv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jv.parseLink(n);return je(r,"argument-error"),Nc._fromEmailAndCode(e,r.code,r.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends tf{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends tf{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends tf{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){return ef(t,"POST","/v1/accounts:signUp",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await zr._fromIdTokenResponse(e,r,s),u=kS(r);return new po({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=kS(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function kS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends gs{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vd(e,n,r,s)}}function TA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(t,o,e,r):o})}async function GN(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(rs(r));const s="reauthenticate";try{const o=await Dc(t,TA(r,s,e,t),n);je(o.idToken,r,"internal-error");const u=Lv(o.idToken);je(u,r,"internal-error");const{sub:f}=u;return je(t.uid===f,r,"user-mismatch"),po._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t,e,n=!1){if(Dr(t.app))return Promise.reject(rs(t));const r="signIn",s=await TA(t,r,e),o=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function YN(t,e){return wA(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QN(t,e,n){if(Dr(t.app))return Promise.reject(rs(t));const r=wo(t),u=await Cy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$N).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&AA(t),d}),f=await po._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function XN(t,e,n){return Dr(t.app)?Promise.reject(rs(t)):YN(Kn(t),Wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AA(t),r})}function WN(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function ZN(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}function JN(t,e,n,r){return Kn(t).onAuthStateChanged(e,n,r)}function eP(t){return Kn(t).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e3,nP=10;class RA extends CA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);_N()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RA.type="LOCAL";const rP=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends CA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xA.type="SESSION";const IA=xA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async g=>g(n.origin,o)),d=await iP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const g=zv("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function aP(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function oP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uP(){return OA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebaseLocalStorageDb",cP=1,Ed="firebaseLocalStorage",NA="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jd(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function fP(){const t=indexedDB.deleteDatabase(DA);return new nf(t).toPromise()}function Ry(){const t=indexedDB.open(DA,cP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:NA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await fP(),e(await Ry()))})})}async function LS(t,e,n){const r=Jd(t,!0).put({[NA]:e,value:n});return new nf(r).toPromise()}async function hP(t,e){const n=Jd(t,!1).get(e),r=await new nf(n).toPromise();return r===void 0?null:r.value}function US(t,e){const n=Jd(t,!0).delete(e);return new nf(n).toPromise()}const dP=800,mP=3;class PA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(uP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oP(),!this.activeServiceWorker)return;this.sender=new sP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await LS(e,_d,"1"),await US(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>US(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Jd(s,!1).getAll();return new nf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PA.type="LOCAL";const gP=PA;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){return e?ns(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yP(t){return wA(t.auth,new Fv(t),t.bypassAuthState)}function vP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),KN(n,new Fv(t),t.bypassAuthState)}async function _P(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),GN(n,new Fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yP;case"linkViaPopup":case"linkViaRedirect":return _P;case"reauthViaPopup":case"reauthViaRedirect":return vP;default:qr(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Jc(2e3,1e4);class xl extends MA{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EP.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="pendingRedirect",Kh=new Map;class bP extends MA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(t,e){const n=CP(e),r=AP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wP(t,e){Kh.set(t._key(),e)}function AP(t){return ns(t._redirectPersistence)}function CP(t){return Gh(SP,t.config.apiKey,t.name)}async function RP(t,e,n=!1){if(Dr(t.app))return Promise.reject(rs(t));const r=wo(t),s=pP(r,e),u=await new bP(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=10*60*1e3;class IP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xP&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}}function VS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PP=/^https?/;async function MP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DP(t);for(const n of e)try{if(kP(n))return}catch{}qr(t,"unauthorized-domain")}function kP(t){const e=wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!PP.test(n))return!1;if(NP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Jc(3e4,6e4);function jS(){const t=Si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UP(t){return new Promise((e,n)=>{var r,s,o;function u(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),n(Ei(t,"network-request-failed"))},timeout:LP.get()})}if(!((s=(r=Si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Si().gapi)===null||o===void 0)&&o.load)u();else{const f=xN("iframefcb");return Si()[f]=()=>{gapi.load?u():n(Ei(t,"network-request-failed"))},_A(`${RN()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function VP(t){return Yh=Yh||UP(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Jc(5e3,15e3),zP="__/auth/iframe",FP="emulator/auth/iframe",BP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qP(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kv(e,FP):`https://${t.config.authDomain}/${zP}`,r={apiKey:e.apiKey,appName:t.name,v:Xl},s=HP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zc(r).slice(1)}`}async function $P(t){const e=await VP(t),n=Si().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:qP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(t,"network-request-failed"),f=Si().setTimeout(()=>{o(u)},jP.get());function d(){Si().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KP=500,YP=600,QP="_blank",XP="http://localhost";class zS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WP(t,e,n,r=KP,s=YP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},GP),{width:r.toString(),height:s.toString(),top:o,left:u}),g=Pn().toLowerCase();n&&(f=hA(g)?QP:n),cA(g)&&(e=e||XP,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[T,A])=>`${E}${T}=${A},`,"");if(vN(g)&&f!=="_self")return ZP(e||"",f),new zS(null);const _=window.open(e||"",f,y);je(_,t,"popup-blocked");try{_.focus()}catch{}return new zS(_)}function ZP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="__/auth/handler",eM="emulator/auth/handler",tM=encodeURIComponent("fac");async function FS(t,e,n,r,s,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xl,eventId:s};if(e instanceof bA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",zO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof tf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await t._getAppCheckToken(),g=d?`#${tM}=${encodeURIComponent(d)}`:"";return`${nM(t)}?${Zc(f).slice(1)}${g}`}function nM({config:t}){return t.emulator?kv(t,eM):`https://${t.authDomain}/${JP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class rM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=RP,this._overrideRedirectResult=wP}async _openPopup(e,n,r,s){var o;us((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await FS(e,n,r,wy(),s);return WP(e,u,zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await FS(e,n,r,wy(),s);return aP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(us(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $P(e),r=new IP(e);return n.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qp,{type:qp},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[qp];u!==void 0&&n(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yA()||fA()||Uv()}}const iM=rM;var BS="@firebase/auth",HS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oM(t){Ul(new mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(t)},g=new wN(r,s,o,d);return MN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new mo("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new sM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(BS,HS,aM(t)),aa(BS,HS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=5*60,uM=Kw("authIdTokenMaxAge")||lM;let qS=null;const cM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uM)return;const s=n==null?void 0:n.token;qS!==s&&(qS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fM(t=Jw()){const e=Nv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PN(t,{popupRedirectResolver:iM,persistence:[gP,rP,IA]}),r=Kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=cM(o.toString());ZN(n,u,()=>u(n.currentUser)),WN(n,f=>u(f))}}const s=$w("auth");return s&&kN(n,`http://${s}`),n}function hM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ei("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",hM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oM("Browser");var sc={},$S;function dM(){if($S)return sc;$S=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.parse=u,sc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,T){const A=new o,k=E.length;if(k<2)return A;const M=(T==null?void 0:T.decode)||y;let j=0;do{const G=E.indexOf("=",j);if(G===-1)break;const Q=E.indexOf(";",j),re=Q===-1?k:Q;if(G>re){j=E.lastIndexOf(";",G-1)+1;continue}const te=f(E,j,G),B=d(E,G,te),D=E.slice(te,B);if(A[D]===void 0){let I=f(E,G+1,re),R=d(E,re,I);const P=M(E.slice(I,R));A[D]=P}j=re+1}while(j<k);return A}function f(E,T,A){do{const k=E.charCodeAt(T);if(k!==32&&k!==9)return T}while(++T<A);return A}function d(E,T,A){for(;T>A;){const k=E.charCodeAt(--T);if(k!==32&&k!==9)return T+1}return A}function g(E,T,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const M=k(T);if(!e.test(M))throw new TypeError(`argument val is invalid: ${T}`);let j=E+"="+M;if(!A)return j;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);j+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);j+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);j+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);j+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(j+="; HttpOnly"),A.secure&&(j+="; Secure"),A.partitioned&&(j+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return j}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return sc}dM();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LA=t=>{throw TypeError(t)},mM=(t,e,n)=>e.has(t)||LA("Cannot "+n),$p=(t,e,n)=>(mM(t,e,"read from private field"),n?n.call(t):e.get(t)),gM=(t,e,n)=>e.has(t)?LA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),GS="popstate";function pM(t={}){function e(s,o){let{pathname:u="/",search:f="",hash:d=""}=ps(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Pc("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=s.location.href,g=d.indexOf("#");f=g===-1?d:d.slice(0,g)}return f+"#"+(typeof o=="string"?o:fa(o))}function r(s,o){Lt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vM(e,n,r,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yM(){return Math.random().toString(36).substring(2,10)}function KS(t,e){return{usr:t.state,key:t.key,idx:e}}function Pc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ps(e):e,state:n,key:e&&e.key||r||yM()}}function fa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function vM(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,f="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let M=y(),j=M==null?null:M-g;g=M,d&&d({action:f,location:k.location,delta:j})}function E(M,j){f="PUSH";let G=Pc(k.location,M,j);n&&n(G,M),g=y()+1;let Q=KS(G,g),re=k.createHref(G);try{u.pushState(Q,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(re)}o&&d&&d({action:f,location:k.location,delta:1})}function T(M,j){f="REPLACE";let G=Pc(k.location,M,j);n&&n(G,M),g=y();let Q=KS(G,g),re=k.createHref(G);u.replaceState(Q,"",re),o&&d&&d({action:f,location:k.location,delta:0})}function A(M){return UA(M)}let k={get action(){return f},get location(){return t(s,u)},listen(M){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(GS,_),d=M,()=>{s.removeEventListener(GS,_),d=null}},createHref(M){return e(s,M)},createURL:A,encodeLocation(M){let j=A(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:T,go(M){return u.go(M)}};return k}function UA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var hc,YS=class{constructor(t){if(gM(this,hc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if($p(this,hc).has(t))return $p(this,hc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){$p(this,hc).set(t,e)}};hc=new WeakMap;var _M=new Set(["lazy","caseSensitive","path","id","index","children"]);function EM(t){return _M.has(t)}var SM=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function bM(t){return SM.has(t)}function TM(t){return t.index===!0}function Sd(t,e,n=[],r={}){return t.map((s,o)=>{let u=[...n,String(o)],f=typeof s.id=="string"?s.id:u.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),TM(s)){let d={...s,...e(s),id:f};return r[f]=d,d}else{let d={...s,...e(s),id:f,children:void 0};return r[f]=d,s.children&&(d.children=Sd(s.children,e,u,r)),d}})}function na(t,e,n="/"){return Qh(t,e,n,!1)}function Qh(t,e,n,r){let s=typeof e=="string"?ps(e):e,o=Yn(s.pathname||"/",n);if(o==null)return null;let u=VA(t);AM(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let g=LM(o);f=MM(u[d],g,r)}return f}function wM(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function VA(t,e=[],n=[],r=""){let s=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Je(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=bi([r,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),VA(o.children,e,y,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:NM(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,u);else for(let d of jA(o.path))s(o,u,d)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=jA(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function AM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CM=/^:[\w-]+$/,RM=3,xM=2,IM=1,OM=10,DM=-2,QS=t=>t==="*";function NM(t,e){let n=t.split("/"),r=n.length;return n.some(QS)&&(r+=DM),e&&(r+=xM),n.filter(s=>!QS(s)).reduce((s,o)=>s+(CM.test(o)?RM:o===""?IM:OM),r)}function PM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function MM(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:bi([o,_.pathname]),pathnameBase:jM(bi([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=bi([o,_.pathnameBase]))}return u}function bd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=f[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[E];return _&&!T?g[y]=void 0:g[y]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:t}}function kM(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UM(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ps(t):t;return{pathname:n?n.startsWith("/")?n:VM(n,e):e,search:zM(r),hash:FM(s)}}function VM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function em(t){let e=zA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tm(t,e,n,r=!1){let s;typeof t=="string"?s=ps(t):(s={...t},Je(!s.pathname||!s.pathname.includes("?"),Gp("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Gp("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Gp("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}f=_>=0?e[_]:"/"}let d=UM(s,f),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),jM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Td=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FA=["POST","PUT","PATCH","DELETE"],BM=new Set(FA),HM=["GET",...FA],qM=new Set(HM),$M=new Set([301,302,303,307,308]),GM=new Set([307,308]),Kp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),BA="remix-router-transitions",HA=Symbol("ResetLoaderData");function QM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||YM,o={},u=Sd(t.routes,s,void 0,o),f,d=t.basename||"/",g=t.dataStrategy||ek,y={unstable_middleware:!1,...t.future},_=null,E=new Set,T=null,A=null,k=null,M=t.hydrationData!=null,j=na(u,t.history.location,d),G=!1,Q=null,re;if(j==null&&!t.patchRoutesOnNavigation){let z=Or(404,{pathname:t.history.location.pathname}),{matches:$,route:W}=ob(u);re=!0,j=$,Q={[W.id]:z}}else if(j&&!t.hydrationData&&Un(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(z=>z.route.lazy))re=!1;else if(!j.some(z=>z.route.loader))re=!0;else{let z=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let W=j.findIndex(le=>$[le.route.id]!==void 0);re=j.slice(0,W+1).every(le=>!Iy(le.route,z,$))}else re=j.every(W=>!Iy(W.route,z,$))}else{re=!1,j=[];let z=Un(null,u,t.history.location.pathname);z.active&&z.matches&&(G=!0,j=z.matches)}let te,B={historyAction:t.history.action,location:t.history.location,matches:j,initialized:re,navigation:Kp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},D="POP",I=!1,R,P=!1,F=new Map,V=null,N=!1,Se=!1,Ve=new Set,Y=new Map,fe=0,ye=-1,Oe=new Map,U=new Set,ie=new Map,de=new Map,oe=new Set,be=new Map,Be,De=null;function Gt(){if(_=t.history.listen(({action:z,location:$,delta:W})=>{if(Be){Be(),Be=void 0;return}Lt(be.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=bs({currentLocation:B.location,nextLocation:$,historyAction:z});if(le&&W!=null){let me=new Promise(ve=>{Be=ve});t.history.go(W*-1),gr(le,{state:"blocked",location:$,proceed(){gr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>t.history.go(W))},reset(){let ve=new Map(B.blockers);ve.set(le,bl),Dt({blockers:ve})}});return}return kn(z,$)}),n){fk(e,F);let z=()=>hk(e,F);e.addEventListener("pagehide",z),V=()=>e.removeEventListener("pagehide",z)}return B.initialized||kn("POP",B.location,{initialHydration:!0}),te}function St(){_&&_(),V&&V(),E.clear(),R&&R.abort(),B.fetchers.forEach((z,$)=>Kt($)),B.blockers.forEach((z,$)=>Di($))}function hr(z){return E.add(z),()=>E.delete(z)}function Dt(z,$={}){B={...B,...z};let W=[],le=[];B.fetchers.forEach((me,ve)=>{me.state==="idle"&&(oe.has(ve)?W.push(ve):le.push(ve))}),oe.forEach(me=>{!B.fetchers.has(me)&&!Y.has(me)&&W.push(me)}),[...E].forEach(me=>me(B,{deletedFetchers:W,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),W.forEach(me=>Kt(me)),le.forEach(me=>B.fetchers.delete(me))}function An(z,$,{flushSync:W}={}){var Re,Me;let le=B.actionData!=null&&B.navigation.formMethod!=null&&or(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Re=z.state)==null?void 0:Re._isRedirect)!==!0,me;$.actionData?Object.keys($.actionData).length>0?me=$.actionData:me=null:le?me=B.actionData:me=null;let ve=$.loaderData?sb(B.loaderData,$.loaderData,$.matches||[],$.errors):B.loaderData,Ne=B.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((Ae,Le)=>Ne.set(Le,bl)));let Ee=I===!0||B.navigation.formMethod!=null&&or(B.navigation.formMethod)&&((Me=z.state)==null?void 0:Me._isRedirect)!==!0;f&&(u=f,f=void 0),N||D==="POP"||(D==="PUSH"?t.history.push(z,z.state):D==="REPLACE"&&t.history.replace(z,z.state));let we;if(D==="POP"){let Ae=F.get(B.location.pathname);Ae&&Ae.has(z.pathname)?we={currentLocation:B.location,nextLocation:z}:F.has(z.pathname)&&(we={currentLocation:z,nextLocation:B.location})}else if(P){let Ae=F.get(B.location.pathname);Ae?Ae.add(z.pathname):(Ae=new Set([z.pathname]),F.set(B.location.pathname,Ae)),we={currentLocation:B.location,nextLocation:z}}Dt({...$,actionData:me,loaderData:ve,historyAction:D,location:z,initialized:!0,navigation:Kp,revalidation:"idle",restoreScrollPosition:Ts(z,$.matches||B.matches),preventScrollReset:Ee,blockers:Ne},{viewTransitionOpts:we,flushSync:W===!0}),D="POP",I=!1,P=!1,N=!1,Se=!1,De==null||De.resolve(),De=null}async function Qr(z,$){if(typeof z=="number"){t.history.go(z);return}let W=xy(B.location,B.matches,d,z,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:le,submission:me,error:ve}=XS(!1,W,$),Ne=B.location,Ee=Pc(B.location,le,$&&$.state);Ee={...Ee,...t.history.encodeLocation(Ee)};let we=$&&$.replace!=null?$.replace:void 0,Re="PUSH";we===!0?Re="REPLACE":we===!1||me!=null&&or(me.formMethod)&&me.formAction===B.location.pathname+B.location.search&&(Re="REPLACE");let Me=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ae=($&&$.flushSync)===!0,Le=bs({currentLocation:Ne,nextLocation:Ee,historyAction:Re});if(Le){gr(Le,{state:"blocked",location:Ee,proceed(){gr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Qr(z,$)},reset(){let et=new Map(B.blockers);et.set(Le,bl),Dt({blockers:et})}});return}await kn(Re,Ee,{submission:me,pendingError:ve,preventScrollReset:Me,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ae})}function Ii(){De||(De=dk()),Ss(),Dt({revalidation:"loading"});let z=De.promise;return B.navigation.state==="submitting"?z:B.navigation.state==="idle"?(kn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),z):(kn(D||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:P===!0}),z)}async function kn(z,$,W){R&&R.abort(),R=null,D=z,N=(W&&W.startUninterruptedRevalidation)===!0,Mr(B.location,B.matches),I=(W&&W.preventScrollReset)===!0,P=(W&&W.enableViewTransition)===!0;let le=f||u,me=W&&W.overrideNavigation,ve=W!=null&&W.initialHydration&&B.matches&&B.matches.length>0&&!G?B.matches:na(le,$,d),Ne=(W&&W.flushSync)===!0;if(ve&&B.initialized&&!Se&&ak(B.location,$)&&!(W&&W.submission&&or(W.submission.formMethod))){An($,{matches:ve},{flushSync:Ne});return}let Ee=Un(ve,le,$.pathname);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){let{error:ht,notFoundMatches:ot,route:We}=Ni($.pathname);An($,{matches:ot,loaderData:{},errors:{[We.id]:ht}},{flushSync:Ne});return}R=new AbortController;let we=Tl(t.history,$,R.signal,W&&W.submission),Re=new YS(t.unstable_getContext?await t.unstable_getContext():void 0),Me;if(W&&W.pendingError)Me=[ao(ve).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&or(W.submission.formMethod)){let ht=await xa(we,$,W.submission,ve,Re,Ee.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Ne});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[ot,We]=ht.pendingActionResult;if(ar(We)&&Mc(We.error)&&We.error.status===404){R=null,An($,{matches:ht.matches,loaderData:{},errors:{[ot]:We.error}});return}}ve=ht.matches||ve,Me=ht.pendingActionResult,me=Yp($,W.submission),Ne=!1,Ee.active=!1,we=Tl(t.history,we.url,we.signal)}let{shortCircuited:Ae,matches:Le,loaderData:et,errors:pt}=await No(we,$,ve,Re,Ee.active,me,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ne,Me);Ae||(R=null,An($,{matches:Le||ve,...ab(Me),loaderData:et,errors:pt}))}async function xa(z,$,W,le,me,ve,Ne,Ee={}){Ss();let we=uk($,W);if(Dt({navigation:we},{flushSync:Ee.flushSync===!0}),ve){let Ae=await Jr(le,$.pathname,z.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let Le=ao(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Le,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:Le,error:et,route:pt}=Ni($.pathname);return{matches:Le,pendingActionResult:[pt.id,{type:"error",error:et}]}}}let Re,Me=dc(le,$);if(!Me.route.action&&!Me.route.lazy)Re={type:"error",error:Or(405,{method:z.method,pathname:$.pathname,routeId:Me.route.id})};else{let Ae=Ml(s,o,z,le,Me,Ne?[]:r,me),Le=await dr(z,Ae,me,null);if(Re=Le[Me.route.id],!Re){for(let et of le)if(Le[et.route.id]){Re=Le[et.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(oo(Re)){let Ae;return Ee&&Ee.replace!=null?Ae=Ee.replace:Ae=nb(Re.response.headers.get("Location"),new URL(z.url),d)===B.location.pathname+B.location.search,await Pr(z,Re,!0,{submission:W,replace:Ae}),{shortCircuited:!0}}if(ar(Re)){let Ae=ao(le,Me.route.id);return(Ee&&Ee.replace)!==!0&&(D="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,Re,Me.route.id]}}return{matches:le,pendingActionResult:[Me.route.id,Re]}}async function No(z,$,W,le,me,ve,Ne,Ee,we,Re,Me,Ae){let Le=ve||Yp($,Ne),et=Ne||Ee||ub(Le),pt=!N&&!Re;if(me){if(pt){let Yt=Ln(Ae);Dt({navigation:Le,...Yt!==void 0?{actionData:Yt}:{}},{flushSync:Me})}let He=await Jr(W,$.pathname,z.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Yt=ao(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Yt]:He.error}}}else if(He.matches)W=He.matches;else{let{error:Yt,notFoundMatches:Wn,route:Bn}=Ni($.pathname);return{matches:Wn,loaderData:{},errors:{[Bn.id]:Yt}}}}let ht=f||u,{dsMatches:ot,revalidatingFetchers:We}=WS(z,le,s,o,t.history,B,W,et,$,Re?[]:r,Re===!0,Se,Ve,oe,ie,U,ht,d,t.patchRoutesOnNavigation!=null,Ae);if(ye=++fe,!t.dataStrategy&&!ot.some(He=>He.shouldLoad)&&We.length===0){let He=Wr();return An($,{matches:W,loaderData:{},errors:Ae&&ar(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...ab(Ae),...He?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(pt){let He={};if(!me){He.navigation=Le;let Yt=Ln(Ae);Yt!==void 0&&(He.actionData=Yt)}We.length>0&&(He.fetchers=su(We)),Dt(He,{flushSync:Me})}We.forEach(He=>{mr(He.key),He.controller&&Y.set(He.key,He.controller)});let yr=()=>We.forEach(He=>mr(He.key));R&&R.signal.addEventListener("abort",yr);let{loaderResults:Jt,fetcherResults:Vn}=await Es(ot,We,z,le);if(z.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",yr),We.forEach(He=>Y.delete(He.key));let mn=Nh(Jt);if(mn)return await Pr(z,mn.result,!0,{replace:we}),{shortCircuited:!0};if(mn=Nh(Vn),mn)return U.add(mn.key),await Pr(z,mn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:ti,errors:Xn}=ib(B,W,Jt,Ae,We,Vn);Re&&B.errors&&(Xn={...B.errors,...Xn});let As=Wr(),Rn=Zr(ye),jn=As||Rn||We.length>0;return{matches:W,loaderData:ti,errors:Xn,...jn?{fetchers:new Map(B.fetchers)}:{}}}function Ln(z){if(z&&!ar(z[1]))return{[z[0]]:z[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function su(z){return z.forEach($=>{let W=B.fetchers.get($.key),le=ac(void 0,W?W.data:void 0);B.fetchers.set($.key,le)}),new Map(B.fetchers)}async function Ia(z,$,W,le){mr(z);let me=(le&&le.flushSync)===!0,ve=f||u,Ne=xy(B.location,B.matches,d,W,$,le==null?void 0:le.relative),Ee=na(ve,Ne,d),we=Un(Ee,ve,Ne);if(we.active&&we.matches&&(Ee=we.matches),!Ee){Ye(z,$,Or(404,{pathname:Ne}),{flushSync:me});return}let{path:Re,submission:Me,error:Ae}=XS(!0,Ne,le);if(Ae){Ye(z,$,Ae,{flushSync:me});return}let Le=dc(Ee,Re),et=new YS(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(le&&le.preventScrollReset)===!0;if(Me&&or(Me.formMethod)){await _s(z,$,Re,Le,Ee,et,we.active,me,pt,Me);return}ie.set(z,{routeId:$,path:Re}),await Oi(z,$,Re,Le,Ee,et,we.active,me,pt,Me)}async function _s(z,$,W,le,me,ve,Ne,Ee,we,Re){Ss(),ie.delete(z);function Me(Ct){if(!Ct.route.action&&!Ct.route.lazy){let vr=Or(405,{method:Re.formMethod,pathname:W,routeId:$});return Ye(z,$,vr,{flushSync:Ee}),!0}return!1}if(!Ne&&Me(le))return;let Ae=B.fetchers.get(z);mt(z,ck(Re,Ae),{flushSync:Ee});let Le=new AbortController,et=Tl(t.history,W,Le.signal,Re);if(Ne){let Ct=await Jr(me,W,et.signal,z);if(Ct.type==="aborted")return;if(Ct.type==="error"){Ye(z,$,Ct.error,{flushSync:Ee});return}else if(Ct.matches){if(me=Ct.matches,le=dc(me,W),Me(le))return}else{Ye(z,$,Or(404,{pathname:W}),{flushSync:Ee});return}}Y.set(z,Le);let pt=fe,ht=Ml(s,o,et,me,le,r,ve),We=(await dr(et,ht,ve,z))[le.route.id];if(et.signal.aborted){Y.get(z)===Le&&Y.delete(z);return}if(oe.has(z)){if(oo(We)||ar(We)){mt(z,Ws(void 0));return}}else{if(oo(We))if(Y.delete(z),ye>pt){mt(z,Ws(void 0));return}else return U.add(z),mt(z,ac(Re)),Pr(et,We,!1,{fetcherSubmission:Re,preventScrollReset:we});if(ar(We)){Ye(z,$,We.error);return}}let yr=B.navigation.location||B.location,Jt=Tl(t.history,yr,Le.signal),Vn=f||u,mn=B.navigation.state!=="idle"?na(Vn,B.navigation.location,d):B.matches;Je(mn,"Didn't find any matches after fetcher action");let ti=++fe;Oe.set(z,ti);let Xn=ac(Re,We.data);B.fetchers.set(z,Xn);let{dsMatches:As,revalidatingFetchers:Rn}=WS(Jt,ve,s,o,t.history,B,mn,Re,yr,r,!1,Se,Ve,oe,ie,U,Vn,d,t.patchRoutesOnNavigation!=null,[le.route.id,We]);Rn.filter(Ct=>Ct.key!==z).forEach(Ct=>{let vr=Ct.key,Pi=B.fetchers.get(vr),gn=ac(void 0,Pi?Pi.data:void 0);B.fetchers.set(vr,gn),mr(vr),Ct.controller&&Y.set(vr,Ct.controller)}),Dt({fetchers:new Map(B.fetchers)});let jn=()=>Rn.forEach(Ct=>mr(Ct.key));Le.signal.addEventListener("abort",jn);let{loaderResults:He,fetcherResults:Yt}=await Es(As,Rn,Jt,ve);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",jn),Oe.delete(z),Y.delete(z),Rn.forEach(Ct=>Y.delete(Ct.key)),B.fetchers.has(z)){let Ct=Ws(We.data);B.fetchers.set(z,Ct)}let Wn=Nh(He);if(Wn)return Pr(Jt,Wn.result,!1,{preventScrollReset:we});if(Wn=Nh(Yt),Wn)return U.add(Wn.key),Pr(Jt,Wn.result,!1,{preventScrollReset:we});let{loaderData:Bn,errors:ni}=ib(B,mn,He,void 0,Rn,Yt);Zr(ti),B.navigation.state==="loading"&&ti>ye?(Je(D,"Expected pending action"),R&&R.abort(),An(B.navigation.location,{matches:mn,loaderData:Bn,errors:ni,fetchers:new Map(B.fetchers)})):(Dt({errors:ni,loaderData:sb(B.loaderData,Bn,mn,ni),fetchers:new Map(B.fetchers)}),Se=!1)}async function Oi(z,$,W,le,me,ve,Ne,Ee,we,Re){let Me=B.fetchers.get(z);mt(z,ac(Re,Me?Me.data:void 0),{flushSync:Ee});let Ae=new AbortController,Le=Tl(t.history,W,Ae.signal);if(Ne){let We=await Jr(me,W,Le.signal,z);if(We.type==="aborted")return;if(We.type==="error"){Ye(z,$,We.error,{flushSync:Ee});return}else if(We.matches)me=We.matches,le=dc(me,W);else{Ye(z,$,Or(404,{pathname:W}),{flushSync:Ee});return}}Y.set(z,Ae);let et=fe,pt=Ml(s,o,Le,me,le,r,ve),ot=(await dr(Le,pt,ve,z))[le.route.id];if(Y.get(z)===Ae&&Y.delete(z),!Le.signal.aborted){if(oe.has(z)){mt(z,Ws(void 0));return}if(oo(ot))if(ye>et){mt(z,Ws(void 0));return}else{U.add(z),await Pr(Le,ot,!1,{preventScrollReset:we});return}if(ar(ot)){Ye(z,$,ot.error);return}mt(z,Ws(ot.data))}}async function Pr(z,$,W,{submission:le,fetcherSubmission:me,preventScrollReset:ve,replace:Ne}={}){$.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ee=$.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=nb(Ee,new URL(z.url),d);let we=Pc(B.location,Ee,{_isRedirect:!0});if(n){let pt=!1;if($.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Bv.test(Ee)){const ht=UA(Ee,!0);pt=ht.origin!==e.location.origin||Yn(ht.pathname,d)==null}if(pt){Ne?e.location.replace(Ee):e.location.assign(Ee);return}}R=null;let Re=Ne===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:Ae,formEncType:Le}=B.navigation;!le&&!me&&Me&&Ae&&Le&&(le=ub(B.navigation));let et=le||me;if(GM.has($.response.status)&&et&&or(et.formMethod))await kn(Re,we,{submission:{...et,formAction:Ee},preventScrollReset:ve||I,enableViewTransition:W?P:void 0});else{let pt=Yp(we,le);await kn(Re,we,{overrideNavigation:pt,fetcherSubmission:me,preventScrollReset:ve||I,enableViewTransition:W?P:void 0})}}async function dr(z,$,W,le){let me,ve={};try{me=await tk(g,z,$,le,W,!1)}catch(Ne){return $.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{ve[Ee.route.id]={type:"error",error:Ne}}),ve}if(z.signal.aborted)return ve;for(let[Ne,Ee]of Object.entries(me))if(ok(Ee)){let we=Ee.result;ve[Ne]={type:"redirect",response:ik(we,z,Ne,$,d)}}else ve[Ne]=await rk(Ee);return ve}async function Es(z,$,W,le){let me=dr(W,z,le,null),ve=Promise.all($.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Me=(await dr(we.request,we.matches,le,we.key))[we.match.route.id];return{[we.key]:Me}}else return Promise.resolve({[we.key]:{type:"error",error:Or(404,{pathname:we.path})}})})),Ne=await me,Ee=(await ve).reduce((we,Re)=>Object.assign(we,Re),{});return{loaderResults:Ne,fetcherResults:Ee}}function Ss(){Se=!0,ie.forEach((z,$)=>{Y.has($)&&Ve.add($),mr($)})}function mt(z,$,W={}){B.fetchers.set(z,$),Dt({fetchers:new Map(B.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ye(z,$,W,le={}){let me=ao(B.matches,$);Kt(z),Dt({errors:{[me.route.id]:W},fetchers:new Map(B.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Cn(z){return de.set(z,(de.get(z)||0)+1),oe.has(z)&&oe.delete(z),B.fetchers.get(z)||KM}function Kt(z){let $=B.fetchers.get(z);Y.has(z)&&!($&&$.state==="loading"&&Oe.has(z))&&mr(z),ie.delete(z),Oe.delete(z),U.delete(z),oe.delete(z),Ve.delete(z),B.fetchers.delete(z)}function Po(z){let $=(de.get(z)||0)-1;$<=0?(de.delete(z),oe.add(z)):de.set(z,$),Dt({fetchers:new Map(B.fetchers)})}function mr(z){let $=Y.get(z);$&&($.abort(),Y.delete(z))}function Xr(z){for(let $ of z){let W=Cn($),le=Ws(W.data);B.fetchers.set($,le)}}function Wr(){let z=[],$=!1;for(let W of U){let le=B.fetchers.get(W);Je(le,`Expected fetcher: ${W}`),le.state==="loading"&&(U.delete(W),z.push(W),$=!0)}return Xr(z),$}function Zr(z){let $=[];for(let[W,le]of Oe)if(le<z){let me=B.fetchers.get(W);Je(me,`Expected fetcher: ${W}`),me.state==="loading"&&(mr(W),Oe.delete(W),$.push(W))}return Xr($),$.length>0}function Qn(z,$){let W=B.blockers.get(z)||bl;return be.get(z)!==$&&be.set(z,$),W}function Di(z){B.blockers.delete(z),be.delete(z)}function gr(z,$){let W=B.blockers.get(z)||bl;Je(W.state==="unblocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="proceeding"||W.state==="blocked"&&$.state==="unblocked"||W.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${$.state}`);let le=new Map(B.blockers);le.set(z,$),Dt({blockers:le})}function bs({currentLocation:z,nextLocation:$,historyAction:W}){if(be.size===0)return;be.size>1&&Lt(!1,"A router only supports one blocker at a time");let le=Array.from(be.entries()),[me,ve]=le[le.length-1],Ne=B.blockers.get(me);if(!(Ne&&Ne.state==="proceeding")&&ve({currentLocation:z,nextLocation:$,historyAction:W}))return me}function Ni(z){let $=Or(404,{pathname:z}),W=f||u,{matches:le,route:me}=ob(W);return{notFoundMatches:le,route:me,error:$}}function Oa(z,$,W){if(T=z,k=$,A=W||null,!M&&B.navigation===Kp){M=!0;let le=Ts(B.location,B.matches);le!=null&&Dt({restoreScrollPosition:le})}return()=>{T=null,k=null,A=null}}function pr(z,$){return A&&A(z,$.map(le=>wM(le,B.loaderData)))||z.key}function Mr(z,$){if(T&&k){let W=pr(z,$);T[W]=k()}}function Ts(z,$){if(T){let W=pr(z,$),le=T[W];if(typeof le=="number")return le}return null}function Un(z,$,W){if(t.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Qh($,W,d,!0)}}else return{active:!0,matches:Qh($,W,d,!0)||[]};return{active:!1,matches:null}}async function Jr(z,$,W,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:z};let me=z;for(;;){let ve=f==null,Ne=f||u,Ee=o;try{await t.patchRoutesOnNavigation({signal:W,path:$,matches:me,fetcherKey:le,patch:(Me,Ae)=>{W.aborted||ZS(Me,Ae,Ne,Ee,s)}})}catch(Me){return{type:"error",error:Me,partialMatches:me}}finally{ve&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let we=na(Ne,$,d);if(we)return{type:"success",matches:we};let Re=Qh(Ne,$,d,!0);if(!Re||me.length===Re.length&&me.every((Me,Ae)=>Me.route.id===Re[Ae].route.id))return{type:"success",matches:null};me=Re}}function ei(z){o={},f=Sd(z,s,void 0,o)}function ws(z,$){let W=f==null;ZS(z,$,f||u,o,s),W&&(u=[...u],Dt({}))}return te={get basename(){return d},get future(){return y},get state(){return B},get routes(){return u},get window(){return e},initialize:Gt,subscribe:hr,enableScrollRestoration:Oa,navigate:Qr,fetch:Ia,revalidate:Ii,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Cn,deleteFetcher:Po,dispose:St,getBlocker:Qn,deleteBlocker:Di,patchRoutes:ws,_internalFetchControllers:Y,_internalSetRoutes:ei},te}function XM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xy(t,e,n,r,s,o){let u,f;if(s){u=[];for(let g of e)if(u.push(g),g.route.id===s){f=g;break}}else u=e,f=e[e.length-1];let d=tm(r||".",em(u),Yn(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&f){let g=Hv(d.search);if(f.route.index&&!g)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(T=>T).forEach(T=>y.append("index",T));let E=y.toString();d.search=E?`?${E}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:bi([n,d.pathname])),fa(d)}function XS(t,e,n){if(!n||!XM(n))return{path:e};if(n.formMethod&&!lk(n.formMethod))return{path:e,error:Or(405,{method:n.formMethod})};let r=()=>({path:e,error:Or(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=QA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!or(o))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[T,A])=>`${E}${T}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!or(o))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let f,d;if(n.formData)f=Dy(n.formData),d=n.formData;else if(n.body instanceof FormData)f=Dy(n.body),d=n.body;else if(n.body instanceof URLSearchParams)f=n.body,d=rb(f);else if(n.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(n.body),d=rb(f)}catch{return r()}let g={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(or(g.formMethod))return{path:e,submission:g};let y=ps(e);return t&&y.search&&Hv(y.search)&&f.append("index",""),y.search=`?${f}`,{path:fa(y),submission:g}}function WS(t,e,n,r,s,o,u,f,d,g,y,_,E,T,A,k,M,j,G,Q){var N;let re=Q?ar(Q[1])?Q[1].error:Q[1].data:void 0,te=s.createURL(o.location),B=s.createURL(d),D;if(y&&o.errors){let Se=Object.keys(o.errors)[0];D=u.findIndex(Ve=>Ve.route.id===Se)}else if(Q&&ar(Q[1])){let Se=Q[0];D=u.findIndex(Ve=>Ve.route.id===Se)-1}let I=Q?Q[1].statusCode:void 0,R=I&&I>=400,P={currentUrl:te,currentParams:((N=o.matches[0])==null?void 0:N.params)||{},nextUrl:B,nextParams:u[0].params,...f,actionResult:re,actionStatus:I},F=u.map((Se,Ve)=>{let{route:Y}=Se,fe=null;if(D!=null&&Ve>D?fe=!1:Y.lazy?fe=!0:Y.loader==null?fe=!1:y?fe=Iy(Y,o.loaderData,o.errors):WM(o.loaderData,o.matches[Ve],Se)&&(fe=!0),fe!==null)return Oy(n,r,t,Se,g,e,fe);let ye=R?!1:_||te.pathname+te.search===B.pathname+B.search||te.search!==B.search||ZM(o.matches[Ve],Se),Oe={...P,defaultShouldRevalidate:ye},U=wd(Se,Oe);return Oy(n,r,t,Se,g,e,U,Oe)}),V=[];return A.forEach((Se,Ve)=>{if(y||!u.some(oe=>oe.route.id===Se.routeId)||T.has(Ve))return;let Y=o.fetchers.get(Ve),fe=Y&&Y.state!=="idle"&&Y.data===void 0,ye=na(M,Se.path,j);if(!ye){if(G&&fe)return;V.push({key:Ve,routeId:Se.routeId,path:Se.path,matches:null,match:null,request:null,controller:null});return}if(k.has(Ve))return;let Oe=dc(ye,Se.path),U=new AbortController,ie=Tl(s,Se.path,U.signal),de=null;if(E.has(Ve))E.delete(Ve),de=Ml(n,r,ie,ye,Oe,g,e);else if(fe)_&&(de=Ml(n,r,ie,ye,Oe,g,e));else{let oe={...P,defaultShouldRevalidate:R?!1:_};wd(Oe,oe)&&(de=Ml(n,r,ie,ye,Oe,g,e,oe))}de&&V.push({key:Ve,routeId:Se.routeId,path:Se.path,matches:de,match:Oe,request:ie,controller:U})}),{dsMatches:F,revalidatingFetchers:V}}function Iy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function WM(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function ZM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function wd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function ZS(t,e,n,r,s){let o;if(t){let d=r[t];Je(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(g=>qA(d,g))),f=Sd(u,s,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...f)}function qA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>qA(n,o))}):!1}var JS=new WeakMap,$A=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Je(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let u=JS.get(s);u||(u={},JS.set(s,u));let f=u[t];if(f)return f;let d=(async()=>{let g=EM(t),_=s[t]!==void 0&&t!=="hasErrorBoundary";if(g)Lt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)Lt(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(s,{[t]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[t]=d,d},eb=new WeakMap;function JM(t,e,n,r,s){let o=n[t.id];if(Je(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=eb.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Je(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),T={};for(let A in E){let k=E[A];if(k===void 0)continue;let M=bM(A),G=o[A]!==void 0&&A!=="hasErrorBoundary";M?Lt(!M,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?Lt(!G,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=k}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return eb.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],d;for(let y of u){if(s&&s.includes(y))continue;let _=$A({key:y,route:t,manifest:n,mapRouteProperties:r});_&&(f.push(_),y===e&&(d=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g==null||g.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:d}}async function tb(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function ek(t){return t.matches.some(e=>e.route.unstable_middleware)?GA(t,!1,()=>tb(t),(e,n)=>({[n]:{type:"error",result:e}})):tb(t)}async function GA(t,e,n,r){let{matches:s,request:o,params:u,context:f}=t,d={handlerResult:void 0};try{let g=s.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await KA({request:o,params:u,context:f},g,e,d,n);return e?y:d.handlerResult}catch(g){if(!d.middlewareError)throw g;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function KA(t,e,n,r,s,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[o];if(!f)return r.handlerResult=await s(),r.handlerResult;let[d,g]=f,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await KA(t,e,n,r,s,o+1)};try{let T=await g({request:t.request,params:t.params,context:t.context},E);return y?T===void 0?_:T:E()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}function YA(t,e,n,r,s){let o=$A({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=JM(r.route,or(n.method)?"action":"loader",e,t,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Oy(t,e,n,r,s,o,u,f=null){let d=!1,g=YA(t,e,n,r,s);return{...r,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return d=!0,f?typeof y=="boolean"?wd(r,{...f,defaultShouldRevalidate:y}):wd(r,f):u},resolve(y){return d||u||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?nk({request:n,match:r,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ml(t,e,n,r,s,o,u,f=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:YA(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Oy(t,e,n,d,o,u,!0,f))}async function tk(t,e,n,r,s,o){n.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:n[0].params,context:s,matches:n},d=await t({...u,fetcherKey:r,unstable_runClientMiddleware:g=>{let y=u;return GA(y,!1,()=>g({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(g=>{var y,_;return[(y=g._lazyPromises)==null?void 0:y.handler,(_=g._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function nk({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let u,f,d=or(t.method),g=d?"action":"loader",y=_=>{let E,T=new Promise((M,j)=>E=j);f=()=>E(),t.signal.addEventListener("abort",f);let A=M=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:o},...M!==void 0?[M]:[]),k=(async()=>{try{return{type:"data",result:await(s?s(j=>A(j)):A())}}catch(M){return{type:"error",result:M}}})();return Promise.race([k,T])};try{let _=d?e.route.action:e.route.loader;if(n||r)if(_){let E,[T]=await Promise.all([y(_).catch(A=>{E=A}),n,r]);if(E!==void 0)throw E;u=T}else{await n;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([y(E),r]);else if(g==="action"){let T=new URL(t.url),A=T.pathname+T.search;throw Or(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let E=new URL(t.url),T=E.pathname+E.search;throw Or(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function rk(t){var r,s,o,u,f,d;let{result:e,type:n}=t;if(XA(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new Td(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?lb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Td(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Mc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Mc(e)?e.status:void 0}:lb(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ik(t,e,n,r,s){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bv.test(o)){let u=r.slice(0,r.findIndex(f=>f.route.id===n)+1);o=xy(new URL(e.url),u,s,o),t.headers.set("Location",o)}return t}function nb(t,e,n){if(Bv.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Yn(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Tl(t,e,n,r){let s=t.createURL(QA(e)).toString(),o={signal:n};if(r&&or(r.formMethod)){let{formMethod:u,formEncType:f}=r;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(r.json)):f==="text/plain"?o.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?o.body=Dy(r.formData):o.body=r.formData}return new Request(s,o)}function Dy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function rb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function sk(t,e,n,r=!1,s=!1){let o={},u=null,f,d=!1,g={},y=n&&ar(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,T=e[E];if(Je(!oo(T),"Cannot handle redirect results in processLoaderData"),ar(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},s)u[E]=A;else{let k=ao(t,E);u[k.route.id]==null&&(u[k.route.id]=A)}r||(o[E]=HA),d||(d=!0,f=Mc(T.error)?T.error.status:500),T.headers&&(g[E]=T.headers)}else o[E]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(f=T.statusCode),T.headers&&(g[E]=T.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:g}}function ib(t,e,n,r,s,o){let{loaderData:u,errors:f}=sk(e,n,r);return s.filter(d=>!d.matches||d.matches.some(g=>g.shouldLoad)).forEach(d=>{let{key:g,match:y,controller:_}=d,E=o[g];if(Je(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(ar(E)){let T=ao(t.matches,y==null?void 0:y.route.id);f&&f[T.route.id]||(f={...f,[T.route.id]:E.error}),t.fetchers.delete(g)}else if(oo(E))Je(!1,"Unhandled fetcher revalidation redirect");else{let T=Ws(E.data);t.fetchers.set(g,T)}}),{loaderData:u,errors:f}}function sb(t,e,n,r){let s=Object.entries(e).filter(([,o])=>o!==HA).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(s[u]=t[u]),r&&r.hasOwnProperty(u))break}return s}function ab(t){return t?ar(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ao(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function ob(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Or(t,{pathname:e,routeId:n,method:r,type:s,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new Td(t||500,u,new Error(f),!0)}function Nh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(oo(s))return{key:r,result:s}}}function QA(t){let e=typeof t=="string"?ps(t):t;return fa({...e,hash:""})}function ak(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ok(t){return XA(t.result)&&$M.has(t.result.status)}function ar(t){return t.type==="error"}function oo(t){return(t&&t.type)==="redirect"}function lb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function XA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lk(t){return qM.has(t.toUpperCase())}function or(t){return BM.has(t.toUpperCase())}function Hv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dc(t,e){let n=typeof e=="string"?ps(e).search:e.search;if(t[t.length-1].route.index&&Hv(n||""))return t[t.length-1];let r=zA(t);return r[r.length-1]}function ub(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:u}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Yp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ac(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ck(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ws(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fk(t,e){try{let n=t.sessionStorage.getItem(BA);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function hk(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(BA,JSON.stringify(n))}catch(r){Lt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function dk(){let t,e,n=new Promise((r,s)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ao=O.createContext(null);Ao.displayName="DataRouter";var rf=O.createContext(null);rf.displayName="DataRouterState";var qv=O.createContext({isTransitioning:!1});qv.displayName="ViewTransition";var WA=O.createContext(new Map);WA.displayName="Fetchers";var mk=O.createContext(null);mk.displayName="Await";var Gr=O.createContext(null);Gr.displayName="Navigation";var nm=O.createContext(null);nm.displayName="Location";var Kr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var $v=O.createContext(null);$v.displayName="RouteError";function gk(t,{relative:e}={}){Je(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Gr),{hash:s,pathname:o,search:u}=sf(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:bi([n,o])),r.createHref({pathname:f,search:u,hash:s})}function Zl(){return O.useContext(nm)!=null}function Yr(){return Je(Zl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(nm).location}var ZA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JA(t){O.useContext(Gr).static||O.useLayoutEffect(t)}function Jl(){let{isDataRoute:t}=O.useContext(Kr);return t?Ok():pk()}function pk(){Je(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ao),{basename:e,navigator:n}=O.useContext(Gr),{matches:r}=O.useContext(Kr),{pathname:s}=Yr(),o=JSON.stringify(em(r)),u=O.useRef(!1);return JA(()=>{u.current=!0}),O.useCallback((d,g={})=>{if(Lt(u.current,ZA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=tm(d,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bi([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,o,s,t])}var yk=O.createContext(null);function vk(t){let e=O.useContext(Kr).outlet;return e&&O.createElement(yk.Provider,{value:t},e)}function sf(t,{relative:e}={}){let{matches:n}=O.useContext(Kr),{pathname:r}=Yr(),s=JSON.stringify(em(n));return O.useMemo(()=>tm(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function _k(t,e,n,r){Je(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Gr),{matches:o}=O.useContext(Kr),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";nC(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=Yr(),E;E=_;let T=E.pathname||"/",A=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=na(t,{pathname:A});return Lt(y||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Lt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wk(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:bi([g,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:bi([g,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r)}function Ek(){let t=Rk(),e=Mc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,u)}var Sk=O.createElement(Ek,null),bk=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Kr.Provider,{value:this.props.routeContext},O.createElement($v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tk({routeContext:t,match:e,children:n}){let r=O.useContext(Ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Kr.Provider,{value:t},n)}function wk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:y,errors:_}=n,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,g,y)=>{let _,E=!1,T=null,A=null;n&&(_=o&&g.route.id?o[g.route.id]:void 0,T=g.route.errorElement||Sk,u&&(f<0&&y===0?(nC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===y&&(E=!0,A=g.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),M=()=>{let j;return _?j=T:E?j=A:g.route.Component?j=O.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,O.createElement(Tk,{match:g,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(bk,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):M()},null)}function Gv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eC(t){let e=O.useContext(Ao);return Je(e,Gv(t)),e}function tC(t){let e=O.useContext(rf);return Je(e,Gv(t)),e}function Ak(t){let e=O.useContext(Kr);return Je(e,Gv(t)),e}function Kv(t){let e=Ak(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ck(){return Kv("useRouteId")}function Rk(){var r;let t=O.useContext($v),e=tC("useRouteError"),n=Kv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}var xk=0;function Ik(t){let{router:e,basename:n}=eC("useBlocker"),r=tC("useBlocker"),[s,o]=O.useState(""),u=O.useCallback(f=>{if(typeof t!="function")return!!t;if(n==="/")return t(f);let{currentLocation:d,nextLocation:g,historyAction:y}=f;return t({currentLocation:{...d,pathname:Yn(d.pathname,n)||d.pathname},nextLocation:{...g,pathname:Yn(g.pathname,n)||g.pathname},historyAction:y})},[n,t]);return O.useEffect(()=>{let f=String(++xk);return o(f),()=>e.deleteBlocker(f)},[e]),O.useEffect(()=>{s!==""&&e.getBlocker(s,u)},[e,s,u]),s&&r.blockers.has(s)?r.blockers.get(s):bl}function Ok(){let{router:t}=eC("useNavigate"),e=Kv("useNavigate"),n=O.useRef(!1);return JA(()=>{n.current=!0}),O.useCallback(async(s,o={})=>{Lt(n.current,ZA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var cb={};function nC(t,e,n){!e&&!cb[t]&&(cb[t]=!0,Lt(!1,n))}var fb={};function hb(t,e){!t&&!fb[e]&&(fb[e]=!0,console.warn(e))}function Dk(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Lt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Lt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Lt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Nk=["HydrateFallback","hydrateFallbackElement"],Pk=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function Mk({router:t,flushSync:e}){let[n,r]=O.useState(t.state),[s,o]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[d,g]=O.useState(),[y,_]=O.useState(),[E,T]=O.useState(),A=O.useRef(new Map),k=O.useCallback((Q,{deletedFetchers:re,flushSync:te,viewTransitionOpts:B})=>{Q.fetchers.forEach((I,R)=>{I.data!==void 0&&A.current.set(R,I.data)}),re.forEach(I=>A.current.delete(I)),hb(te===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(hb(B==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!D){e&&te?e(()=>r(Q)):O.startTransition(()=>r(Q));return}if(e&&te){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(Q))});I.finished.finally(()=>{e(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>_(I));return}y?(d&&d.resolve(),y.skipTransition(),T({state:Q,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(Q),f({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,y,d]);O.useLayoutEffect(()=>t.subscribe(k),[t,k]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new Pk)},[u]),O.useEffect(()=>{if(d&&s&&t.window){let Q=s,re=d.promise,te=t.window.document.startViewTransition(async()=>{O.startTransition(()=>r(Q)),await re});te.finished.finally(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})}),_(te)}},[s,d,t.window]),O.useEffect(()=>{d&&s&&n.location.key===s.location.key&&d.resolve()},[d,y,n.location,s]),O.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),T(void 0))},[u.isTransitioning,E]);let M=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:Q=>t.navigate(Q),push:(Q,re,te)=>t.navigate(Q,{state:re,preventScrollReset:te==null?void 0:te.preventScrollReset}),replace:(Q,re,te)=>t.navigate(Q,{replace:!0,state:re,preventScrollReset:te==null?void 0:te.preventScrollReset})}),[t]),j=t.basename||"/",G=O.useMemo(()=>({router:t,navigator:M,static:!1,basename:j}),[t,M,j]);return O.createElement(O.Fragment,null,O.createElement(Ao.Provider,{value:G},O.createElement(rf.Provider,{value:n},O.createElement(WA.Provider,{value:A.current},O.createElement(qv.Provider,{value:u},O.createElement(Vk,{basename:j,location:n.location,navigationType:n.historyAction,navigator:M},O.createElement(kk,{routes:t.routes,future:t.future,state:n})))))),null)}var kk=O.memo(Lk);function Lk({routes:t,future:e,state:n}){return _k(t,void 0,n,e)}function rC({to:t,replace:e,state:n,relative:r}){Je(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Gr);Lt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Kr),{pathname:u}=Yr(),f=Jl(),d=tm(t,em(o),u,r==="path"),g=JSON.stringify(d);return O.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:r})},[f,g,r,e,n]),null}function Uk(t){return vk(t.context)}function Vk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Je(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=ps(n));let{pathname:d="/",search:g="",hash:y="",state:_=null,key:E="default"}=n,T=O.useMemo(()=>{let A=Yn(d,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:_,key:E},navigationType:r}},[u,d,g,y,_,E,r]);return Lt(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:O.createElement(Gr.Provider,{value:f},O.createElement(nm.Provider,{children:e,value:T}))}var Xh="get",Wh="application/x-www-form-urlencoded";function rm(t){return t!=null&&typeof t.tagName=="string"}function jk(t){return rm(t)&&t.tagName.toLowerCase()==="button"}function zk(t){return rm(t)&&t.tagName.toLowerCase()==="form"}function Fk(t){return rm(t)&&t.tagName.toLowerCase()==="input"}function Bk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hk(t,e){return t.button===0&&(!e||e==="_self")&&!Bk(t)}function Ny(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function qk(t,e){let n=Ny(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Ph=null;function $k(){if(Ph===null)try{new FormData(document.createElement("form"),0),Ph=!1}catch{Ph=!0}return Ph}var Gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(t){return t!=null&&!Gk.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):t}function Kk(t,e){let n,r,s,o,u;if(zk(t)){let f=t.getAttribute("action");r=f?Yn(f,e):null,n=t.getAttribute("method")||Xh,s=Qp(t.getAttribute("enctype"))||Wh,o=new FormData(t)}else if(jk(t)||Fk(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?Yn(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Xh,s=Qp(t.getAttribute("formenctype"))||Qp(f.getAttribute("enctype"))||Wh,o=new FormData(f,t),!$k()){let{name:g,type:y,value:_}=t;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xh,r=null,s=Wh,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:u}}function Yv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Yk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Xk(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await Yk(o,n);return u.links?u.links():[]}return[]}));return e4(r.flat(1).filter(Qk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function db(t,e,n,r,s,o){let u=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,f=(d,g)=>{var y;return n[g].pathname!==d.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,g)=>u(d,g)||f(d,g)):o==="data"?e.filter((d,g)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Wk(t,e,{includeHydrateFallback:n}={}){return Zk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Zk(t){return[...new Set(t)]}function Jk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function e4(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(Jk(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var t4=new Set([100,101,204,205]);function n4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Yn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function iC(){let t=O.useContext(Ao);return Yv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function r4(){let t=O.useContext(rf);return Yv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qv=O.createContext(void 0);Qv.displayName="FrameworkContext";function sC(){let t=O.useContext(Qv);return Yv(t,"You must render this element inside a <HydratedRouter> element"),t}function i4(t,e){let n=O.useContext(Qv),[r,s]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=j=>{j.forEach(G=>{u(G.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[t]),O.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{s(!0)},A=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:oc(f,T),onBlur:oc(d,A),onMouseEnter:oc(g,T),onMouseLeave:oc(y,A),onTouchStart:oc(_,T)}]:[!1,E,{}]}function oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s4({page:t,...e}){let{router:n}=iC(),r=O.useMemo(()=>na(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(o4,{page:t,matches:r,...e}):null}function a4(t){let{manifest:e,routeModules:n}=sC(),[r,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return Xk(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),r}function o4({page:t,matches:e,...n}){let r=Yr(),{manifest:s,routeModules:o}=sC(),{basename:u}=iC(),{loaderData:f,matches:d}=r4(),g=O.useMemo(()=>db(t,e,d,s,r,"data"),[t,e,d,s,r]),y=O.useMemo(()=>db(t,e,d,s,r,"assets"),[t,e,d,s,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,k=!1;if(e.forEach(j=>{var Q;let G=s.routes[j.route.id];!G||!G.hasLoader||(!g.some(re=>re.route.id===j.route.id)&&j.route.id in f&&((Q=o[j.route.id])!=null&&Q.shouldRevalidate)||G.hasClientLoader?k=!0:A.add(j.route.id))}),A.size===0)return[];let M=n4(t,u);return k&&A.size>0&&M.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[M.pathname+M.search]},[u,f,r,s,g,e,t,o]),E=O.useMemo(()=>Wk(y,s),[y,s]),T=a4(y);return O.createElement(O.Fragment,null,_.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:k})=>O.createElement("link",{key:A,...k})))}function l4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aC&&(window.__reactRouterVersion="7.6.2")}catch{}function u4(t,e){return QM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:pM({window:e==null?void 0:e.window}),hydrationData:c4(),routes:t,mapRouteProperties:Dk,hydrationRouteProperties:Nk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function c4(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:f4(t.errors)}),t}function f4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Td(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xv=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:f,target:d,to:g,preventScrollReset:y,viewTransition:_,...E},T){let{basename:A}=O.useContext(Gr),k=typeof g=="string"&&oC.test(g),M,j=!1;if(typeof g=="string"&&k&&(M=g,aC))try{let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g),F=Yn(P.pathname,A);P.origin===R.origin&&F!=null?g=F+P.search+P.hash:j=!0}catch{Lt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=gk(g,{relative:s}),[Q,re,te]=i4(r,E),B=g4(g,{replace:u,state:f,target:d,preventScrollReset:y,relative:s,viewTransition:_});function D(R){e&&e(R),R.defaultPrevented||B(R)}let I=O.createElement("a",{...E,...te,href:M||G,onClick:j||o?e:D,ref:l4(T,re),target:d,"data-discover":!k&&n==="render"?"true":void 0});return Q&&!k?O.createElement(O.Fragment,null,I,O.createElement(s4,{page:G})):I});Xv.displayName="Link";var h4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:f,children:d,...g},y){let _=sf(u,{relative:g.relative}),E=Yr(),T=O.useContext(rf),{navigator:A,basename:k}=O.useContext(Gr),M=T!=null&&E4(_)&&f===!0,j=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,G=E.pathname,Q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,j=j.toLowerCase()),Q&&k&&(Q=Yn(Q,k)||Q);const re=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=G===j||!s&&G.startsWith(j)&&G.charAt(re)==="/",B=Q!=null&&(Q===j||!s&&Q.startsWith(j)&&Q.charAt(j.length)==="/"),D={isActive:te,isPending:B,isTransitioning:M},I=te?e:void 0,R;typeof r=="function"?R=r(D):R=[r,te?"active":null,B?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(D):o;return O.createElement(Xv,{...g,"aria-current":I,className:R,ref:y,style:P,to:u,viewTransition:f},typeof d=="function"?d(D):d)});h4.displayName="NavLink";var d4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:u=Xh,action:f,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:_,...E},T)=>{let A=v4(),k=_4(f,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&oC.test(f),G=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let re=Q.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||u;A(re||Q.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:s,state:o,relative:g,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:T,method:M,action:k,onSubmit:r?d:G,...E,"data-discover":!j&&t==="render"?"true":void 0})});d4.displayName="Form";function m4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lC(t){let e=O.useContext(Ao);return Je(e,m4(t)),e}function g4(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=Jl(),d=Yr(),g=sf(t,{relative:o});return O.useCallback(y=>{if(Hk(y,e)){y.preventDefault();let _=n!==void 0?n:fa(d)===fa(g);f(t,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,f,g,n,r,e,t,s,o,u])}function Wv(t){Lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Ny(t)),n=O.useRef(!1),r=Yr(),s=O.useMemo(()=>qk(r.search,n.current?null:e.current),[r.search]),o=Jl(),u=O.useCallback((f,d)=>{const g=Ny(typeof f=="function"?f(s):f);n.current=!0,o("?"+g,d)},[o,s]);return[s,u]}var p4=0,y4=()=>`__${String(++p4)}__`;function v4(){let{router:t}=lC("useSubmit"),{basename:e}=O.useContext(Gr),n=Ck();return O.useCallback(async(r,s={})=>{let{action:o,method:u,encType:f,formData:d,body:g}=Kk(r,e);if(s.navigate===!1){let y=s.fetcherKey||y4();await t.fetch(y,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function _4(t,{relative:e}={}){let{basename:n}=O.useContext(Gr),r=O.useContext(Kr);Je(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...sf(t||".",{relative:e})},u=Yr();if(t==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bi([n,o.pathname])),fa(o)}function E4(t,e={}){let n=O.useContext(qv);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lC("useViewTransitionState"),s=sf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Yn(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Yn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bd(s.pathname,u)!=null||bd(s.pathname,o)!=null}[...t4];const S4=(t,e,n,r)=>{var o,u,f,d;const s=[n,{code:e,...r||{}}];if((u=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&u.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);fo(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(f=t==null?void 0:t.services)==null?void 0:f.logger)!=null&&d.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},mb={},Py=(t,e,n,r)=>{fo(n)&&mb[n]||(fo(n)&&(mb[n]=new Date),S4(t,e,n,r))},uC=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},My=(t,e,n)=>{t.loadNamespaces(e,uC(t,n))},gb=(t,e,n,r)=>{if(fo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return My(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,uC(t,r))},b4=(t,e,n={})=>!e.languages||!e.languages.length?(Py(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),fo=t=>typeof t=="string",T4=t=>typeof t=="object"&&t!==null,w4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,A4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},C4=t=>A4[t],R4=t=>t.replace(w4,C4);let ky={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:R4};const x4=(t={})=>{ky={...ky,...t}},I4=()=>ky;let cC;const O4=t=>{cC=t},D4=()=>cC,N4={type:"3rdParty",init(t){x4(t.options.react),O4(t)}},P4=O.createContext();class M4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const k4=(t,e)=>{const n=O.useRef();return O.useEffect(()=>{n.current=t},[t,e]),n.current},fC=(t,e,n,r)=>t.getFixedT(e,n,r),L4=(t,e,n,r)=>O.useCallback(fC(t,e,n,r),[t,e,n,r]),$t=(t,e={})=>{var re,te,B,D;const{i18n:n}=e,{i18n:r,defaultNS:s}=O.useContext(P4)||{},o=n||r||D4();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new M4),!o){Py(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const I=(P,F)=>fo(F)?F:T4(F)&&fo(F.defaultValue)?F.defaultValue:Array.isArray(P)?P[P.length-1]:P,R=[I,{},!1];return R.t=I,R.i18n={},R.ready=!1,R}(re=o.options.react)!=null&&re.wait&&Py(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...I4(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=s||((te=o.options)==null?void 0:te.defaultNS);g=fo(g)?[g]:g||["translation"],(D=(B=o.reportNamespaces).addUsedNamespaces)==null||D.call(B,g);const y=(o.isInitialized||o.initializedStoreOnce)&&g.every(I=>b4(I,o,u)),_=L4(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),E=()=>_,T=()=>fC(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[A,k]=O.useState(E);let M=g.join();e.lng&&(M=`${e.lng}${M}`);const j=k4(M),G=O.useRef(!0);O.useEffect(()=>{const{bindI18n:I,bindI18nStore:R}=u;G.current=!0,!y&&!f&&(e.lng?gb(o,e.lng,g,()=>{G.current&&k(T)}):My(o,g,()=>{G.current&&k(T)})),y&&j&&j!==M&&G.current&&k(T);const P=()=>{G.current&&k(T)};return I&&(o==null||o.on(I,P)),R&&(o==null||o.store.on(R,P)),()=>{G.current=!1,o&&(I==null||I.split(" ").forEach(F=>o.off(F,P))),R&&o&&R.split(" ").forEach(F=>o.store.off(F,P))}},[o,M]),O.useEffect(()=>{G.current&&y&&k(E)},[o,d,y]);const Q=[A,o,y];if(Q.t=A,Q.i18n=o,Q.ready=y,y||!y&&!f)return Q;throw new Promise(I=>{e.lng?gb(o,e.lng,g,()=>I()):My(o,g,()=>I())})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const U4={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},V4={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},j4={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},z4={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},F4={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},B4={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},H4={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},q4={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function $4(t,e,n){return(e=K4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(n),!0).forEach(function(r){$4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K4(t){var e=G4(t,"string");return typeof e=="symbol"?e:e+""}const yb=()=>{};let Zv={},hC={},dC=null,mC={mark:yb,measure:yb};try{typeof window<"u"&&(Zv=window),typeof document<"u"&&(hC=document),typeof MutationObserver<"u"&&(dC=MutationObserver),typeof performance<"u"&&(mC=performance)}catch{}const{userAgent:vb=""}=Zv.navigator||{},ha=Zv,It=hC,_b=dC,Mh=mC;ha.document;const ys=!!It.documentElement&&!!It.head&&typeof It.addEventListener=="function"&&typeof It.createElement=="function",gC=~vb.indexOf("MSIE")||~vb.indexOf("Trident/");var Y4=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Q4=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,pC={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},X4={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},yC=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Mn="classic",im="duotone",W4="sharp",Z4="sharp-duotone",vC=[Mn,im,W4,Z4],J4={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},eL={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},tL=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),nL={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},rL=["fak","fa-kit","fakd","fa-kit-duotone"],Eb={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},iL=["kit"],sL={kit:{"fa-kit":"fak"}},aL=["fak","fakd"],oL={kit:{fak:"fa-kit"}},Sb={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},kh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],uL=["fak","fa-kit","fakd","fa-kit-duotone"],cL={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},fL={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},hL={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Ly={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},dL=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Uy=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...lL,...dL],mL=["solid","regular","light","thin","duotone","brands"],_C=[1,2,3,4,5,6,7,8,9,10],gL=_C.concat([11,12,13,14,15,16,17,18,19,20]),pL=[...Object.keys(hL),...mL,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",kh.GROUP,kh.SWAP_OPACITY,kh.PRIMARY,kh.SECONDARY].concat(_C.map(t=>"".concat(t,"x"))).concat(gL.map(t=>"w-".concat(t))),yL={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const cs="___FONT_AWESOME___",Vy=16,EC="fa",SC="svg-inline--fa",yo="data-fa-i2svg",jy="data-fa-pseudo-element",vL="data-fa-pseudo-element-pending",Jv="data-prefix",e_="data-icon",bb="fontawesome-i2svg",_L="async",EL=["HTML","HEAD","STYLE","SCRIPT"],bC=(()=>{try{return!0}catch{return!1}})();function af(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Mn]}})}const TC=ge({},pC);TC[Mn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),pC[Mn]),Eb.kit),Eb["kit-duotone"]);const SL=af(TC),zy=ge({},nL);zy[Mn]=ge(ge(ge(ge({},{duotone:"fad"}),zy[Mn]),Sb.kit),Sb["kit-duotone"]);const Tb=af(zy),Fy=ge({},Ly);Fy[Mn]=ge(ge({},Fy[Mn]),oL.kit);const t_=af(Fy),By=ge({},fL);By[Mn]=ge(ge({},By[Mn]),sL.kit);af(By);const bL=Y4,wC="fa-layers-text",TL=Q4,wL=ge({},J4);af(wL);const AL=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xp=X4,CL=[...iL,...pL],bc=ha.FontAwesomeConfig||{};function RL(t){var e=It.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function xL(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}It&&typeof It.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=xL(RL(n));s!=null&&(bc[r]=s)});const AC={styleDefault:"solid",familyDefault:Mn,cssPrefix:EC,replacementClass:SC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};bc.familyPrefix&&(bc.cssPrefix=bc.familyPrefix);const Vl=ge(ge({},AC),bc);Vl.autoReplaceSvg||(Vl.observeMutations=!1);const Ce={};Object.keys(AC).forEach(t=>{Object.defineProperty(Ce,t,{enumerable:!0,set:function(e){Vl[t]=e,Tc.forEach(n=>n(Ce))},get:function(){return Vl[t]}})});Object.defineProperty(Ce,"familyPrefix",{enumerable:!0,set:function(t){Vl.cssPrefix=t,Tc.forEach(e=>e(Ce))},get:function(){return Vl.cssPrefix}});ha.FontAwesomeConfig=Ce;const Tc=[];function IL(t){return Tc.push(t),()=>{Tc.splice(Tc.indexOf(t),1)}}const Xs=Vy,yi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function OL(t){if(!t||!ys)return;const e=It.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=It.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const o=n[s],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=o)}return It.head.insertBefore(e,r),t}const DL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function kc(){let t=12,e="";for(;t-- >0;)e+=DL[Math.random()*62|0];return e}function eu(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function n_(t){return t.classList?eu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function CC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function NL(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(CC(t[n]),'" '),"").trim()}function sm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function r_(t){return t.size!==yi.size||t.x!==yi.x||t.y!==yi.y||t.rotate!==yi.rotate||t.flipX||t.flipY}function PL(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(o," ").concat(u," ").concat(f)},g={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:d,path:g}}function ML(t){let{transform:e,width:n=Vy,height:r=Vy,startCentered:s=!1}=t,o="";return s&&gC?o+="translate(".concat(e.x/Xs-n/2,"em, ").concat(e.y/Xs-r/2,"em) "):s?o+="translate(calc(-50% + ".concat(e.x/Xs,"em), calc(-50% + ").concat(e.y/Xs,"em)) "):o+="translate(".concat(e.x/Xs,"em, ").concat(e.y/Xs,"em) "),o+="scale(".concat(e.size/Xs*(e.flipX?-1:1),", ").concat(e.size/Xs*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var kL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function RC(){const t=EC,e=SC,n=Ce.cssPrefix,r=Ce.replacementClass;let s=kL;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(f,".".concat(r))}return s}let wb=!1;function Wp(){Ce.autoAddCss&&!wb&&(OL(RC()),wb=!0)}var LL={mixout(){return{dom:{css:RC,insertCss:Wp}}},hooks(){return{beforeDOMElementCreation(){Wp()},beforeI2svg(){Wp()}}}};const fs=ha||{};fs[cs]||(fs[cs]={});fs[cs].styles||(fs[cs].styles={});fs[cs].hooks||(fs[cs].hooks={});fs[cs].shims||(fs[cs].shims=[]);var vi=fs[cs];const xC=[],IC=function(){It.removeEventListener("DOMContentLoaded",IC),Ad=1,xC.map(t=>t())};let Ad=!1;ys&&(Ad=(It.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(It.readyState),Ad||It.addEventListener("DOMContentLoaded",IC));function UL(t){ys&&(Ad?setTimeout(t,0):xC.push(t))}function of(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?CC(t):"<".concat(e," ").concat(NL(n),">").concat(r.map(of).join(""),"</").concat(e,">")}function Ab(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Zp=function(e,n,r,s){var o=Object.keys(e),u=o.length,f=n,d,g,y;for(r===void 0?(d=1,y=e[o[0]]):(d=0,y=r);d<u;d++)g=o[d],y=f(y,e[g],g,e);return y};function VL(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Hy(t){const e=VL(t);return e.length===1?e[0].toString(16):null}function jL(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function Cb(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function qy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=Cb(e);typeof vi.hooks.addPack=="function"&&!r?vi.hooks.addPack(t,Cb(e)):vi.styles[t]=ge(ge({},vi.styles[t]||{}),s),t==="fas"&&qy("fa",e)}const{styles:Lc,shims:zL}=vi,OC=Object.keys(t_),FL=OC.reduce((t,e)=>(t[e]=Object.keys(t_[e]),t),{});let i_=null,DC={},NC={},PC={},MC={},kC={};function BL(t){return~CL.indexOf(t)}function HL(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!BL(s)?s:null}const LC=()=>{const t=r=>Zp(Lc,(s,o,u)=>(s[u]=Zp(o,r,{}),s),{});DC=t((r,s,o)=>(s[3]&&(r[s[3]]=o),s[2]&&s[2].filter(f=>typeof f=="number").forEach(f=>{r[f.toString(16)]=o}),r)),NC=t((r,s,o)=>(r[o]=o,s[2]&&s[2].filter(f=>typeof f=="string").forEach(f=>{r[f]=o}),r)),kC=t((r,s,o)=>{const u=s[2];return r[o]=o,u.forEach(f=>{r[f]=o}),r});const e="far"in Lc||Ce.autoFetchSvg,n=Zp(zL,(r,s)=>{const o=s[0];let u=s[1];const f=s[2];return u==="far"&&!e&&(u="fas"),typeof o=="string"&&(r.names[o]={prefix:u,iconName:f}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:u,iconName:f}),r},{names:{},unicodes:{}});PC=n.names,MC=n.unicodes,i_=am(Ce.styleDefault,{family:Ce.familyDefault})};IL(t=>{i_=am(t.styleDefault,{family:Ce.familyDefault})});LC();function s_(t,e){return(DC[t]||{})[e]}function qL(t,e){return(NC[t]||{})[e]}function lo(t,e){return(kC[t]||{})[e]}function UC(t){return PC[t]||{prefix:null,iconName:null}}function $L(t){const e=MC[t],n=s_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function da(){return i_}const VC=()=>({prefix:null,iconName:null,rest:[]});function GL(t){let e=Mn;const n=OC.reduce((r,s)=>(r[s]="".concat(Ce.cssPrefix,"-").concat(s),r),{});return vC.forEach(r=>{(t.includes(n[r])||t.some(s=>FL[r].includes(s)))&&(e=r)}),e}function am(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Mn}=e,r=SL[n][t];if(n===im&&!t)return"fad";const s=Tb[n][t]||Tb[n][r],o=t in vi.styles?t:null;return s||o||null}function KL(t){let e=[],n=null;return t.forEach(r=>{const s=HL(Ce.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function Rb(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function om(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=Uy.concat(uL),o=Rb(t.filter(_=>s.includes(_))),u=Rb(t.filter(_=>!Uy.includes(_))),f=o.filter(_=>(r=_,!yC.includes(_))),[d=null]=f,g=GL(o),y=ge(ge({},KL(u)),{},{prefix:am(d,{family:g})});return ge(ge(ge({},y),WL({values:t,family:g,styles:Lc,config:Ce,canonical:y,givenPrefix:r})),YL(n,r,y))}function YL(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const o=e==="fa"?UC(s):{},u=lo(r,s);return s=o.iconName||u||s,r=o.prefix||r,r==="far"&&!Lc.far&&Lc.fas&&!Ce.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const QL=vC.filter(t=>t!==Mn||t!==im),XL=Object.keys(Ly).filter(t=>t!==Mn).map(t=>Object.keys(Ly[t])).flat();function WL(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:o={},config:u={}}=t,f=n===im,d=e.includes("fa-duotone")||e.includes("fad"),g=u.familyDefault==="duotone",y=r.prefix==="fad"||r.prefix==="fa-duotone";if(!f&&(d||g||y)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&QL.includes(n)&&(Object.keys(o).find(E=>XL.includes(E))||u.autoFetchSvg)){const E=tL.get(n).defaultShortPrefixId;r.prefix=E,r.iconName=lo(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=da()||"fas"),r}class ZL{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=ge(ge({},this.definitions[o]||{}),s[o]),qy(o,s[o]);const u=t_[Mn][o];u&&qy(u,s[o]),LC()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:o,iconName:u,icon:f}=r[s],d=f[2];e[o]||(e[o]={}),d.length>0&&d.forEach(g=>{typeof g=="string"&&(e[o][g]=f)}),e[o][u]=f}),e}}let xb=[],Il={};const kl={},JL=Object.keys(kl);function e3(t,e){let{mixoutsTo:n}=e;return xb=t,Il={},Object.keys(kl).forEach(r=>{JL.indexOf(r)===-1&&delete kl[r]}),xb.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(n[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(u=>{n[o]||(n[o]={}),n[o][u]=s[o][u]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(u=>{Il[u]||(Il[u]=[]),Il[u].push(o[u])})}r.provides&&r.provides(kl)}),n}function $y(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Il[t]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function vo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Il[t]||[]).forEach(o=>{o.apply(null,n)})}function ma(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return kl[t]?kl[t].apply(null,e):void 0}function Gy(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||da();if(e)return e=lo(n,e)||e,Ab(jC.definitions,n,e)||Ab(vi.styles,n,e)}const jC=new ZL,t3=()=>{Ce.autoReplaceSvg=!1,Ce.observeMutations=!1,vo("noAuto")},n3={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ys?(vo("beforeI2svg",t),ma("pseudoElements2svg",t),ma("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Ce.autoReplaceSvg===!1&&(Ce.autoReplaceSvg=!0),Ce.observeMutations=!0,UL(()=>{i3({autoReplaceSvgRoot:e}),vo("watch",t)})}},r3={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:lo(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=am(t[0]);return{prefix:n,iconName:lo(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Ce.cssPrefix,"-"))>-1||t.match(bL))){const e=om(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||da(),iconName:lo(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=da();return{prefix:e,iconName:lo(e,t)||t}}}},fr={noAuto:t3,config:Ce,dom:n3,parse:r3,library:jC,findIconDefinition:Gy,toHtml:of},i3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=It}=t;(Object.keys(vi.styles).length>0||Ce.autoFetchSvg)&&ys&&Ce.autoReplaceSvg&&fr.dom.i2svg({node:e})};function lm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>of(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ys)return;const n=It.createElement("div");return n.innerHTML=t.html,n.children}}),t}function s3(t){let{children:e,main:n,mask:r,attributes:s,styles:o,transform:u}=t;if(r_(u)&&n.found&&!r.found){const{width:f,height:d}=n,g={x:f/d/2,y:.5};s.style=sm(ge(ge({},o),{},{"transform-origin":"".concat(g.x+u.x/16,"em ").concat(g.y+u.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function a3(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:o}=t;const u=o===!0?"".concat(e,"-").concat(Ce.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},s),{},{id:u}),children:r}]}]}function a_(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:o,symbol:u,title:f,maskId:d,titleId:g,extra:y,watchable:_=!1}=t,{width:E,height:T}=n.found?n:e,A=aL.includes(r),k=[Ce.replacementClass,s?"".concat(Ce.cssPrefix,"-").concat(s):""].filter(te=>y.classes.indexOf(te)===-1).filter(te=>te!==""||!!te).concat(y.classes).join(" ");let M={children:[],attributes:ge(ge({},y.attributes),{},{"data-prefix":r,"data-icon":s,class:k,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(T)})};const j=A&&!~y.classes.indexOf("fa-fw")?{width:"".concat(E/T*16*.0625,"em")}:{};_&&(M.attributes[yo]=""),f&&(M.children.push({tag:"title",attributes:{id:M.attributes["aria-labelledby"]||"title-".concat(g||kc())},children:[f]}),delete M.attributes.title);const G=ge(ge({},M),{},{prefix:r,iconName:s,main:e,mask:n,maskId:d,transform:o,symbol:u,styles:ge(ge({},j),y.styles)}),{children:Q,attributes:re}=n.found&&e.found?ma("generateAbstractMask",G)||{children:[],attributes:{}}:ma("generateAbstractIcon",G)||{children:[],attributes:{}};return G.children=Q,G.attributes=re,u?a3(G):s3(G)}function Ib(t){const{content:e,width:n,height:r,transform:s,title:o,extra:u,watchable:f=!1}=t,d=ge(ge(ge({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});f&&(d[yo]="");const g=ge({},u.styles);r_(s)&&(g.transform=ML({transform:s,startCentered:!0,width:n,height:r}),g["-webkit-transform"]=g.transform);const y=sm(g);y.length>0&&(d.style=y);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),o&&_.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),_}function o3(t){const{content:e,title:n,extra:r}=t,s=ge(ge(ge({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=sm(r.styles);o.length>0&&(s.style=o);const u=[];return u.push({tag:"span",attributes:s,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}const{styles:Jp}=vi;function Ky(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(Xp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(Xp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(Xp.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const l3={found:!1,width:512,height:512};function u3(t,e){!bC&&!Ce.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Yy(t,e){let n=e;return e==="fa"&&Ce.styleDefault!==null&&(e=da()),new Promise((r,s)=>{if(n==="fa"){const o=UC(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Jp[e]&&Jp[e][t]){const o=Jp[e][t];return r(Ky(o))}u3(t,e),r(ge(ge({},l3),{},{icon:Ce.showMissingIcons&&t?ma("missingIconAbstract")||{}:{}}))})}const Ob=()=>{},Qy=Ce.measurePerformance&&Mh&&Mh.mark&&Mh.measure?Mh:{mark:Ob,measure:Ob},mc='FA "6.7.2"',c3=t=>(Qy.mark("".concat(mc," ").concat(t," begins")),()=>zC(t)),zC=t=>{Qy.mark("".concat(mc," ").concat(t," ends")),Qy.measure("".concat(mc," ").concat(t),"".concat(mc," ").concat(t," begins"),"".concat(mc," ").concat(t," ends"))};var o_={begin:c3,end:zC};const Zh=()=>{};function Db(t){return typeof(t.getAttribute?t.getAttribute(yo):null)=="string"}function f3(t){const e=t.getAttribute?t.getAttribute(Jv):null,n=t.getAttribute?t.getAttribute(e_):null;return e&&n}function h3(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ce.replacementClass)}function d3(){return Ce.autoReplaceSvg===!0?Jh.replace:Jh[Ce.autoReplaceSvg]||Jh.replace}function m3(t){return It.createElementNS("http://www.w3.org/2000/svg",t)}function g3(t){return It.createElement(t)}function FC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?m3:g3}=e;if(typeof t=="string")return It.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(FC(o,{ceFn:n}))}),r}function p3(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Jh={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(FC(n),e)}),e.getAttribute(yo)===null&&Ce.keepOriginalSource){let n=It.createComment(p3(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~n_(e).indexOf(Ce.replacementClass))return Jh.replace(t);const r=new RegExp("".concat(Ce.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((u,f)=>(f===Ce.replacementClass||f.match(r)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const s=n.map(o=>of(o)).join(`
`);e.setAttribute(yo,""),e.innerHTML=s}};function Nb(t){t()}function BC(t,e){const n=typeof e=="function"?e:Zh;if(t.length===0)n();else{let r=Nb;Ce.mutateApproach===_L&&(r=ha.requestAnimationFrame||Nb),r(()=>{const s=d3(),o=o_.begin("mutate");t.map(s),o(),n()})}}let l_=!1;function HC(){l_=!0}function Xy(){l_=!1}let Cd=null;function Pb(t){if(!_b||!Ce.observeMutations)return;const{treeCallback:e=Zh,nodeCallback:n=Zh,pseudoElementsCallback:r=Zh,observeMutationsRoot:s=It}=t;Cd=new _b(o=>{if(l_)return;const u=da();eu(o).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!Db(f.addedNodes[0])&&(Ce.searchPseudoElements&&r(f.target),e(f.target)),f.type==="attributes"&&f.target.parentNode&&Ce.searchPseudoElements&&r(f.target.parentNode),f.type==="attributes"&&Db(f.target)&&~AL.indexOf(f.attributeName))if(f.attributeName==="class"&&f3(f.target)){const{prefix:d,iconName:g}=om(n_(f.target));f.target.setAttribute(Jv,d||u),g&&f.target.setAttribute(e_,g)}else h3(f.target)&&n(f.target)})}),ys&&Cd.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function y3(){Cd&&Cd.disconnect()}function v3(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const o=s.split(":"),u=o[0],f=o.slice(1);return u&&f.length>0&&(r[u]=f.join(":").trim()),r},{})),n}function _3(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=om(n_(t));return s.prefix||(s.prefix=da()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=qL(s.prefix,t.innerText)||s_(s.prefix,Hy(t.innerText))),!s.iconName&&Ce.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function E3(t){const e=eu(t.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Ce.autoA11y&&(n?e["aria-labelledby"]="".concat(Ce.replacementClass,"-title-").concat(r||kc()):(e["aria-hidden"]="true",e.focusable="false")),e}function S3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:yi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Mb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=_3(t),o=E3(t),u=$y("parseNodeAttributes",{},t);let f=e.styleParser?v3(t):[];return ge({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:yi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:o}},u)}const{styles:b3}=vi;function qC(t){const e=Ce.autoReplaceSvg==="nest"?Mb(t,{styleParser:!1}):Mb(t);return~e.extra.classes.indexOf(wC)?ma("generateLayersText",t,e):ma("generateSvgReplacementMutation",t,e)}function T3(){return[...rL,...Uy]}function kb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ys)return Promise.resolve();const n=It.documentElement.classList,r=y=>n.add("".concat(bb,"-").concat(y)),s=y=>n.remove("".concat(bb,"-").concat(y)),o=Ce.autoFetchSvg?T3():yC.concat(Object.keys(b3));o.includes("fa")||o.push("fa");const u=[".".concat(wC,":not([").concat(yo,"])")].concat(o.map(y=>".".concat(y,":not([").concat(yo,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=eu(t.querySelectorAll(u))}catch{}if(f.length>0)r("pending"),s("complete");else return Promise.resolve();const d=o_.begin("onTree"),g=f.reduce((y,_)=>{try{const E=qC(_);E&&y.push(E)}catch(E){bC||E.name==="MissingIcon"&&console.error(E)}return y},[]);return new Promise((y,_)=>{Promise.all(g).then(E=>{BC(E,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),d(),y()})}).catch(E=>{d(),_(E)})})}function w3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;qC(t).then(n=>{n&&BC([n],e)})}function A3(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Gy(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Gy(s||{})),t(r,ge(ge({},n),{},{mask:s}))}}const C3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=yi,symbol:r=!1,mask:s=null,maskId:o=null,title:u=null,titleId:f=null,classes:d=[],attributes:g={},styles:y={}}=e;if(!t)return;const{prefix:_,iconName:E,icon:T}=t;return lm(ge({type:"icon"},t),()=>(vo("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ce.autoA11y&&(u?g["aria-labelledby"]="".concat(Ce.replacementClass,"-title-").concat(f||kc()):(g["aria-hidden"]="true",g.focusable="false")),a_({icons:{main:Ky(T),mask:s?Ky(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:E,transform:ge(ge({},yi),n),symbol:r,title:u,maskId:o,titleId:f,extra:{attributes:g,styles:y,classes:d}})))};var R3={mixout(){return{icon:A3(C3)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=kb,t.nodeCallback=w3,t}}},provides(t){t.i2svg=function(e){const{node:n=It,callback:r=()=>{}}=e;return kb(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:o,prefix:u,transform:f,symbol:d,mask:g,maskId:y,extra:_}=n;return new Promise((E,T)=>{Promise.all([Yy(r,u),g.iconName?Yy(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(A=>{let[k,M]=A;E([e,a_({icons:{main:k,mask:M},prefix:u,iconName:r,transform:f,symbol:d,maskId:y,title:s,titleId:o,extra:_,watchable:!0})])}).catch(T)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:o,styles:u}=e;const f=sm(u);f.length>0&&(r.style=f);let d;return r_(o)&&(d=ma("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),n.push(d||s.icon),{children:n,attributes:r}}}},x3={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return lm({type:"layer"},()=>{vo("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(o=>{r=r.concat(o.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Ce.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},I3={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:o={}}=e;return lm({type:"counter",content:t},()=>(vo("beforeDOMElementCreation",{content:t,params:e}),o3({content:t.toString(),title:n,extra:{attributes:s,styles:o,classes:["".concat(Ce.cssPrefix,"-layers-counter"),...r]}})))}}}},O3={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=yi,title:r=null,classes:s=[],attributes:o={},styles:u={}}=e;return lm({type:"text",content:t},()=>(vo("beforeDOMElementCreation",{content:t,params:e}),Ib({content:t,transform:ge(ge({},yi),n),title:r,extra:{attributes:o,styles:u,classes:["".concat(Ce.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:o}=n;let u=null,f=null;if(gC){const d=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();u=g.width/d,f=g.height/d}return Ce.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,Ib({content:e.innerHTML,width:u,height:f,transform:s,title:r,extra:o,watchable:!0})])}}};const D3=new RegExp('"',"ug"),Lb=[1105920,1112319],Ub=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),eL),yL),cL),Wy=Object.keys(Ub).reduce((t,e)=>(t[e.toLowerCase()]=Ub[e],t),{}),N3=Object.keys(Wy).reduce((t,e)=>{const n=Wy[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function P3(t){const e=t.replace(D3,""),n=jL(e,0),r=n>=Lb[0]&&n<=Lb[1],s=e.length===2?e[0]===e[1]:!1;return{value:Hy(s?e[0]:e),isSecondary:r||s}}function M3(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Wy[n]||{})[s]||N3[n]}function Vb(t,e){const n="".concat(vL).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const u=eu(t.children).filter(E=>E.getAttribute(jy)===e)[0],f=ha.getComputedStyle(t,e),d=f.getPropertyValue("font-family"),g=d.match(TL),y=f.getPropertyValue("font-weight"),_=f.getPropertyValue("content");if(u&&!g)return t.removeChild(u),r();if(g&&_!=="none"&&_!==""){const E=f.getPropertyValue("content");let T=M3(d,y);const{value:A,isSecondary:k}=P3(E),M=g[0].startsWith("FontAwesome");let j=s_(T,A),G=j;if(M){const Q=$L(A);Q.iconName&&Q.prefix&&(j=Q.iconName,T=Q.prefix)}if(j&&!k&&(!u||u.getAttribute(Jv)!==T||u.getAttribute(e_)!==G)){t.setAttribute(n,G),u&&t.removeChild(u);const Q=S3(),{extra:re}=Q;re.attributes[jy]=e,Yy(j,T).then(te=>{const B=a_(ge(ge({},Q),{},{icons:{main:te,mask:VC()},prefix:T,iconName:G,extra:re,watchable:!0})),D=It.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(D,t.firstChild):t.appendChild(D),D.outerHTML=B.map(I=>of(I)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function k3(t){return Promise.all([Vb(t,"::before"),Vb(t,"::after")])}function L3(t){return t.parentNode!==document.head&&!~EL.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(jy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function jb(t){if(ys)return new Promise((e,n)=>{const r=eu(t.querySelectorAll("*")).filter(L3).map(k3),s=o_.begin("searchPseudoElements");HC(),Promise.all(r).then(()=>{s(),Xy(),e()}).catch(()=>{s(),Xy(),n()})})}var U3={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=jb,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=It}=e;Ce.searchPseudoElements&&jb(n)}}};let zb=!1;var V3={mixout(){return{dom:{unwatch(){HC(),zb=!0}}}},hooks(){return{bootstrap(){Pb($y("mutationObserverCallbacks",{}))},noAuto(){y3()},watch(t){const{observeMutationsRoot:e}=t;zb?Xy():Pb($y("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Fb=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),o=s[0];let u=s.slice(1).join("-");if(o&&u==="h")return n.flipX=!0,n;if(o&&u==="v")return n.flipY=!0,n;if(u=parseFloat(u),isNaN(u))return n;switch(o){case"grow":n.size=n.size+u;break;case"shrink":n.size=n.size-u;break;case"left":n.x=n.x-u;break;case"right":n.x=n.x+u;break;case"up":n.y=n.y-u;break;case"down":n.y=n.y+u;break;case"rotate":n.rotate=n.rotate+u;break}return n},e)};var j3={mixout(){return{parse:{transform:t=>Fb(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=Fb(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:o}=e;const u={transform:"translate(".concat(s/2," 256)")},f="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),g="rotate(".concat(r.rotate," 0 0)"),y={transform:"".concat(f," ").concat(d," ").concat(g)},_={transform:"translate(".concat(o/2*-1," -256)")},E={outer:u,inner:y,path:_};return{tag:"g",attributes:ge({},E.outer),children:[{tag:"g",attributes:ge({},E.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ge(ge({},n.icon.attributes),E.path)}]}]}}}};const ey={x:0,y:0,width:"100%",height:"100%"};function Bb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function z3(t){return t.tag==="g"?t.children:[t]}var F3={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?om(n.split(" ").map(s=>s.trim())):VC();return r.prefix||(r.prefix=da()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:o,maskId:u,transform:f}=e;const{width:d,icon:g}=s,{width:y,icon:_}=o,E=PL({transform:f,containerWidth:y,iconWidth:d}),T={tag:"rect",attributes:ge(ge({},ey),{},{fill:"white"})},A=g.children?{children:g.children.map(Bb)}:{},k={tag:"g",attributes:ge({},E.inner),children:[Bb(ge({tag:g.tag,attributes:ge(ge({},g.attributes),E.path)},A))]},M={tag:"g",attributes:ge({},E.outer),children:[k]},j="mask-".concat(u||kc()),G="clip-".concat(u||kc()),Q={tag:"mask",attributes:ge(ge({},ey),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,M]},re={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:z3(_)},Q]};return n.push(re,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(j,")")},ey)}),{children:n,attributes:r}}}},B3={provides(t){let e=!1;ha.matchMedia&&(e=ha.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ge(ge({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(u),n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},H3={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},q3=[LL,R3,x3,I3,O3,U3,V3,j3,F3,B3,H3];e3(q3,{mixoutsTo:fr});fr.noAuto;fr.config;fr.library;fr.dom;const Zy=fr.parse;fr.findIconDefinition;fr.toHtml;const $3=fr.icon;fr.layer;fr.text;fr.counter;var ty={exports:{}},ny,Hb;function G3(){if(Hb)return ny;Hb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ny=t,ny}var ry,qb;function K3(){if(qb)return ry;qb=1;var t=G3();function e(){}function n(){}return n.resetWarningCache=e,ry=function(){function r(u,f,d,g,y,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ry}var $b;function Y3(){return $b||($b=1,ty.exports=K3()()),ty.exports}var Q3=Y3();const rt=Uw(Q3);function Gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(n),!0).forEach(function(r){Ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Ol(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function W3(t,e){if(t==null)return{};var n=X3(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jy(t){return Z3(t)||J3(t)||e6(t)||t6()}function Z3(t){if(Array.isArray(t))return ev(t)}function J3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e6(t,e){if(t){if(typeof t=="string")return ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(t,e)}}function ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n6(t){var e,n=t.beat,r=t.fade,s=t.beatFade,o=t.bounce,u=t.shake,f=t.flash,d=t.spin,g=t.spinPulse,y=t.spinReverse,_=t.pulse,E=t.fixedWidth,T=t.inverse,A=t.border,k=t.listItem,M=t.flip,j=t.size,G=t.rotation,Q=t.pull,re=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":u,"fa-flash":f,"fa-spin":d,"fa-spin-reverse":y,"fa-spin-pulse":g,"fa-pulse":_,"fa-fw":E,"fa-inverse":T,"fa-border":A,"fa-li":k,"fa-flip":M===!0,"fa-flip-horizontal":M==="horizontal"||M==="both","fa-flip-vertical":M==="vertical"||M==="both"},Ol(e,"fa-".concat(j),typeof j<"u"&&j!==null),Ol(e,"fa-rotate-".concat(G),typeof G<"u"&&G!==null&&G!==0),Ol(e,"fa-pull-".concat(Q),typeof Q<"u"&&Q!==null),Ol(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(re).map(function(te){return re[te]?te:null}).filter(function(te){return te})}function r6(t){return t=t-0,t===t}function $C(t){return r6(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var i6=["style"];function s6(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a6(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=$C(n.slice(0,r)),o=n.slice(r+1).trim();return s.startsWith("webkit")?e[s6(s)]=o:e[s]=o,e},{})}function GC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(d){return GC(t,d)}),s=Object.keys(e.attributes||{}).reduce(function(d,g){var y=e.attributes[g];switch(g){case"class":d.attrs.className=y,delete e.attributes.class;break;case"style":d.attrs.style=a6(y);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?d.attrs[g.toLowerCase()]=y:d.attrs[$C(g)]=y}return d},{attrs:{}}),o=n.style,u=o===void 0?{}:o,f=W3(n,i6);return s.attrs.style=pi(pi({},s.attrs.style),u),t.apply(void 0,[e.tag,pi(pi({},s.attrs),f)].concat(Jy(r)))}var KC=!1;try{KC=!0}catch{}function o6(){if(!KC&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Kb(t){if(t&&Rd(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Zy.icon)return Zy.icon(t);if(t===null)return null;if(t&&Rd(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function iy(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ol({},t,e):{}}var Yb={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},xi=Vw.forwardRef(function(t,e){var n=pi(pi({},Yb),t),r=n.icon,s=n.mask,o=n.symbol,u=n.className,f=n.title,d=n.titleId,g=n.maskId,y=Kb(r),_=iy("classes",[].concat(Jy(n6(n)),Jy((u||"").split(" ")))),E=iy("transform",typeof n.transform=="string"?Zy.transform(n.transform):n.transform),T=iy("mask",Kb(s)),A=$3(y,pi(pi(pi(pi({},_),E),T),{},{symbol:o,title:f,titleId:d,maskId:g}));if(!A)return o6("Could not find icon",y),null;var k=A.abstract,M={ref:e};return Object.keys(n).forEach(function(j){Yb.hasOwnProperty(j)||(M[j]=n[j])}),l6(k[0],M)});xi.displayName="FontAwesomeIcon";xi.propTypes={beat:rt.bool,border:rt.bool,beatFade:rt.bool,bounce:rt.bool,className:rt.string,fade:rt.bool,flash:rt.bool,mask:rt.oneOfType([rt.object,rt.array,rt.string]),maskId:rt.string,fixedWidth:rt.bool,inverse:rt.bool,flip:rt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:rt.oneOfType([rt.object,rt.array,rt.string]),listItem:rt.bool,pull:rt.oneOf(["right","left"]),pulse:rt.bool,rotation:rt.oneOf([0,90,180,270]),shake:rt.bool,size:rt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:rt.bool,spinPulse:rt.bool,spinReverse:rt.bool,symbol:rt.oneOfType([rt.bool,rt.string]),title:rt.string,titleId:rt.string,transform:rt.oneOfType([rt.string,rt.object]),swapOpacity:rt.bool};var l6=GC.bind(null,Vw.createElement);const u6=()=>x.jsx(xi,{icon:U4}),c6=O.memo(u6),f6=()=>x.jsx(xi,{icon:j4}),h6=O.memo(f6),d6=()=>x.jsx(xi,{icon:z4}),m6=O.memo(d6),g6=()=>x.jsx(xi,{icon:H4}),p6=O.memo(g6),y6="_LoadingIcon_1jisw_6",v6={LoadingIcon:y6},_6=t=>{const{size:e="1x"}=t;return x.jsx("span",{className:v6.LoadingIcon,children:x.jsx(xi,{icon:B4,size:e})})},YC=O.memo(_6),E6="_MeloChartIcon_1muw1_1",S6={MeloChartIcon:E6},b6=()=>x.jsx("span",{className:S6.MeloChartIcon}),T6=O.memo(b6),w6=()=>x.jsx(xi,{icon:F4}),Qb=O.memo(w6),A6=()=>x.jsx(xi,{icon:V4}),C6=O.memo(A6),R6=()=>x.jsx(xi,{icon:q4}),x6=O.memo(R6),I6="_BlockUI_1m4vb_1",O6={BlockUI:I6},D6=()=>x.jsx("div",{className:O6.BlockUI,children:x.jsx(YC,{size:"3x"})});O.memo(D6);const Ft=Object.freeze({DEFAULT:"DEFAULT",DANGER:"DANGER",PRIMARY:"PRIMARY",SUCCESS:"SUCCESS"}),N6="_Button_1o78h_1",P6={Button:N6},M6=t=>{const{category:e=Ft.DEFAULT,children:n,className:r="",icon:s=null,textOnly:o=!1,...u}=t;return x.jsxs("button",{className:`${P6.Button} ${r}`,"data-category":e,"data-text-only":o,"data-has-icon":s!=null,...u,children:[s,n]})},Ot=O.memo(M6),k6=t=>{const{deleteSongDialogFnsRef:e}=t,{t:n}=$t();return x.jsx(x.Fragment,{children:x.jsx(Ot,{category:Ft.DANGER,onClick:()=>{var r;return(r=e.current)==null?void 0:r.show()},children:n("Delete Song")})})},L6=O.memo(k6),U6="_FieldWithLabel_15xa5_1",V6={FieldWithLabel:U6},j6=t=>{const{label:e,field:n}=t;return x.jsxs("label",{className:V6.FieldWithLabel,children:[x.jsx("span",{children:e}),n]})},is=O.memo(j6),z6="_Input_6v29l_1",F6={Input:z6},B6=t=>x.jsx("input",{className:F6.Input,...t}),ss=O.memo(B6),H6="_NewNotesOption_1ax45_1",q6={NewNotesOption:H6},$6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultipleNotes(o)},[e]),s=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return x.jsxs("form",{className:q6.NewNotesOption,onSubmit:s,children:[x.jsx(is,{label:n("New Notes"),field:x.jsx(ss,{type:"number",name:"qty"})}),x.jsx(Ot,{category:Ft.PRIMARY,children:n("Add")})]})},G6=O.memo($6),K6="_NewPitchesOption_1vsl8_1",Y6={NewPitchesOption:K6},Q6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultiplePitches(o)},[e]),s=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return x.jsxs("form",{className:Y6.NewPitchesOption,onSubmit:s,children:[x.jsx(is,{label:n("New Pitches"),field:x.jsx(ss,{type:"number",name:"qty"})}),x.jsx(Ot,{category:Ft.PRIMARY,children:n("Add")})]})},X6=O.memo(Q6),W6="_TrimOptions_ti9xd_1",Z6={TrimOptions:W6},J6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(()=>{var u;(u=e.current)==null||u.trimPitches()},[e]),s=O.useCallback(()=>{var u;(u=e.current)==null||u.removeEmptyNotesAtTheEnd()},[e]),o=O.useCallback(()=>{s(),r()},[s,r]);return x.jsx("div",{className:Z6.TrimOptions,children:x.jsx(Ot,{category:Ft.DANGER,onClick:o,textOnly:!0,children:n("Trim Chart")})})},eU=O.memo(J6),tU="_ChartControllers_rba5f_1",nU="_Section_rba5f_7",sy={ChartControllers:tU,Section:nU},rU=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:r}=t,{t:s}=$t();return x.jsxs("div",{className:sy.ChartControllers,children:[x.jsxs("div",{className:sy.Section,children:[x.jsx(G6,{notesFnsRef:e}),x.jsx(X6,{notesFnsRef:e}),x.jsx(eU,{notesFnsRef:e})]}),x.jsxs("div",{className:sy.Section,children:[x.jsx(Ot,{category:Ft.DANGER,onClick:()=>{var o;return(o=n.current)==null?void 0:o.show()},children:s("Generate mapping with lyrics")}),x.jsx(L6,{deleteSongDialogFnsRef:r})]})]})},iU=O.memo(rU),sU="_Checkbox_5pzbe_1",aU={Checkbox:sU},oU=t=>{const{label:e,initialValue:n,className:r="",onChange:s}=t,[o,u]=O.useState(n);return O.useEffect(()=>{s(o)},[o,s]),x.jsxs("label",{className:`${aU.Checkbox} ${r}`,children:[x.jsx("input",{type:"checkbox",checked:o,onChange:()=>{u(f=>!f)}}),x.jsx("span",{children:e})]})},lU=O.memo(oU);var QC=jw();const uU="_DialogUIBlocker_ntqep_1",cU="_Dialog_ntqep_1",fU="_DialogHeader_ntqep_32",hU="_DialogBody_ntqep_37",dU="_DialogFooter_ntqep_46",lc={DialogUIBlocker:uU,Dialog:cU,DialogHeader:fU,DialogBody:hU,DialogFooter:dU},mU=t=>{const{bodyContent:e,footerContent:n,title:r,size:s=""}=t;return O.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),QC.createPortal(x.jsx("div",{className:lc.DialogUIBlocker,children:x.jsxs("div",{className:lc.Dialog,"data-size":s,children:[x.jsx("div",{className:lc.DialogHeader,children:x.jsx("h2",{children:r})}),x.jsx("div",{className:lc.DialogBody,children:e}),x.jsx("div",{className:lc.DialogFooter,children:n})]})}),document.body)},lf=O.memo(mU),gU=Object.freeze({LARGE:"LARGE"}),pU=t=>{const{bodyContent:e,footerContent:n}=t,{t:r}=$t();return x.jsx(lf,{title:r("Confirmation"),bodyContent:e,footerContent:n})},XC=O.memo(pU),yU="_ContextMenu_ip4lh_1",vU="_ContextMenuItem_ip4lh_10",Xb={ContextMenu:yU,ContextMenuItem:vU},_U=t=>{const{items:e,contextMenuFnsRef:n}=t,[r,s]=O.useState(null),o=O.useRef(null);return O.useImperativeHandle(n,()=>({setContextMenuData(u){s(u)}}),[]),O.useEffect(()=>{function u(f){o.current&&!o.current.contains(f.target)&&s(null)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s,o]),r?x.jsx("div",{ref:o,className:Xb.ContextMenu,style:{top:r==null?void 0:r.top,left:r==null?void 0:r.left},children:e.map(u=>x.jsx("span",{className:Xb.ContextMenuItem,onClick:()=>{s(null),u.onClick(r)},"data-type":u.type,children:u.label},`item-${u.label}`))}):x.jsx(x.Fragment,{})},EU=O.memo(_U);function Sn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var SU=typeof Symbol=="function"&&Symbol.observable||"@@observable",Wb=SU,ay=()=>Math.random().toString(36).substring(7).split("").join("."),bU={INIT:`@@redux/INIT${ay()}`,REPLACE:`@@redux/REPLACE${ay()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ay()}`},xd=bU;function u_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function WC(t,e,n){if(typeof t!="function")throw new Error(Sn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sn(1));return n(WC)(t,e)}let r=t,s=e,o=new Map,u=o,f=0,d=!1;function g(){u===o&&(u=new Map,o.forEach((M,j)=>{u.set(j,M)}))}function y(){if(d)throw new Error(Sn(3));return s}function _(M){if(typeof M!="function")throw new Error(Sn(4));if(d)throw new Error(Sn(5));let j=!0;g();const G=f++;return u.set(G,M),function(){if(j){if(d)throw new Error(Sn(6));j=!1,g(),u.delete(G),o=null}}}function E(M){if(!u_(M))throw new Error(Sn(7));if(typeof M.type>"u")throw new Error(Sn(8));if(typeof M.type!="string")throw new Error(Sn(17));if(d)throw new Error(Sn(9));try{d=!0,s=r(s,M)}finally{d=!1}return(o=u).forEach(G=>{G()}),M}function T(M){if(typeof M!="function")throw new Error(Sn(10));r=M,E({type:xd.REPLACE})}function A(){const M=_;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Sn(11));function G(){const re=j;re.next&&re.next(y())}return G(),{unsubscribe:M(G)}},[Wb](){return this}}}return E({type:xd.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:T,[Wb]:A}}function TU(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:xd.INIT})>"u")throw new Error(Sn(12));if(typeof n(void 0,{type:xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sn(13))})}function wU(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let s;try{TU(n)}catch(o){s=o}return function(u={},f){if(s)throw s;let d=!1;const g={};for(let y=0;y<r.length;y++){const _=r[y],E=n[_],T=u[_],A=E(T,f);if(typeof A>"u")throw f&&f.type,new Error(Sn(14));g[_]=A,d=d||A!==T}return d=d||r.length!==Object.keys(u).length,d?g:u}}function Id(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function AU(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(Sn(15))};const u={getState:s.getState,dispatch:(d,...g)=>o(d,...g)},f=t.map(d=>d(u));return o=Id(...f)(s.dispatch),{...s,dispatch:o}}}function CU(t){return u_(t)&&"type"in t&&typeof t.type=="string"}var ZC=Symbol.for("immer-nothing"),Zb=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function jr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jl=Object.getPrototypeOf;function _o(t){return!!t&&!!t[ur]}function hs(t){var e;return t?JC(t)||Array.isArray(t)||!!t[Zb]||!!((e=t.constructor)!=null&&e[Zb])||cm(t)||fm(t):!1}var RU=Object.prototype.constructor.toString();function JC(t){if(!t||typeof t!="object")return!1;const e=jl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RU}function Od(t,e){um(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function um(t){const e=t[ur];return e?e.type_:Array.isArray(t)?1:cm(t)?2:fm(t)?3:0}function tv(t,e){return um(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function eR(t,e,n){const r=um(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function fm(t){return t instanceof Set}function io(t){return t.copy_||t.base_}function nv(t,e){if(cm(t))return new Map(t);if(fm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=JC(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ur];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[u]})}return Object.create(jl(t),r)}else{const r=jl(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function c_(t,e=!1){return hm(t)||_o(t)||!hs(t)||(um(t)>1&&(t.set=t.add=t.clear=t.delete=IU),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>c_(r,!0))),t}function IU(){jr(2)}function hm(t){return Object.isFrozen(t)}var OU={};function Eo(t){const e=OU[t];return e||jr(0,t),e}var Uc;function tR(){return Uc}function DU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jb(t,e){e&&(Eo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function rv(t){iv(t),t.drafts_.forEach(NU),t.drafts_=null}function iv(t){t===Uc&&(Uc=t.parent_)}function eT(t){return Uc=DU(Uc,t)}function NU(t){const e=t[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ur].modified_&&(rv(e),jr(4)),hs(t)&&(t=Dd(e,t),e.parent_||Nd(e,t)),e.patches_&&Eo("Patches").generateReplacementPatches_(n[ur].base_,t,e.patches_,e.inversePatches_)):t=Dd(e,n,[]),rv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZC?t:void 0}function Dd(t,e,n){if(hm(e))return e;const r=e[ur];if(!r)return Od(e,(s,o)=>nT(t,r,e,s,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Nd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,u=!1;r.type_===3&&(o=new Set(s),s.clear(),u=!0),Od(o,(f,d)=>nT(t,r,s,f,d,n,u)),Nd(t,s,!1),n&&t.patches_&&Eo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function nT(t,e,n,r,s,o,u){if(_o(s)){const f=o&&e&&e.type_!==3&&!tv(e.assigned_,r)?o.concat(r):void 0,d=Dd(t,s,f);if(eR(n,r,d),_o(d))t.canAutoFreeze_=!1;else return}else u&&n.add(s);if(hs(s)&&!hm(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dd(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Nd(t,s)}}function Nd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&c_(e,n)}function PU(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:tR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=f_;n&&(s=[r],o=Vc);const{revoke:u,proxy:f}=Proxy.revocable(s,o);return r.draft_=f,r.revoke_=u,f}var f_={get(t,e){if(e===ur)return t;const n=io(t);if(!tv(n,e))return MU(t,n,e);const r=n[e];return t.finalized_||!hs(r)?r:r===oy(t.base_,e)?(ly(t),t.copy_[e]=av(r,t)):r},has(t,e){return e in io(t)},ownKeys(t){return Reflect.ownKeys(io(t))},set(t,e,n){const r=nR(io(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=oy(io(t),e),o=s==null?void 0:s[ur];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xU(n,s)&&(n!==void 0||tv(t.base_,e)))return!0;ly(t),sv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return oy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ly(t),sv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=io(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){jr(11)},getPrototypeOf(t){return jl(t.base_)},setPrototypeOf(){jr(12)}},Vc={};Od(f_,(t,e)=>{Vc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vc.deleteProperty=function(t,e){return Vc.set.call(this,t,e,void 0)};Vc.set=function(t,e,n){return f_.set.call(this,t[0],e,n,t[0])};function oy(t,e){const n=t[ur];return(n?io(n):t)[e]}function MU(t,e,n){var s;const r=nR(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function nR(t,e){if(!(e in t))return;let n=jl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=jl(n)}}function sv(t){t.modified_||(t.modified_=!0,t.parent_&&sv(t.parent_))}function ly(t){t.copy_||(t.copy_=nv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(d=o,...g){return u.produce(d,y=>n.call(this,y,...g))}}typeof n!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let s;if(hs(e)){const o=eT(this),u=av(e,void 0);let f=!0;try{s=n(u),f=!1}finally{f?rv(o):iv(o)}return Jb(o,r),tT(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===ZC&&(s=void 0),this.autoFreeze_&&c_(s,!0),r){const o=[],u=[];Eo("Patches").generateReplacementPatches_(e,s,o,u),r(o,u)}return s}else jr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...f)=>this.produceWithPatches(u,d=>e(d,...f));let r,s;return[this.produce(e,n,(u,f)=>{r=u,s=f}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hs(t)||jr(8),_o(t)&&(t=LU(t));const e=eT(this),n=av(t,void 0);return n[ur].isManual_=!0,iv(e),n}finishDraft(t,e){const n=t&&t[ur];(!n||!n.isManual_)&&jr(9);const{scope_:r}=n;return Jb(r,e),tT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Eo("Patches").applyPatches_;return _o(t)?r(t,e):this.produce(t,s=>r(s,e))}};function av(t,e){const n=cm(t)?Eo("MapSet").proxyMap_(t,e):fm(t)?Eo("MapSet").proxySet_(t,e):PU(t,e);return(e?e.scope_:tR()).drafts_.push(n),n}function LU(t){return _o(t)||jr(10,t),rR(t)}function rR(t){if(!hs(t)||hm(t))return t;const e=t[ur];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=nv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=nv(t,!0);return Od(n,(r,s)=>{eR(n,r,rR(s))}),e&&(e.finalized_=!1),n}var cr=new kU,iR=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function sR(t){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,t):s(o)}var UU=sR(),VU=sR,jU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Id:Id.apply(null,arguments)},zU=t=>t&&typeof t.match=="function";function wc(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(as(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>CU(r)&&r.type===t,n}var aR=class gc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gc.prototype)}static get[Symbol.species](){return gc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gc(...e[0].concat(this)):new gc(...e.concat(this))}};function rT(t){return hs(t)?iR(t,()=>{}):t}function Lh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function FU(t){return typeof t=="boolean"}var BU=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let u=new aR;return n&&(FU(n)?u.push(UU):u.push(VU(n.extraArgument))),u},HU="RTK_autoBatch",iT=t=>e=>{setTimeout(e,t)},qU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,o=!1,u=!1;const f=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iT(10):t.type==="callback"?t.queueNotification:iT(t.timeout),g=()=>{u=!1,o&&(o=!1,f.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const _=()=>s&&y(),E=r.subscribe(_);return f.add(y),()=>{E(),f.delete(y)}},dispatch(y){var _;try{return s=!((_=y==null?void 0:y.meta)!=null&&_[HU]),o=!s,o&&(u||(u=!0,d(g))),r.dispatch(y)}finally{s=!0}}})},$U=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new aR(t);return r&&s.push(qU(typeof r=="object"?r:void 0)),s};function GU(t){const e=BU(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(u_(n))f=wU(n);else throw new Error(as(1));let d;typeof r=="function"?d=r(e):d=e();let g=Id;s&&(g=jU({trace:!1,...typeof s=="object"&&s}));const y=AU(...d),_=$U(y);let E=typeof u=="function"?u(_):_();const T=g(...E);return WC(f,o,T)}function oR(t){const e={},n=[];let r;const s={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(as(28));if(f in e)throw new Error(as(29));return e[f]=u,s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return t(s),[e,n,r]}function KU(t){return typeof t=="function"}function YU(t,e){let[n,r,s]=oR(e),o;if(KU(t))o=()=>rT(t());else{const f=rT(t);o=()=>f}function u(f=o(),d){let g=[n[d.type],...r.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[s]),g.reduce((y,_)=>{if(_)if(_o(y)){const T=_(y,d);return T===void 0?y:T}else{if(hs(y))return iR(y,E=>_(E,d));{const E=_(y,d);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},f)}return u.getInitialState=o,u}var QU=(t,e)=>zU(t)?t.match(e):t(e);function XU(...t){return e=>t.some(n=>QU(n,e))}var WU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZU=(t=21)=>{let e="",n=t;for(;n--;)e+=WU[Math.random()*64|0];return e},JU=["name","message","stack","code"],uy=class{constructor(t,e){Rp(this,"_type");this.payload=t,this.meta=e}},sT=class{constructor(t,e){Rp(this,"_type");this.payload=t,this.meta=e}},eV=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of JU)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},aT="External signal was aborted",Co=(()=>{function t(e,n,r){const s=wc(e+"/fulfilled",(d,g,y,_)=>({payload:d,meta:{..._||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),o=wc(e+"/pending",(d,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:d,requestStatus:"pending"}})),u=wc(e+"/rejected",(d,g,y,_,E)=>({payload:_,error:(r&&r.serializeError||eV)(d||"Rejected"),meta:{...E||{},arg:y,requestId:g,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function f(d,{signal:g}={}){return(y,_,E)=>{const T=r!=null&&r.idGenerator?r.idGenerator(d):ZU(),A=new AbortController;let k,M;function j(Q){M=Q,A.abort()}g&&(g.aborted?j(aT):g.addEventListener("abort",()=>j(aT),{once:!0}));const G=async function(){var te,B;let Q;try{let D=(te=r==null?void 0:r.condition)==null?void 0:te.call(r,d,{getState:_,extra:E});if(nV(D)&&(D=await D),D===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((R,P)=>{k=()=>{P({name:"AbortError",message:M||"Aborted"})},A.signal.addEventListener("abort",k)});y(o(T,d,(B=r==null?void 0:r.getPendingMeta)==null?void 0:B.call(r,{requestId:T,arg:d},{getState:_,extra:E}))),Q=await Promise.race([I,Promise.resolve(n(d,{dispatch:y,getState:_,extra:E,requestId:T,signal:A.signal,abort:j,rejectWithValue:(R,P)=>new uy(R,P),fulfillWithValue:(R,P)=>new sT(R,P)})).then(R=>{if(R instanceof uy)throw R;return R instanceof sT?s(R.payload,T,d,R.meta):s(R,T,d)})])}catch(D){Q=D instanceof uy?u(null,T,d,D.payload,D.meta):u(D,T,d)}finally{k&&A.signal.removeEventListener("abort",k)}return r&&!r.dispatchConditionRejection&&u.match(Q)&&Q.meta.condition||y(Q),Q}();return Object.assign(G,{abort:j,requestId:T,arg:d,unwrap(){return G.then(tV)}})}}return Object.assign(f,{pending:o,rejected:u,fulfilled:s,settled:XU(u,s),typePrefix:e})}return t.withTypes=()=>t,t})();function tV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function nV(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var rV=Symbol.for("rtk-slice-createasyncthunk");function iV(t,e){return`${t}/${e}`}function sV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[rV];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(as(11));const f=(typeof s.reducers=="function"?s.reducers(oV()):s.reducers)||{},d=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(re,te){const B=typeof re=="string"?re:re.type;if(!B)throw new Error(as(12));if(B in g.sliceCaseReducersByType)throw new Error(as(13));return g.sliceCaseReducersByType[B]=te,y},addMatcher(re,te){return g.sliceMatchers.push({matcher:re,reducer:te}),y},exposeAction(re,te){return g.actionCreators[re]=te,y},exposeCaseReducer(re,te){return g.sliceCaseReducersByName[re]=te,y}};d.forEach(re=>{const te=f[re],B={reducerName:re,type:iV(o,re),createNotation:typeof s.reducers=="function"};uV(te)?fV(B,te,y,e):lV(B,te,y)});function _(){const[re={},te=[],B=void 0]=typeof s.extraReducers=="function"?oR(s.extraReducers):[s.extraReducers],D={...re,...g.sliceCaseReducersByType};return YU(s.initialState,I=>{for(let R in D)I.addCase(R,D[R]);for(let R of g.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of te)I.addMatcher(R.matcher,R.reducer);B&&I.addDefaultCase(B)})}const E=re=>re,T=new Map,A=new WeakMap;let k;function M(re,te){return k||(k=_()),k(re,te)}function j(){return k||(k=_()),k.getInitialState()}function G(re,te=!1){function B(I){let R=I[re];return typeof R>"u"&&te&&(R=Lh(A,B,j)),R}function D(I=E){const R=Lh(T,te,()=>new WeakMap);return Lh(R,I,()=>{const P={};for(const[F,V]of Object.entries(s.selectors??{}))P[F]=aV(V,I,()=>Lh(A,I,j),te);return P})}return{reducerPath:re,getSelectors:D,get selectors(){return D(B)},selectSlice:B}}const Q={name:o,reducer:M,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:j,...G(u),injectInto(re,{reducerPath:te,...B}={}){const D=te??u;return re.inject({reducerPath:D,reducer:M},B),{...Q,...G(D,!0)}}};return Q}}function aV(t,e,n,r){function s(o,...u){let f=e(o);return typeof f>"u"&&r&&(f=n()),t(f,...u)}return s.unwrapped=t,s}var lR=sV();function oV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lV({type:t,reducerName:e,createNotation:n},r,s){let o,u;if("reducer"in r){if(n&&!cV(r))throw new Error(as(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?wc(t,u):wc(t))}function uV(t){return t._reducerDefinitionType==="asyncThunk"}function cV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fV({type:t,reducerName:e},n,r,s){if(!s)throw new Error(as(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:d,settled:g,options:y}=n,_=s(t,o,y);r.exposeAction(e,_),u&&r.addCase(_.fulfilled,u),f&&r.addCase(_.pending,f),d&&r.addCase(_.rejected,d),g&&r.addMatcher(_.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Uh,pending:f||Uh,rejected:d||Uh,settled:g||Uh})}function Uh(){}function as(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Ca=Object.freeze({INITIAL_STATE:"initialState",ASYNC_THUNK:"asyncThunk",REDUCERS:"reducers",EXTRA_REDUCERS:"extraReducers",SELECTORS:"selectors"}),uR=(t,e)=>Object.keys(e).forEach(n=>{const{extraReducers:r=()=>null}=e[n];r(t)}),Ra=(t,e)=>Object.keys(t).map(n=>t[n][e]).reduce((n,r)=>({...n,...r}),{}),dm="songs",it=Object.freeze({IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"}),qe=t=>typeof t=="string",uc=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},oT=t=>t==null?"":""+t,hV=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},dV=/###/g,lT=t=>t&&t.indexOf("###")>-1?t.replace(dV,"."):t,uT=t=>!t||qe(t),Ac=(t,e,n)=>{const r=qe(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(uT(t))return{};const o=lT(r[s]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++s}return uT(t)?{}:{obj:t,k:lT(r[s])}},cT=(t,e,n)=>{const{obj:r,k:s}=Ac(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=Ac(t,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=Ac(t,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},mV=(t,e,n,r)=>{const{obj:s,k:o}=Ac(t,e,Object);s[o]=s[o]||[],s[o].push(n)},Pd=(t,e)=>{const{obj:n,k:r}=Ac(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},gV=(t,e,n)=>{const r=Pd(t,n);return r!==void 0?r:Pd(e,n)},cR=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?qe(t[r])||t[r]instanceof String||qe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):cR(t[r],e[r],n):t[r]=e[r]);return t},vl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yV=t=>qe(t)?t.replace(/[&<>"'\/]/g,e=>pV[e]):t;class vV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const _V=[" ",",","?","!",";"],EV=new vV(20),SV=(t,e,n)=>{e=e||"",n=n||"";const r=_V.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const s=EV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(t);if(!o){const u=t.indexOf(n);u>0&&!s.test(t.substring(0,u))&&(o=!0)}return o},ov=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let u,f="";for(let d=o;d<r.length;++d)if(d!==o&&(f+=n),f+=r[d],u=s[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}s=u}return s},jc=t=>t==null?void 0:t.replace("_","-"),bV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Md{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||bV,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Md(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Md(this.logger,e)}}var _i=new Md;class mm{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[e,...n])})}}class fT extends mm{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var g,y;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,n],r&&(Array.isArray(r)?f.push(...r):qe(r)&&o?f.push(...r.split(o)):f.push(r)));const d=Pd(this.data,f);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=f[0],n=f[1],r=f.slice(2).join(".")),d||!u||!qe(r)?d:ov((y=(g=this.data)==null?void 0:g[e])==null?void 0:y[n],r,o)}addResource(e,n,r,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,n];r&&(f=f.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(f=e.split("."),s=n,n=f[1]),this.addNamespaces(n),cT(this.data,f,s),o.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const o in r)(qe(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,o,u={silent:!1,skipCopy:!1}){let f=[e,n];e.indexOf(".")>-1&&(f=e.split("."),s=r,r=n,n=f[1]),this.addNamespaces(n);let d=Pd(this.data,f)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?cR(d,r,o):d={...d,...r},cT(this.data,f,d),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var fR={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,n,r,s))??e}),e}};const hT={},dT=t=>!qe(t)&&typeof t!="boolean"&&typeof t!="number";class kd extends mm{constructor(e,n={}){super(),hV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_i.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!SV(e,r,s);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qe(o)?[o]:o};const g=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(s)}return{key:e,namespaces:qe(o)?[o]:o}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(e[e.length-1],s),g=d[d.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const _=s.lng||this.language,E=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode")return E?o?{res:`${g}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:`${g}${y}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:f;const T=this.resolve(e,s);let A=T==null?void 0:T.res;const k=(T==null?void 0:T.usedKey)||f,M=(T==null?void 0:T.exactUsedKey)||f,j=["[object Number]","[object Function]","[object RegExp]"],G=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,Q=!this.i18nFormat||this.i18nFormat.handleAsObject,re=s.count!==void 0&&!qe(s.count),te=kd.hasDefaultValue(s),B=re?this.pluralResolver.getSuffix(_,s.count,s):"",D=s.ordinal&&re?this.pluralResolver.getSuffix(_,s.count,{ordinal:!1}):"",I=re&&!s.ordinal&&s.count===0,R=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${B}`]||s[`defaultValue${D}`]||s.defaultValue;let P=A;Q&&!A&&te&&(P=R);const F=dT(P),V=Object.prototype.toString.apply(P);if(Q&&P&&F&&j.indexOf(V)<0&&!(qe(G)&&Array.isArray(P))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,P,{...s,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(T.res=N,T.usedParams=this.getUsedParamsDetails(s),T):N}if(u){const N=Array.isArray(P),Se=N?[]:{},Ve=N?M:k;for(const Y in P)if(Object.prototype.hasOwnProperty.call(P,Y)){const fe=`${Ve}${u}${Y}`;te&&!A?Se[Y]=this.translate(fe,{...s,defaultValue:dT(R)?R[Y]:void 0,joinArrays:!1,ns:d}):Se[Y]=this.translate(fe,{...s,joinArrays:!1,ns:d}),Se[Y]===fe&&(Se[Y]=P[Y])}A=Se}}else if(Q&&qe(G)&&Array.isArray(A))A=A.join(G),A&&(A=this.extendTranslation(A,e,s,r));else{let N=!1,Se=!1;!this.isValidLookup(A)&&te&&(N=!0,A=R),this.isValidLookup(A)||(Se=!0,A=f);const Y=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Se?void 0:A,fe=te&&R!==A&&this.options.updateMissing;if(Se||N||fe){if(this.logger.log(fe?"updateKey":"missingKey",_,g,f,fe?R:A),u){const ie=this.resolve(f,{...s,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let ie=0;ie<Oe.length;ie++)ye.push(Oe[ie]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(s.lng||this.language):ye.push(s.lng||this.language);const U=(ie,de,oe)=>{var Be;const be=te&&oe!==A?oe:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,g,de,be,fe,s):(Be=this.backendConnector)!=null&&Be.saveMissing&&this.backendConnector.saveMissing(ie,g,de,be,fe,s),this.emit("missingKey",ie,g,de,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?ye.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(oe=>{U([ie],f+oe,s[`defaultValue${oe}`]||R)})}):U(ye,f,R))}A=this.extendTranslation(A,e,s,T,r),Se&&A===f&&this.options.appendNamespaceToMissingKey&&(A=`${g}${y}${f}`),(Se||N)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${f}`:f,N?A:void 0,s))}return o?(T.res=A,T.usedParams=this.getUsedParamsDetails(s),T):A}extendTranslation(e,n,r,s,o){var d,g;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const y=qe(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(y){const T=e.match(this.interpolator.nestingRegexp);_=T&&T.length}let E=r.replace&&!qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||s.usedLng,r),y){const T=e.match(this.interpolator.nestingRegexp),A=T&&T.length;_<A&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,f=qe(u)?[u]:u;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=fR.handle(f,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,o,u,f;return qe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(d,n),y=g.key;s=y;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const E=n.count!==void 0&&!qe(n.count),T=E&&!n.ordinal&&n.count===0,A=n.context!==void 0&&(qe(n.context)||typeof n.context=="number")&&n.context!=="",k=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);_.forEach(M=>{var j,G;this.isValidLookup(r)||(f=M,!hT[`${k[0]}-${M}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((G=this.utils)!=null&&G.hasLoadedNamespace(f))&&(hT[`${k[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${k.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(Q=>{var B;if(this.isValidLookup(r))return;u=Q;const re=[y];if((B=this.i18nFormat)!=null&&B.addLookupKeys)this.i18nFormat.addLookupKeys(re,y,Q,M,n);else{let D;E&&(D=this.pluralResolver.getSuffix(Q,n.count,n));const I=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(re.push(y+D),n.ordinal&&D.indexOf(R)===0&&re.push(y+D.replace(R,this.options.pluralSeparator)),T&&re.push(y+I)),A){const P=`${y}${this.options.contextSeparator}${n.context}`;re.push(P),E&&(re.push(P+D),n.ordinal&&D.indexOf(R)===0&&re.push(P+D.replace(R,this.options.pluralSeparator)),T&&re.push(P+I))}}let te;for(;te=re.pop();)this.isValidLookup(r)||(o=te,r=this.getResource(Q,M,te,n))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qe(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class mT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_i.create("languageUtils")}getScriptPartFromCode(e){if(e=jc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=jc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(qe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),qe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):qe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const gT={zero:0,one:1,two:2,few:3,many:4,other:5},pT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class TV{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=_i.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=jc(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pT;if(!e.match(/-|_/))return pT;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>gT[s]-gT[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const yT=(t,e,n,r=".",s=!0)=>{let o=gV(t,e,n);return!o&&s&&qe(n)&&(o=ov(t,n,r),o===void 0&&(o=ov(e,n,r))),o},cy=t=>t.replace(/\$/g,"$$$$");class wV{constructor(e={}){var n;this.logger=_i.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:y,unescapePrefix:_,nestingPrefix:E,nestingPrefixEscaped:T,nestingSuffix:A,nestingSuffixEscaped:k,nestingOptionsSeparator:M,maxReplaces:j,alwaysFormat:G}=e.interpolation;this.escape=n!==void 0?n:yV,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?vl(o):u||"{{",this.suffix=f?vl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=E?vl(E):T||vl("$t("),this.nestingSuffix=A?vl(A):k||vl(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=j||1e3,this.alwaysFormat=G!==void 0?G:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var T;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=A=>{if(A.indexOf(this.formatSeparator)<0){const G=yT(n,d,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(G,void 0,r,{...s,...n,interpolationkey:A}):G}const k=A.split(this.formatSeparator),M=k.shift().trim(),j=k.join(this.formatSeparator).trim();return this.format(yT(n,d,M,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...s,...n,interpolationkey:M})};this.resetRegExp();const y=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((T=s==null?void 0:s.interpolation)==null?void 0:T.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>cy(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?cy(this.escape(A)):cy(A)}].forEach(A=>{for(f=0;o=A.regex.exec(e);){const k=o[1].trim();if(u=g(k),u===void 0)if(typeof y=="function"){const j=y(e,o,s);u=qe(j)?j:""}else if(s&&Object.prototype.hasOwnProperty.call(s,k))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${k} for interpolating ${e}`),u="";else!qe(u)&&!this.useRawValueToEscape&&(u=oT(u));const M=A.safeValue(u);if(e=e.replace(o[0],M),_?(A.regex.lastIndex+=u.length,A.regex.lastIndex-=o[0].length):A.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,o,u;const f=(d,g)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const _=d.split(new RegExp(`${y}[ ]*{`));let E=`{${_[1]}`;d=_[0],E=this.interpolate(E,u);const T=E.match(/'/g),A=E.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!A||A.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),g&&(u={...g,...u})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,k),`${d}${y}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];u={...r},u=u.replace&&!qe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const y=s[1].split(this.formatSeparator).map(_=>_.trim());s[1]=y.shift(),d=y,g=!0}if(o=n(f.call(this,s[1].trim(),u),u),o&&s[0]===e&&!qe(o))return o;qe(o)||(o=oT(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((y,_)=>this.format(y,_,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const AV=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:n}},vT=t=>{const e={};return(n,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=r+JSON.stringify(o);let f=e[u];return f||(f=t(jc(r),s),e[u]=f),f(n)}},CV=t=>(e,n,r)=>t(jc(n),r)(e);class RV{constructor(e={}){this.logger=_i.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?vT:CV;this.formats={number:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return f=>u.format(f)}),currency:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return f=>u.format(f)}),datetime:r((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return f=>u.format(f)}),relativetime:r((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return f=>u.format(f,o.range||"day")}),list:r((s,o)=>{const u=new Intl.ListFormat(s,{...o});return f=>u.format(f)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=vT(n)}format(e,n,r,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var _;const{formatName:g,formatOptions:y}=AV(d);if(this.formats[g]){let E=f;try{const T=((_=s==null?void 0:s.formatParams)==null?void 0:_[s.interpolationkey])||{},A=T.locale||T.lng||s.locale||s.lng||r;E=this.formats[g](f,A,{...y,...s,...T})}catch(T){this.logger.warn(T)}return E}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const xV=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class IV extends mm{constructor(e,n,r,s={}){var o,u;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=_i.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,s.backend,s)}queueLoad(e,n,r,s){const o={},u={},f={},d={};return e.forEach(g=>{let y=!0;n.forEach(_=>{const E=`${g}|${_}`;!r.reload&&this.store.hasResourceBundle(g,_)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,y=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),d[_]===void 0&&(d[_]=!0)))}),y||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const s=e.split("|"),o=s[0],u=s[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const f={};this.queue.forEach(d=>{mV(d.loaded,[o],u),xV(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const y=d.loaded[g];y.length&&y.forEach(_=>{f[g][_]===void 0&&(f[g][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,s=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:o,callback:u});return}this.readingCalls++;const f=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,o*2,u)},o);return}u(g,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const g=d(e,n);g&&typeof g.then=="function"?g.then(y=>f(null,y)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,n,f)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qe(n)&&(n=[n]);const o=this.queueLoad(e,n,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,u),!u&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,f),this.loaded(e,u,f)})}saveMissing(e,n,r,s,o,u={},f=()=>{}){var d,g,y,_,E;if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((_=(y=this.services)==null?void 0:y.utils)!=null&&_.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const T={...u,isUpdate:o},A=this.backend.create.bind(this.backend);if(A.length<6)try{let k;A.length===5?k=A(e,n,r,s,T):k=A(e,n,r,s),k&&typeof k.then=="function"?k.then(M=>f(null,M)).catch(f):f(null,k)}catch(k){f(k)}else A(e,n,r,s,f,T)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const _T=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qe(t[1])&&(e.defaultValue=t[1]),qe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ET=t=>{var e,n;return qe(t.ns)&&(t.ns=[t.ns]),qe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Vh=()=>{},OV=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class zc extends mm{constructor(e={},n){if(super(),this.options=ET(e),this.services={},this.logger=_i,this.modules={external:[]},OV(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=_T();this.options={...r,...this.options,...ET(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?_i.init(s(this.modules.logger),this.options):_i.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=RV;const y=new mT(this.options);this.store=new fT(this.options.resources,this.options);const _=this.services;_.logger=_i,_.resourceStore=this.store,_.languageUtils=y,_.pluralResolver=new TV(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=s(g),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new wV(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new IV(s(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.languageDetector&&(_.languageDetector=s(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=s(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new kd(this.services,this.options),this.translator.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const f=uc(),d=()=>{const g=(y,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(_),n(y,_)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e,n=Vh){var o,u;let r=n;const s=qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(_=>{_!=="cimode"&&f.indexOf(_)<0&&f.push(_)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>d(y)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,n,r){const s=uc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Vh),this.services.backendConnector.reload(e,n,o=>{s.resolve(),r(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=uc();this.emit("languageChanging",e);const s=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),n&&n(f,(...g)=>this.t(...g))},u=f=>{var y,_;!e&&!f&&this.services.languageDetector&&(f=[]);const d=qe(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qe(f)?[f]:f);g&&(this.language||s(g),this.translator.language||this.translator.changeLanguage(g),(_=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||_.call(y,g)),this.loadResources(g,E=>{o(E,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const s=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||s.keyPrefix);const g=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(_=>`${d.keyPrefix}${g}${_}`):y=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o,this.t(y,d)};return qe(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(n.precheck){const f=n.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(o,e)))}loadNamespaces(e,n){const r=uc();return this.options.ns?(qe(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=uc();qe(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new mT(_T());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new zc(e,n)}cloneInstance(e={},n=Vh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new zc(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((y,_)=>(y[_]={...d[g][_]},y),d[g]),d),{});o.store=new fT(f,s),o.services.resourceStore=o.store}return o.translator=new kd(o.services,s),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Mt=zc.createInstance();Mt.createInstance=zc.createInstance;Mt.createInstance;Mt.dir;Mt.init;Mt.loadResources;Mt.reloadResources;Mt.use;Mt.changeLanguage;Mt.getFixedT;Mt.t;Mt.exists;Mt.setDefaultNamespace;Mt.hasLoadedNamespace;Mt.loadNamespaces;Mt.loadLanguages;const{slice:DV,forEach:NV}=[];function PV(t){return NV.call(DV.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function MV(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const ST=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kV=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${t}=${s}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!ST.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!ST.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},bT={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=kV(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var LV={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return bT.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:o}=e;n&&typeof document<"u"&&bT.create(n,t,r,s,o)}},UV={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===e&&(n=u[f].substring(d+1))}}return n}},VV={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const f=u.split("&");for(let d=0;d<f.length;d++){const g=f[d].indexOf("=");g>0&&f[d].substring(0,g)===e&&(r=f[d].substring(g+1))}}if(r)return r;if(!r&&n>-1){const f=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?(s=f[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let _l=null;const TT=()=>{if(_l!==null)return _l;try{if(_l=typeof window<"u"&&window.localStorage!==null,!_l)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{_l=!1}return _l};var jV={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&TT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&TT()&&window.localStorage.setItem(n,t)}};let El=null;const wT=()=>{if(El!==null)return El;try{if(El=typeof window<"u"&&window.sessionStorage!==null,!El)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{El=!1}return El};var zV={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&wT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&wT()&&window.sessionStorage.setItem(n,t)}},FV={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},BV={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},HV={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},qV={name:"subdomain",lookup(t){var s,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let hR=!1;try{document.cookie,hR=!0}catch{}const dR=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hR||dR.splice(1,1);const $V=()=>({order:dR,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class mR{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=PV(n,this.options||{},$V()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(LV),this.addDetector(UV),this.addDetector(jV),this.addDetector(zV),this.addDetector(FV),this.addDetector(BV),this.addDetector(HV),this.addDetector(qV),this.addDetector(VV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!MV(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}mR.type="languageDetector";function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function gR(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":lv(XMLHttpRequest))==="object"}function GV(t){return!!t&&typeof t.then=="function"}function KV(t){return GV(t)?t:Promise.resolve(t)}const YV="modulepreload",QV=function(t){return"/melo-chart/"+t},AT={},XV=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=u(n.map(g=>{if(g=QV(g),g in AT)return;AT[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":YV,y||(E.as="script"),E.crossOrigin="",E.href=g,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((T,A)=>{E.addEventListener("load",T),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){WV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WV(t,e,n){return(e=ZV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=JV(t,"string");return So(e)=="symbol"?e:e+""}function JV(t,e){if(So(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(So(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}var ga=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ga=global.fetch:typeof window<"u"&&window.fetch&&(ga=window.fetch);var Fc;gR()&&(typeof global<"u"&&global.XMLHttpRequest?Fc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Fc=window.XMLHttpRequest));var Ld;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Ld=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Ld=window.ActiveXObject));typeof ga!="function"&&(ga=void 0);if(!ga&&!Fc&&!Ld)try{XV(()=>import("./browser-ponyfill-DIkEDqUp.js").then(t=>t.b),[]).then(function(t){ga=t.default}).catch(function(){})}catch{}var uv=function(e,n){if(n&&So(n)==="object"){var r="";for(var s in n)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},xT=function(e,n,r,s){var o=function(d){if(!d.ok)return r(d.statusText||"Error",{status:d.status});d.text().then(function(g){r(null,{status:d.status,data:g})}).catch(r)};if(s){var u=s(e,n);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(o).catch(r):ga(e,n).then(o).catch(r)},IT=!1,e9=function(e,n,r,s){e.queryStringParams&&(n=uv(n,e.queryStringParams));var o=RT({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,f=RT({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},IT?{}:u),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{xT(n,f,s,d)}catch(g){if(!u||Object.keys(u).length===0||!g.message||g.message.indexOf("not implemented")<0)return s(g);try{Object.keys(u).forEach(function(y){delete f[y]}),xT(n,f,s,d),IT=!0}catch(y){s(y)}}},t9=function(e,n,r,s){r&&So(r)==="object"&&(r=uv("",r).slice(1)),e.queryStringParams&&(n=uv(n,e.queryStringParams));try{var o=Fc?new Fc:new Ld("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var f in u)o.setRequestHeader(f,u[f]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(d){console&&console.log(d)}},n9=function(e,n,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},ga&&n.indexOf("file:")!==0)return e9(e,n,r,s);if(gR()||typeof ActiveXObject=="function")return t9(e,n,r,s);s(new Error("No fetch and no xhr implementation found!"))};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){pR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yR(r.key),r)}}function s9(t,e,n){return e&&i9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pR(t,e,n){return(e=yR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yR(t){var e=a9(t,"string");return zl(e)=="symbol"?e:e+""}function a9(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o9=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,s){return pR({},r,s||"")},parseLoadPayload:function(n,r){},request:n9,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},vR=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r9(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return s9(t,[{key:"init",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=fy(fy(fy({},o9()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);zl(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(n,r,s){this._readAny(n,n,r,r,s)}},{key:"read",value:function(n,r,s){this._readAny([n],n,[r],r,s)}},{key:"_readAny",value:function(n,r,s,o,u){var f=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(n,s)),d=KV(d),d.then(function(g){if(!g)return u(null,{});var y=f.services.interpolator.interpolate(g,{lng:n.join("+"),ns:s.join("+")});f.loadUrl(y,u,r,o)})}},{key:"loadUrl",value:function(n,r,s,o){var u=this,f=typeof s=="string"?[s]:s,d=typeof o=="string"?[o]:o,g=this.options.parseLoadPayload(f,d);this.options.request(this.options,n,g,function(y,_){if(_&&(_.status>=500&&_.status<600||!_.status))return r("failed loading "+n+"; status code: "+_.status,!0);if(_&&_.status>=400&&_.status<500)return r("failed loading "+n+"; status code: "+_.status,!1);if(!_&&y&&y.message){var E=y.message.toLowerCase(),T=["failed","fetch","network","load"].find(function(M){return E.indexOf(M)>-1});if(T)return r("failed loading "+n+": "+y.message,!0)}if(y)return r(y,!1);var A,k;try{typeof _.data=="string"?A=u.options.parse(_.data,s,o):A=_.data}catch{k="failed parsing "+n+" to json"}if(k)return r(k,!1);r(null,A)})}},{key:"create",value:function(n,r,s,o,u){var f=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var d=this.options.parsePayload(r,s,o),g=0,y=[],_=[];n.forEach(function(E){var T=f.options.addPath;typeof f.options.addPath=="function"&&(T=f.options.addPath(E,r));var A=f.services.interpolator.interpolate(T,{lng:E,ns:r});f.options.request(f.options,A,d,function(k,M){g+=1,y.push(k),_.push(M),g===n.length&&typeof u=="function"&&u(y,_)})})}}},{key:"reload",value:function(){var n=this,r=this.services,s=r.backendConnector,o=r.languageUtils,u=r.logger,f=s.language;if(!(f&&f.toLowerCase()==="cimode")){var d=[],g=function(_){var E=o.toResolveHierarchy(_);E.forEach(function(T){d.indexOf(T)<0&&d.push(T)})};g(f),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return g(y)}),d.forEach(function(y){n.allOptions.ns.forEach(function(_){s.read(y,_,"read",null,null,function(E,T){E&&u.warn("loading namespace ".concat(_," for language ").concat(y," failed"),E),!E&&T&&u.log("loaded namespace ".concat(_," for language ").concat(y),T),s.loaded("".concat(y,"|").concat(_),E,T)})})})}}}])}();vR.type="backend";Mt.use(vR).use(mR).use(N4).init({lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1},backend:{loadPath:"/melo-chart/locales/{{lng}}/{{ns}}.json"}});var l9="firebase",u9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(l9,u9,"app");const c9={apiKey:"AIzaSyCrUUG-1lrbf5iZXLtswHQTa9H-7wb8bho",authDomain:"melo-chart.firebaseapp.com",projectId:"melo-chart",storageBucket:"melo-chart.firebasestorage.app",messagingSenderId:"218674893122",appId:"1:218674893122:web:5669423f50d704d8ad38db"},_R=Zw(c9),gm=fM(_R),f9=async(t,e)=>{const{user:n}=await XN(gm,t,e);return n},h9=async()=>{await eP(gm)},ER=async(t,e)=>{const{user:n}=await QN(gm,t,e);return n},d9=Object.freeze(Object.defineProperty({__proto__:null,auth:gm,signIn:f9,signOut:h9,signUp:ER},Symbol.toStringTag,{value:"Module"}));var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,SR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function R(){}R.prototype=I.prototype,D.D=I.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(P,F,V){for(var N=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)N[Se-2]=arguments[Se];return I.prototype[F].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,I,R){R||(R=0);var P=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)P[F]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(F=0;16>F;++F)P[F]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=D.g[0],R=D.g[1],F=D.g[2];var V=D.g[3],N=I+(V^R&(F^V))+P[0]+3614090360&4294967295;I=R+(N<<7&4294967295|N>>>25),N=V+(F^I&(R^F))+P[1]+3905402710&4294967295,V=I+(N<<12&4294967295|N>>>20),N=F+(R^V&(I^R))+P[2]+606105819&4294967295,F=V+(N<<17&4294967295|N>>>15),N=R+(I^F&(V^I))+P[3]+3250441966&4294967295,R=F+(N<<22&4294967295|N>>>10),N=I+(V^R&(F^V))+P[4]+4118548399&4294967295,I=R+(N<<7&4294967295|N>>>25),N=V+(F^I&(R^F))+P[5]+1200080426&4294967295,V=I+(N<<12&4294967295|N>>>20),N=F+(R^V&(I^R))+P[6]+2821735955&4294967295,F=V+(N<<17&4294967295|N>>>15),N=R+(I^F&(V^I))+P[7]+4249261313&4294967295,R=F+(N<<22&4294967295|N>>>10),N=I+(V^R&(F^V))+P[8]+1770035416&4294967295,I=R+(N<<7&4294967295|N>>>25),N=V+(F^I&(R^F))+P[9]+2336552879&4294967295,V=I+(N<<12&4294967295|N>>>20),N=F+(R^V&(I^R))+P[10]+4294925233&4294967295,F=V+(N<<17&4294967295|N>>>15),N=R+(I^F&(V^I))+P[11]+2304563134&4294967295,R=F+(N<<22&4294967295|N>>>10),N=I+(V^R&(F^V))+P[12]+1804603682&4294967295,I=R+(N<<7&4294967295|N>>>25),N=V+(F^I&(R^F))+P[13]+4254626195&4294967295,V=I+(N<<12&4294967295|N>>>20),N=F+(R^V&(I^R))+P[14]+2792965006&4294967295,F=V+(N<<17&4294967295|N>>>15),N=R+(I^F&(V^I))+P[15]+1236535329&4294967295,R=F+(N<<22&4294967295|N>>>10),N=I+(F^V&(R^F))+P[1]+4129170786&4294967295,I=R+(N<<5&4294967295|N>>>27),N=V+(R^F&(I^R))+P[6]+3225465664&4294967295,V=I+(N<<9&4294967295|N>>>23),N=F+(I^R&(V^I))+P[11]+643717713&4294967295,F=V+(N<<14&4294967295|N>>>18),N=R+(V^I&(F^V))+P[0]+3921069994&4294967295,R=F+(N<<20&4294967295|N>>>12),N=I+(F^V&(R^F))+P[5]+3593408605&4294967295,I=R+(N<<5&4294967295|N>>>27),N=V+(R^F&(I^R))+P[10]+38016083&4294967295,V=I+(N<<9&4294967295|N>>>23),N=F+(I^R&(V^I))+P[15]+3634488961&4294967295,F=V+(N<<14&4294967295|N>>>18),N=R+(V^I&(F^V))+P[4]+3889429448&4294967295,R=F+(N<<20&4294967295|N>>>12),N=I+(F^V&(R^F))+P[9]+568446438&4294967295,I=R+(N<<5&4294967295|N>>>27),N=V+(R^F&(I^R))+P[14]+3275163606&4294967295,V=I+(N<<9&4294967295|N>>>23),N=F+(I^R&(V^I))+P[3]+4107603335&4294967295,F=V+(N<<14&4294967295|N>>>18),N=R+(V^I&(F^V))+P[8]+1163531501&4294967295,R=F+(N<<20&4294967295|N>>>12),N=I+(F^V&(R^F))+P[13]+2850285829&4294967295,I=R+(N<<5&4294967295|N>>>27),N=V+(R^F&(I^R))+P[2]+4243563512&4294967295,V=I+(N<<9&4294967295|N>>>23),N=F+(I^R&(V^I))+P[7]+1735328473&4294967295,F=V+(N<<14&4294967295|N>>>18),N=R+(V^I&(F^V))+P[12]+2368359562&4294967295,R=F+(N<<20&4294967295|N>>>12),N=I+(R^F^V)+P[5]+4294588738&4294967295,I=R+(N<<4&4294967295|N>>>28),N=V+(I^R^F)+P[8]+2272392833&4294967295,V=I+(N<<11&4294967295|N>>>21),N=F+(V^I^R)+P[11]+1839030562&4294967295,F=V+(N<<16&4294967295|N>>>16),N=R+(F^V^I)+P[14]+4259657740&4294967295,R=F+(N<<23&4294967295|N>>>9),N=I+(R^F^V)+P[1]+2763975236&4294967295,I=R+(N<<4&4294967295|N>>>28),N=V+(I^R^F)+P[4]+1272893353&4294967295,V=I+(N<<11&4294967295|N>>>21),N=F+(V^I^R)+P[7]+4139469664&4294967295,F=V+(N<<16&4294967295|N>>>16),N=R+(F^V^I)+P[10]+3200236656&4294967295,R=F+(N<<23&4294967295|N>>>9),N=I+(R^F^V)+P[13]+681279174&4294967295,I=R+(N<<4&4294967295|N>>>28),N=V+(I^R^F)+P[0]+3936430074&4294967295,V=I+(N<<11&4294967295|N>>>21),N=F+(V^I^R)+P[3]+3572445317&4294967295,F=V+(N<<16&4294967295|N>>>16),N=R+(F^V^I)+P[6]+76029189&4294967295,R=F+(N<<23&4294967295|N>>>9),N=I+(R^F^V)+P[9]+3654602809&4294967295,I=R+(N<<4&4294967295|N>>>28),N=V+(I^R^F)+P[12]+3873151461&4294967295,V=I+(N<<11&4294967295|N>>>21),N=F+(V^I^R)+P[15]+530742520&4294967295,F=V+(N<<16&4294967295|N>>>16),N=R+(F^V^I)+P[2]+3299628645&4294967295,R=F+(N<<23&4294967295|N>>>9),N=I+(F^(R|~V))+P[0]+4096336452&4294967295,I=R+(N<<6&4294967295|N>>>26),N=V+(R^(I|~F))+P[7]+1126891415&4294967295,V=I+(N<<10&4294967295|N>>>22),N=F+(I^(V|~R))+P[14]+2878612391&4294967295,F=V+(N<<15&4294967295|N>>>17),N=R+(V^(F|~I))+P[5]+4237533241&4294967295,R=F+(N<<21&4294967295|N>>>11),N=I+(F^(R|~V))+P[12]+1700485571&4294967295,I=R+(N<<6&4294967295|N>>>26),N=V+(R^(I|~F))+P[3]+2399980690&4294967295,V=I+(N<<10&4294967295|N>>>22),N=F+(I^(V|~R))+P[10]+4293915773&4294967295,F=V+(N<<15&4294967295|N>>>17),N=R+(V^(F|~I))+P[1]+2240044497&4294967295,R=F+(N<<21&4294967295|N>>>11),N=I+(F^(R|~V))+P[8]+1873313359&4294967295,I=R+(N<<6&4294967295|N>>>26),N=V+(R^(I|~F))+P[15]+4264355552&4294967295,V=I+(N<<10&4294967295|N>>>22),N=F+(I^(V|~R))+P[6]+2734768916&4294967295,F=V+(N<<15&4294967295|N>>>17),N=R+(V^(F|~I))+P[13]+1309151649&4294967295,R=F+(N<<21&4294967295|N>>>11),N=I+(F^(R|~V))+P[4]+4149444226&4294967295,I=R+(N<<6&4294967295|N>>>26),N=V+(R^(I|~F))+P[11]+3174756917&4294967295,V=I+(N<<10&4294967295|N>>>22),N=F+(I^(V|~R))+P[2]+718787259&4294967295,F=V+(N<<15&4294967295|N>>>17),N=R+(V^(F|~I))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var R=I-this.blockSize,P=this.B,F=this.h,V=0;V<I;){if(F==0)for(;V<=R;)s(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<I;)if(P[F++]=D.charCodeAt(V++),F==this.blockSize){s(this,P),F=0;break}}else for(;V<I;)if(P[F++]=D[V++],F==this.blockSize){s(this,P),F=0;break}}this.h=F,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var R=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.u(D),D=Array(16),I=R=0;4>I;++I)for(var P=0;32>P;P+=8)D[R++]=this.g[I]>>>P&255;return D};function o(D,I){var R=f;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=I(D)}function u(D,I){this.h=I;for(var R=[],P=!0,F=D.length-1;0<=F;F--){var V=D[F]|0;P&&V==I||(R[F]=V,P=!1)}this.g=R}var f={};function d(D){return-128<=D&&128>D?o(D,function(I){return new u([I|0],0>I?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return M(g(-D));for(var I=[],R=1,P=0;D>=R;P++)I[P]=D/R|0,R*=4294967296;return new u(I,0)}function y(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return M(y(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(I,8)),P=_,F=0;F<D.length;F+=8){var V=Math.min(8,D.length-F),N=parseInt(D.substring(F,F+V),I);8>V?(V=g(Math.pow(I,V)),P=P.j(V).add(g(N))):(P=P.j(R),P=P.add(g(N)))}return P}var _=d(0),E=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(k(this))return-M(this).m();for(var D=0,I=1,R=0;R<this.g.length;R++){var P=this.i(R);D+=(0<=P?P:4294967296+P)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(k(this))return"-"+M(this).toString(D);for(var I=g(Math.pow(D,6)),R=this,P="";;){var F=re(R,I).g;R=j(R,F.j(I));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=F,A(R))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=j(this,D),k(D)?-1:A(D)?0:1};function M(D){for(var I=D.g.length,R=[],P=0;P<I;P++)R[P]=~D.g[P];return new u(R,~D.h).add(E)}t.abs=function(){return k(this)?M(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],P=0,F=0;F<=I;F++){var V=P+(this.i(F)&65535)+(D.i(F)&65535),N=(V>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);P=N>>>16,V&=65535,N&=65535,R[F]=N<<16|V}return new u(R,R[R.length-1]&-2147483648?-1:0)};function j(D,I){return D.add(M(I))}t.j=function(D){if(A(this)||A(D))return _;if(k(this))return k(D)?M(this).j(M(D)):M(M(this).j(D));if(k(D))return M(this.j(M(D)));if(0>this.l(T)&&0>D.l(T))return g(this.m()*D.m());for(var I=this.g.length+D.g.length,R=[],P=0;P<2*I;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var F=0;F<D.g.length;F++){var V=this.i(P)>>>16,N=this.i(P)&65535,Se=D.i(F)>>>16,Ve=D.i(F)&65535;R[2*P+2*F]+=N*Ve,G(R,2*P+2*F),R[2*P+2*F+1]+=V*Ve,G(R,2*P+2*F+1),R[2*P+2*F+1]+=N*Se,G(R,2*P+2*F+1),R[2*P+2*F+2]+=V*Se,G(R,2*P+2*F+2)}for(P=0;P<I;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=I;P<2*I;P++)R[P]=0;return new u(R,0)};function G(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function Q(D,I){this.g=D,this.h=I}function re(D,I){if(A(I))throw Error("division by zero");if(A(D))return new Q(_,_);if(k(D))return I=re(M(D),I),new Q(M(I.g),M(I.h));if(k(I))return I=re(D,M(I)),new Q(M(I.g),I.h);if(30<D.g.length){if(k(D)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var R=E,P=I;0>=P.l(D);)R=te(R),P=te(P);var F=B(R,1),V=B(P,1);for(P=B(P,2),R=B(R,2);!A(P);){var N=V.add(P);0>=N.l(D)&&(F=F.add(R),V=N),P=B(P,1),R=B(R,1)}return I=j(D,F.j(I)),new Q(F,I)}for(F=_;0<=D.l(I);){for(R=Math.max(1,Math.floor(D.m()/I.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=g(R),N=V.j(I);k(N)||0<N.l(D);)R-=P,V=g(R),N=V.j(I);A(V)&&(V=E),F=F.add(V),D=j(D,N)}return new Q(F,D)}t.A=function(D){return re(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)&D.i(P);return new u(R,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)|D.i(P);return new u(R,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)^D.i(P);return new u(R,this.h^D.h)};function te(D){for(var I=D.g.length+1,R=[],P=0;P<I;P++)R[P]=D.i(P)<<1|D.i(P-1)>>>31;return new u(R,D.h)}function B(D,I){var R=I>>5;I%=32;for(var P=D.g.length-R,F=[],V=0;V<P;V++)F[V]=0<I?D.i(V+R)>>>I|D.i(V+R+1)<<32-I:D.i(V+R);return new u(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,oa=u}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bR,pc,TR,ed,cv,wR,AR,CR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,S){return h==Array.prototype||h==Object.prototype||(h[v]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var S=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var K=h[C];if(!(K in S))break e;S=S[K]}h=h[h.length-1],C=S[h],v=v(C),v!=C&&v!=null&&e(S,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var S=0,C=!1,K={next:function(){if(!C&&S<h.length){var ne=S++;return{value:v(ne,h[ne]),done:!1}}return C=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(h){return h||function(){return o(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,S){return h.call.apply(h.bind,arguments)}function _(h,v,S){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,C),h.apply(v,K)}}return function(){return h.apply(v,arguments)}}function E(h,v,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function T(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var C=S.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function A(h,v){function S(){}S.prototype=v.prototype,h.aa=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(C,K,ne){for(var pe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)pe[lt-2]=arguments[lt];return v.prototype[K].apply(C,pe)}}function k(h){const v=h.length;if(0<v){const S=Array(v);for(let C=0;C<v;C++)S[C]=h[C];return S}return[]}function M(h,v){for(let S=1;S<arguments.length;S++){const C=arguments[S];if(d(C)){const K=h.length||0,ne=C.length||0;h.length=K+ne;for(let pe=0;pe<ne;pe++)h[K+pe]=C[pe]}else h.push(C)}}class j{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var te=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function B(h,v,S){for(const C in h)v.call(S,h[C],C,h)}function D(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function I(h){const v={};for(const S in h)v[S]=h[S];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let S,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(S in C)h[S]=C[S];for(let ne=0;ne<R.length;ne++)S=R[ne],Object.prototype.hasOwnProperty.call(C,S)&&(h[S]=C[S])}}function F(h){var v=1;h=h.split(":");const S=[];for(;0<v&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function V(h){f.setTimeout(()=>{throw h},0)}function N(){var h=Oe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Se{constructor(){this.h=this.g=null}add(v,S){const C=Ve.get();C.set(v,S),this.h?this.h.next=C:this.g=C,this.h=C}}var Ve=new j(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,Oe=new Se,U=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(ie)}};var ie=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(S){V(S)}var v=Ve;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};f.addEventListener("test",S,v),f.removeEventListener("test",S,v)}catch{}return h}();function Be(h,v){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(te){e:{try{re(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Be.aa.h.call(this)}}A(Be,oe);var De={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),St=0;function hr(h,v,S,C,K){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!C,this.ha=K,this.key=++St,this.da=this.fa=!1}function Dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function An(h){this.src=h,this.g={},this.h=0}An.prototype.add=function(h,v,S,C,K){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var pe=Ii(h,v,C,K);return-1<pe?(v=h[pe],S||(v.fa=!1)):(v=new hr(v,this.src,ne,!!C,K),v.fa=S,h.push(v)),v};function Qr(h,v){var S=v.type;if(S in h.g){var C=h.g[S],K=Array.prototype.indexOf.call(C,v,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(C,K,1),ne&&(Dt(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Ii(h,v,S,C){for(var K=0;K<h.length;++K){var ne=h[K];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==C)return K}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),xa={};function No(h,v,S,C,K){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)No(h,v[ne],S,C,K);return null}return S=Ss(S),h&&h[Gt]?h.K(v,S,g(C)?!!C.capture:!1,K):Ln(h,v,S,!1,C,K)}function Ln(h,v,S,C,K,ne){if(!v)throw Error("Invalid event type");var pe=g(K)?!!K.capture:!!K,lt=dr(h);if(lt||(h[kn]=lt=new An(h)),S=lt.add(v,S,C,pe,ne),S.proxy)return S;if(C=su(),S.proxy=C,C.src=h,C.listener=S,h.addEventListener)be||(K=pe),K===void 0&&(K=!1),h.addEventListener(v.toString(),C,K);else if(h.attachEvent)h.attachEvent(Oi(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return S}function su(){function h(S){return v.call(h.src,h.listener,S)}const v=Pr;return h}function Ia(h,v,S,C,K){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Ia(h,v[ne],S,C,K);else C=g(C)?!!C.capture:!!C,S=Ss(S),h&&h[Gt]?(h=h.i,v=String(v).toString(),v in h.g&&(ne=h.g[v],S=Ii(ne,S,C,K),-1<S&&(Dt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete h.g[v],h.h--)))):h&&(h=dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ii(v,S,C,K)),(S=-1<h?v[h]:null)&&_s(S))}function _s(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Gt])Qr(v.i,h);else{var S=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(S,C,h.capture):v.detachEvent?v.detachEvent(Oi(S),C):v.addListener&&v.removeListener&&v.removeListener(C),(S=dr(v))?(Qr(S,h),S.h==0&&(S.src=null,v[kn]=null)):Dt(h)}}}function Oi(h){return h in xa?xa[h]:xa[h]="on"+h}function Pr(h,v){if(h.da)h=!0;else{v=new Be(v,this);var S=h.listener,C=h.ha||h.src;h.fa&&_s(h),h=S.call(C,v)}return h}function dr(h){return h=h[kn],h instanceof An?h:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(h){return typeof h=="function"?h:(h[Es]||(h[Es]=function(v){return h.handleEvent(v)}),h[Es])}function mt(){de.call(this),this.i=new An(this),this.M=this,this.F=null}A(mt,de),mt.prototype[Gt]=!0,mt.prototype.removeEventListener=function(h,v,S,C){Ia(this,h,v,S,C)};function Ye(h,v){var S,C=h.F;if(C)for(S=[];C;C=C.F)S.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new oe(v,h);else if(v instanceof oe)v.target=v.target||h;else{var K=v;v=new oe(C,h),P(v,K)}if(K=!0,S)for(var ne=S.length-1;0<=ne;ne--){var pe=v.g=S[ne];K=Cn(pe,C,!0,v)&&K}if(pe=v.g=h,K=Cn(pe,C,!0,v)&&K,K=Cn(pe,C,!1,v)&&K,S)for(ne=0;ne<S.length;ne++)pe=v.g=S[ne],K=Cn(pe,C,!1,v)&&K}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var S=h.g[v],C=0;C<S.length;C++)Dt(S[C]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,S,C){return this.i.add(String(h),v,!1,S,C)},mt.prototype.L=function(h,v,S,C){return this.i.add(String(h),v,!0,S,C)};function Cn(h,v,S,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ne=0;ne<v.length;++ne){var pe=v[ne];if(pe&&!pe.da&&pe.capture==S){var lt=pe.listener,en=pe.ha||pe.src;pe.fa&&Qr(h.i,pe),K=lt.call(en,C)!==!1&&K}}return K&&!C.defaultPrevented}function Kt(h,v,S){if(typeof h=="function")S&&(h=E(h,S));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Po(h){h.g=Kt(()=>{h.g=null,h.i&&(h.i=!1,Po(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class mr extends de{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){de.call(this),this.h=h,this.g={}}A(Xr,de);var Wr=[];function Zr(h){B(h.g,function(v,S){this.g.hasOwnProperty(S)&&_s(v)},h),h.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=f.JSON.stringify,Di=f.JSON.parse,gr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function bs(){}bs.prototype.h=null;function Ni(h){return h.h||(h.h=h.i())}function Oa(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){oe.call(this,"d")}A(Mr,oe);function Ts(){oe.call(this,"c")}A(Ts,oe);var Un={},Jr=null;function ei(){return Jr=Jr||new mt}Un.La="serverreachability";function ws(h){oe.call(this,Un.La,h)}A(ws,oe);function z(h){const v=ei();Ye(v,new ws(v))}Un.STAT_EVENT="statevent";function $(h,v){oe.call(this,Un.STAT_EVENT,h),this.stat=v}A($,oe);function W(h){const v=ei();Ye(v,new $(v,h))}Un.Ma="timingevent";function le(h,v){oe.call(this,Un.Ma,h),this.size=v}A(le,oe);function me(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function ve(){this.g=!0}ve.prototype.xa=function(){this.g=!1};function Ne(h,v,S,C,K,ne){h.info(function(){if(h.g)if(ne)for(var pe="",lt=ne.split("&"),en=0;en<lt.length;en++){var ut=lt[en].split("=");if(1<ut.length){var un=ut[0];ut=ut[1];var tn=un.split("_");pe=2<=tn.length&&tn[1]=="type"?pe+(un+"="+ut+"&"):pe+(un+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+v+`
`+S+`
`+pe})}function Ee(h,v,S,C,K,ne,pe){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+v+`
`+S+`
`+ne+" "+pe})}function we(h,v,S,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Me(h,S)+(C?" "+C:"")})}function Re(h,v){h.info(function(){return"TIMEOUT: "+v})}ve.prototype.info=function(){};function Me(h,v){if(!h.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var C=S[h];if(!(2>C.length)){var K=C[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return Qn(S)}catch{return v}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function pt(){}A(pt,bs),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},et=new pt;function ht(h,v,S,C){this.j=h,this.i=v,this.l=S,this.R=C||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var We={},yr={};function Jt(h,v,S){h.L=1,h.v=Pa(Zn(v)),h.m=S,h.P=!0,Vn(h,null)}function Vn(h,v){h.F=Date.now(),Xn(h),h.A=Zn(h.v);var S=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),cu(S.i,"t",C),h.C=0,S=h.j.J,h.h=new ot,h.g=Rf(h.j,S?v:null,!h.m),0<h.O&&(h.M=new mr(E(h.Y,h,h.g),h.O)),v=h.U,S=h.g,C=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Wr[0]=K.toString()),K=Wr);for(var ne=0;ne<K.length;ne++){var pe=No(S,K[ne],C||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),z(),Ne(h.i,h.u,h.A,h.l,h.R,h.m)}ht.prototype.ca=function(h){h=h.target;const v=this.M;v&&br(h)==3?v.j():this.Y(h)},ht.prototype.Y=function(h){try{if(h==this.g)e:{const tn=br(this.g);var v=this.g.Ba();const zi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||_f(this.g)))){this.J||tn!=4||v==7||(v==8||0>=zi?z(3):z(2)),Rn(this);var S=this.g.Z();this.X=S;t:if(mn(this)){var C=_f(this.g);h="";var K=C.length,ne=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),jn(this);var pe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(ne&&v==K-1)});C.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=S==200,Ee(this.i,this.u,this.A,this.l,this.R,tn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,en=this.g;if((lt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(lt)){var ut=lt;break t}}ut=null}if(S=ut)we(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yt(this,S);else{this.o=!1,this.s=3,W(12),He(this),jn(this);break e}}if(this.P){S=!0;let pn;for(;!this.J&&this.C<pe.length;)if(pn=ti(this,pe),pn==yr){tn==4&&(this.s=4,W(14),S=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==We){this.s=4,W(15),we(this.i,this.l,pe,"[Invalid Chunk]"),S=!1;break}else we(this.i,this.l,pn,null),Yt(this,pn);if(mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||pe.length!=0||this.h.h||(this.s=1,W(16),S=!1),this.o=this.o&&S,!S)we(this.i,this.l,pe,"[Invalid Chunked Response]"),He(this),jn(this);else if(0<pe.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Fa(un),un.M=!0,W(11))}}else we(this.i,this.l,pe,null),Yt(this,pe);tn==4&&He(this),this.o&&!this.J&&(tn==4?wf(this.j,this):(this.o=!1,Xn(this)))}else km(this.g),S==400&&0<pe.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),He(this),jn(this)}}}catch{}finally{}};function mn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ti(h,v){var S=h.C,C=v.indexOf(`
`,S);return C==-1?yr:(S=Number(v.substring(S,C)),isNaN(S)?We:(C+=1,C+S>v.length?yr:(v=v.slice(C,C+S),h.C=C+S,v)))}ht.prototype.cancel=function(){this.J=!0,He(this)};function Xn(h){h.S=Date.now()+h.I,As(h,h.I)}function As(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=me(E(h.ba,h),v)}function Rn(h){h.B&&(f.clearTimeout(h.B),h.B=null)}ht.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Re(this.i,this.A),this.L!=2&&(z(),W(17)),He(this),this.s=2,jn(this)):As(this,this.S-h)};function jn(h){h.j.G==0||h.J||wf(h.j,h)}function He(h){Rn(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Zr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Yt(h,v){try{var S=h.j;if(S.G!=0&&(S.g==h||vr(S.h,h))){if(!h.K&&vr(S.h,h)&&S.G==3){try{var C=S.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Bo(S),zo(S);else break e;gu(S),W(18)}}else S.za=K[1],0<S.za-S.T&&37500>K[2]&&S.F&&S.v==0&&!S.C&&(S.C=me(E(S.Za,S),6e3));if(1>=Ct(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ji(S,11)}else if((h.K||S.g==h)&&Bo(S),!G(v))for(K=S.Da.g.parse(v),v=0;v<K.length;v++){let ut=K[v];if(S.T=ut[0],ut=ut[1],S.G==2)if(ut[0]=="c"){S.K=ut[1],S.ia=ut[2];const un=ut[3];un!=null&&(S.la=un,S.j.info("VER="+S.la));const tn=ut[4];tn!=null&&(S.Aa=tn,S.j.info("SVER="+S.Aa));const zi=ut[5];zi!=null&&typeof zi=="number"&&0<zi&&(C=1.5*zi,S.L=C,S.j.info("backChannelRequestTimeoutMs_="+C)),C=S;const pn=h.g;if(pn){const ui=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var ne=C.h;ne.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Pi(ne,ne.h),ne.h=null))}if(C.D){const yu=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(C.ya=yu,bt(C.I,C.D,yu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),C=S;var pe=h;if(C.qa=Cf(C,C.J?C.ia:null,C.W),pe.K){gn(C.h,pe);var lt=pe,en=C.L;en&&(lt.I=en),lt.B&&(Rn(lt),Xn(lt)),C.g=pe}else bf(C);0<S.i.length&&Fo(S)}else ut[0]!="stop"&&ut[0]!="close"||ji(S,7);else S.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ji(S,7):du(S):ut[0]!="noop"&&S.l&&S.l.ta(ut),S.v=0)}}z(4)}catch{}}var Wn=class{constructor(h,v){this.g=h,this.map=v}};function Bn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ct(h){return h.h?1:h.g?h.g.size:0}function vr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Pi(h,v){h.g?h.g.add(v):h.h=v}function gn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bn.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function au(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.D);return v}return k(h.i)}function Dm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],S=h.length,C=0;C<S;C++)v.push(h[C]);return v}v=[],S=0;for(C in h)v[S++]=h[C];return v}function Mo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var S=0;S<h;S++)v.push(S);return v}v=[],S=0;for(const C in h)v[S++]=C;return v}}}function ou(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var S=Mo(h),C=Dm(h),K=C.length,ne=0;ne<K;ne++)v.call(void 0,C[ne],S&&S[ne],h)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nm(h,v){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var C=h[S].indexOf("="),K=null;if(0<=C){var ne=h[S].substring(0,C);K=h[S].substring(C+1)}else ne=h[S];v(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Qt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qt){this.h=h.h,Na(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.s),this.l=h.l;var v=h.i,S=new ki;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Mi(this,S),this.m=h.m}else h&&(v=String(h).match(Da))?(this.h=!1,Na(this,v[1]||"",!0),this.o=_r(v[2]||""),this.g=_r(v[3]||"",!0),Cs(this,v[4]),this.l=_r(v[5]||"",!0),Mi(this,v[6]||"",!0),this.m=_r(v[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Qt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ma(v,lu,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ma(v,lu,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ma(S,S.charAt(0)=="/"?Pm:uu,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ma(S,ko)),h.join("")};function Zn(h){return new Qt(h)}function Na(h,v,S){h.j=S?_r(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Mi(h,v,S){v instanceof ki?(h.i=v,yf(h.i,h.h)):(S||(v=Ma(v,Mm)),h.i=new ki(v,h.h))}function bt(h,v,S){h.i.set(v,S)}function Pa(h){return bt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function _r(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,pf),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lu=/[#\/\?@]/g,uu=/[#\?:]/g,Pm=/[#\?]/g,Mm=/[#\?@]/g,ko=/#/g;function ki(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Er(h){h.g||(h.g=new Map,h.h=0,h.i&&Nm(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=ki.prototype,t.add=function(h,v){Er(this),this.i=null,h=ri(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function Li(h,v){Er(h),v=ri(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ui(h,v){return Er(h),v=ri(h,v),h.g.has(v)}t.forEach=function(h,v){Er(this),this.g.forEach(function(S,C){S.forEach(function(K){h.call(v,K,C,this)},this)},this)},t.na=function(){Er(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let C=0;C<v.length;C++){const K=h[C];for(let ne=0;ne<K.length;ne++)S.push(v[C])}return S},t.V=function(h){Er(this);let v=[];if(typeof h=="string")Ui(this,h)&&(v=v.concat(this.g.get(ri(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)v=v.concat(h[S])}return v},t.set=function(h,v){return Er(this),this.i=null,h=ri(this,h),Ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function cu(h,v,S){Li(h,v),0<S.length&&(h.i=null,h.g.set(ri(h,v),k(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var C=v[S];const ne=encodeURIComponent(String(C)),pe=this.V(C);for(C=0;C<pe.length;C++){var K=ne;pe[C]!==""&&(K+="="+encodeURIComponent(String(pe[C]))),h.push(K)}}return this.i=h.join("&")};function ri(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function yf(h,v){v&&!h.j&&(Er(h),h.i=null,h.g.forEach(function(S,C){var K=C.toLowerCase();C!=K&&(Li(this,C),cu(this,K,S))},h)),h.j=v}function ka(h,v){const S=new ve;if(f.Image){const C=new Image;C.onload=T(Sr,S,"TestLoadImage: loaded",!0,v,C),C.onerror=T(Sr,S,"TestLoadImage: error",!1,v,C),C.onabort=T(Sr,S,"TestLoadImage: abort",!1,v,C),C.ontimeout=T(Sr,S,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function kr(h,v){const S=new ve,C=new AbortController,K=setTimeout(()=>{C.abort(),Sr(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(ne=>{clearTimeout(K),ne.ok?Sr(S,"TestPingServer: ok",!0,v):Sr(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Sr(S,"TestPingServer: error",!1,v)})}function Sr(h,v,S,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(S)}catch{}}function La(){this.g=new gr}function ii(h,v,S){const C=S||"";try{ou(h,function(K,ne){let pe=K;g(K)&&(pe=Qn(K)),v.push(C+ne+"="+encodeURIComponent(pe))})}catch(K){throw v.push(C+"type="+encodeURIComponent("_badmap")),K}}function Rs(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Rs,bs),Rs.prototype.g=function(){return new Vi(this.l,this.j)},Rs.prototype.i=function(h){return function(){return h}}({});function Vi(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Vi,mt),t=Vi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?si(this):ai(this),this.readyState==3&&fu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,si(this))},t.Qa=function(h){this.g&&(this.response=h,si(this))},t.ga=function(){this.g&&si(this)};function si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ai(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hu(h){let v="";return B(h,function(S,C){v+=C,v+=":",v+=S,v+=`\r
`}),v}function ln(h,v,S){e:{for(C in S){var C=!1;break e}C=!0}C||(S=hu(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):bt(h,v,S))}function yt(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(yt,mt);var Lo=/^https?$/i,Ua=["POST","PUT"];t=yt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,S,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Ni(this.o):Ni(et),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){vf(this,ne);return}if(h=S||"",S=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)S.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ne of C.keys())S.set(ne,C.get(ne));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ua,v,void 0))||C||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of S)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){vf(this,ne)}};function vf(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Uo(h),oi(h)}function Uo(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ye(this,"complete"),Ye(this,"abort"),oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},t.bb=function(){Vo(this)};function Vo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||br(h)!=4||h.Z()!=2)){if(h.u&&br(h)==4)Kt(h.Ea,0,h);else if(Ye(h,"readystatechange"),br(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var C;if(C=pe===0){var K=String(h.D).match(Da)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),C=!Lo.test(K?K.toLowerCase():"")}S=C}if(S)Ye(h,"complete"),Ye(h,"success");else{h.m=6;try{var ne=2<br(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Uo(h)}}finally{oi(h)}}}}function oi(h,v){if(h.g){Va(h);const S=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ye(h,"ready");try{S.onreadystatechange=C}catch{}}}function Va(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function br(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Di(v)}};function _f(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function km(h){const v={};h=(h.g&&2<=br(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(G(h[C]))continue;var S=F(h[C]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[K]||[];v[K]=ne,ne.push(S)}D(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function jo(h){this.Aa=0,this.i=[],this.j=new ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,h),this.cb=ja("retryDelaySeedMs",1e4,h),this.Wa=ja("forwardChannelMaxRetries",2,h),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bn(h&&h.concurrentRequestLimit),this.Da=new La,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jo.prototype,t.la=8,t.G=1,t.connect=function(h,v,S,C){W(0),this.W=h,this.H=v||{},S&&C!==void 0&&(this.H.OSID=S,this.H.OAID=C),this.F=this.X,this.I=Cf(this,null,this.W),Fo(this)};function du(h){if(Ef(h),h.G==3){var v=h.U++,S=Zn(h.I);if(bt(S,"SID",h.K),bt(S,"RID",v),bt(S,"TYPE","terminate"),za(h,S),v=new ht(h,h.j,v),v.L=2,v.v=Pa(Zn(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&f.Image&&(new Image().src=v.v,S=!0),S||(v.g=Rf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xn(v)}Af(h)}function zo(h){h.g&&(Fa(h),h.g.cancel(),h.g=null)}function Ef(h){zo(h),h.u&&(f.clearTimeout(h.u),h.u=null),Bo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Fo(h){if(!ni(h.h)&&!h.s){h.s=!0;var v=h.Ga;fe||U(),ye||(fe(),ye=!0),Oe.add(v,h),h.B=0}}function Lm(h,v){return Ct(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=me(E(h.Ga,h,v),pu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new ht(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=I(ne),P(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var C=this.i[S];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Sf(this,K,v),S=Zn(this.I),bt(S,"RID",h),bt(S,"CVER",22),this.D&&bt(S,"X-HTTP-Session-Id",this.D),za(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(hu(ne)))+"&"+v:this.m&&ln(S,this.m,ne)),Pi(this.h,K),this.Ua&&bt(S,"TYPE","init"),this.P?(bt(S,"$req",v),bt(S,"SID","null"),K.T=!0,Jt(K,S,null)):Jt(K,S,v),this.G=2}}else this.G==3&&(h?mu(this,h):this.i.length==0||ni(this.h)||mu(this))};function mu(h,v){var S;v?S=v.l:S=h.U++;const C=Zn(h.I);bt(C,"SID",h.K),bt(C,"RID",S),bt(C,"AID",h.T),za(h,C),h.m&&h.o&&ln(C,h.m,h.o),S=new ht(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Sf(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Pi(h.h,S),Jt(S,C,v)}function za(h,v){h.H&&B(h.H,function(S,C){bt(v,C,S)}),h.l&&ou({},function(S,C){bt(v,C,S)})}function Sf(h,v,S){S=Math.min(h.i.length,S);var C=h.l?E(h.l.Na,h.l,h):null;e:{var K=h.i;let ne=-1;for(;;){const pe=["count="+S];ne==-1?0<S?(ne=K[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let lt=!0;for(let en=0;en<S;en++){let ut=K[en].g;const un=K[en].map;if(ut-=ne,0>ut)ne=Math.max(0,K[en].g-100),lt=!1;else try{ii(un,pe,"req"+ut+"_")}catch{C&&C(un)}}if(lt){C=pe.join("&");break e}}}return h=h.i.splice(0,S),v.D=h,C}function bf(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;fe||U(),ye||(fe(),ye=!0),Oe.add(v,h),h.v=0}}function gu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=me(E(h.Fa,h),pu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=me(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),zo(this),Tf(this))};function Fa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Tf(h){h.g=new ht(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Zn(h.qa);bt(v,"RID","rpc"),bt(v,"SID",h.K),bt(v,"AID",h.T),bt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&bt(v,"TO",h.ja),bt(v,"TYPE","xmlhttp"),za(h,v),h.m&&h.o&&ln(v,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Pa(Zn(v)),S.m=null,S.P=!0,Vn(S,h)}t.Za=function(){this.C!=null&&(this.C=null,zo(this),gu(this),W(19))};function Bo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function wf(h,v){var S=null;if(h.g==v){Bo(h),Fa(h),h.g=null;var C=2}else if(vr(h.h,v))S=v.D,gn(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var K=h.B;C=ei(),Ye(C,new le(C,S)),Fo(h)}else bf(h);else if(K=v.s,K==3||K==0&&0<v.X||!(C==1&&Lm(h,v)||C==2&&gu(h)))switch(S&&0<S.length&&(v=h.h,v.i=v.i.concat(S)),K){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function pu(h,v){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var S=E(h.fb,h),C=h.Xa;const K=!C;C=new Qt(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Na(C,"https"),Pa(C),K?ka(C.toString(),S):kr(C.toString(),S)}else W(2);h.G=0,h.l&&h.l.sa(v),Af(h),Ef(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function Af(h){if(h.G=0,h.ka=[],h.l){const v=au(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ka,v),M(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function Cf(h,v,S){var C=S instanceof Qt?Zn(S):new Qt(S);if(C.g!="")v&&(C.g=v+"."+C.g),Cs(C,C.s);else{var K=f.location;C=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ne=new Qt(null);C&&Na(ne,C),v&&(ne.g=v),K&&Cs(ne,K),S&&(ne.l=S),C=ne}return S=h.D,v=h.ya,S&&v&&bt(C,S,v),bt(C,"VER",h.la),za(h,C),C}function Rf(h,v,S){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new Rs({eb:S})):new yt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xf(){}t=xf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ho(){}Ho.prototype.g=function(h,v){return new zn(h,v)};function zn(h,v){mt.call(this),this.g=new jo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new li(this)}A(zn,mt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){du(this.g)},zn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Qn(h),h=S);v.i.push(new Wn(v.Ya++,h)),v.G==3&&Fo(v)},zn.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,zn.aa.N.call(this)};function If(h){Mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const S in v){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(If,Mr);function Of(){Ts.call(this),this.status=1}A(Of,Ts);function li(h){this.g=h}A(li,xf),li.prototype.ua=function(){Ye(this.g,"a")},li.prototype.ta=function(h){Ye(this.g,new If(h))},li.prototype.sa=function(h){Ye(this.g,new Of)},li.prototype.ra=function(){Ye(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,CR=function(){return new Ho},AR=function(){return ei()},wR=Un,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,ed=Ae,Le.COMPLETE="complete",TR=Le,Oa.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,pc=Oa,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,bR=yt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const NT="@firebase/firestore",PT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Ov("@firebase/firestore");function wl(){return bo.logLevel}function _e(t,...e){if(bo.logLevel<=st.DEBUG){const n=e.map(h_);bo.debug(`Firestore (${tu}): ${t}`,...n)}}function ds(t,...e){if(bo.logLevel<=st.ERROR){const n=e.map(h_);bo.error(`Firestore (${tu}): ${t}`,...n)}}function Fl(t,...e){if(bo.logLevel<=st.WARN){const n=e.map(h_);bo.warn(`Firestore (${tu}): ${t}`,...n)}}function h_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RR(t,r,n)}function RR(t,e,n){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function vt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RR(e,s,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class g9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new os,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new os)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new xR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class y9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=E9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function fv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Xe(r,s);{const o=IR(),u=S9(o.encode(kT(t,n)),o.encode(kT(e,n)));return u!==0?u:Xe(r,s)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function kT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function S9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function Bl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,UT=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UT);return new an(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LT)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new an(0,0))}static max(){return new $e(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__name__";class gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=gi.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const r=gi.isNumericId(e),s=gi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gi.extractNumericId(e).compare(gi.extractNumericId(n)):fv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Pt extends gi{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const b9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends gi{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return b9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VT}static keyField(){return new Tn([VT])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ie(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Ie(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(o(),s++)}if(o(),u)throw new Ie(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Pt.fromString(e))}static fromName(e){return new Pe(Pt.fromString(e).popFirst(5))}static empty(){return new Pe(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function T9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new pa(s,Pe.empty(),e)}function w9(t){return new pa(t.readTime,t.key,Bc)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa($e.min(),Pe.empty(),Bc)}static max(){return new pa($e.max(),Pe.empty(),Bc)}}function A9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==C9)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let s=0,o=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&n()},d=>r(d))}),u=!0,o===s&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(s=>s?ce.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,s)=>{const o=e.length,u=new Array(o);let f=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next(y=>{u[g]=y,++f,f===o&&r(u)},y=>s(y))}})}static doWhile(e,n){return new ce((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function x9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}pm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-1;function ym(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function I9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="";function O9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jT(e)),e=D9(t.get(n),e);return jT(e)}function D9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case DR:n+="";break;default:n+=o}}return n}function jT(t){return t+DR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??bn.RED,this.left=s??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new bn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FT(this.data.getIterator())}getIteratorFrom(e){return new FT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class FT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Fr([])}unionWith(e){let n=new on(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PR("Invalid base64 string: "+o):o}}(e);return new wn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const N9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=N9.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="server_timestamp",kR="__type__",LR="__previous_value__",UR="__local_write_time__";function m_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kR])===null||n===void 0?void 0:n.stringValue)===MR}function vm(t){const e=t.mapValue.fields[LR];return m_(e)?vm(e):e}function Hc(t){const e=ya(t.mapValue.fields[UR].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,r,s,o,u,f,d,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y}}const Vd="(default)";class qc{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="__type__",M9="__max__",Fh={mapValue:{}},jR="__vector__",jd="value";function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:L9(t)?9007199254740991:k9(t)?10:11:ze(28295,{value:t})}function Ci(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ya(s.timestampValue),f=ya(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return va(s.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return qt(s.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return qt(s.integerValue)===qt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=qt(s.doubleValue),f=qt(o.doubleValue);return u===f?Ud(u)===Ud(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(zT(u)!==zT(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ci(u[d],f[d])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function $c(t,e){return(t.values||[]).find(n=>Ci(n,e))!==void 0}function Hl(t,e){if(t===e)return 0;const n=_a(t),r=_a(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,u){const f=qt(o.integerValue||o.doubleValue),d=qt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return BT(t.timestampValue,e.timestampValue);case 4:return BT(Hc(t),Hc(e));case 5:return fv(t.stringValue,e.stringValue);case 6:return function(o,u){const f=va(o),d=va(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),d=u.split("/");for(let g=0;g<f.length&&g<d.length;g++){const y=Xe(f[g],d[g]);if(y!==0)return y}return Xe(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Xe(qt(o.latitude),qt(u.latitude));return f!==0?f:Xe(qt(o.longitude),qt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HT(t.arrayValue,e.arrayValue);case 10:return function(o,u){var f,d,g,y;const _=o.fields||{},E=u.fields||{},T=(f=_[jd])===null||f===void 0?void 0:f.arrayValue,A=(d=E[jd])===null||d===void 0?void 0:d.arrayValue,k=Xe(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:HT(T,A)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Fh.mapValue&&u===Fh.mapValue)return 0;if(o===Fh.mapValue)return 1;if(u===Fh.mapValue)return-1;const f=o.fields||{},d=Object.keys(f),g=u.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=fv(d[_],y[_]);if(E!==0)return E;const T=Hl(f[d[_]],g[y[_]]);if(T!==0)return T}return Xe(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function BT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ya(t),r=ya(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function HT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Hl(n[s],r[s]);if(o)return o}return Xe(n.length,r.length)}function ql(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=hv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${hv(n.fields[u])}`;return s+"}"}(t.mapValue):ze(61005,{value:t})}function td(t){switch(_a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vm(t);return e?16+td(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+td(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ro(r.fields,(o,u)=>{s+=o.length+td(u)}),s}(t.mapValue);default:throw ze(13486,{value:t})}}function dv(t){return!!t&&"integerValue"in t}function g_(t){return!!t&&"arrayValue"in t}function qT(t){return!!t&&"nullValue"in t}function $T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function k9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VR])===null||n===void 0?void 0:n.stringValue)===jR}function Cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=Tn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=Cc(u):s.push(f.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];nd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Nr(Cc(this.value))}}function zR(t){const e=[];return Ro(t.fields,(n,r)=>{const s=new Tn([n]);if(nd(r)){const o=zR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,s,o,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,$e.min(),$e.min(),$e.min(),Nr.empty(),0)}static newFoundDocument(e,n,r,s){return new Nn(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new Nn(e,2,n,$e.min(),$e.min(),Nr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,$e.min(),$e.min(),Nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.position=e,this.inclusive=n}}function GT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),n.key):r=Hl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function U9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{}class sn extends FR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j9(e,n,r):n==="array-contains"?new B9(e,r):n==="in"?new H9(e,r):n==="not-in"?new q9(e,r):n==="array-contains-any"?new $9(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z9(e,r):new F9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends FR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ri(e,n)}matches(e){return BR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BR(t){return t.op==="and"}function HR(t){return V9(t)&&BR(t)}function V9(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function mv(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(HR(t))return t.filters.map(e=>mv(e)).join(",");{const e=t.filters.map(n=>mv(n)).join(",");return`${t.op}(${e})`}}function qR(t,e){return t instanceof sn?function(r,s){return s instanceof sn&&r.op===s.op&&r.field.isEqual(s.field)&&Ci(r.value,s.value)}(t,e):t instanceof Ri?function(r,s){return s instanceof Ri&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,f)=>o&&qR(u,s.filters[f]),!0):!1}(t,e):void ze(19439)}function $R(t){return t instanceof sn?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map($R).join(" ,")+"}"}(t):"Filter"}class j9 extends sn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class z9 extends sn{constructor(e,n){super(e,"in",n),this.keys=GR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F9 extends sn{constructor(e,n){super(e,"not-in",n),this.keys=GR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class B9 extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g_(n)&&$c(n.arrayValue,this.value)}}class H9 extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class q9 extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$c(this.value.arrayValue,n)}}class $9 extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n=null,r=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function YT(t,e=null,n=[],r=[],s=null,o=null,u=null){return new G9(t,e,n,r,s,o,u)}function p_(t){const e=Ge(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.Ie=n}return e.Ie}function y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KT(t.startAt,e.startAt)&&KT(t.endAt,e.endAt)}function gv(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n=null,r=[],s=[],o=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function K9(t,e,n,r,s,o,u,f){return new _m(t,e,n,r,s,o,u,f)}function v_(t){return new _m(t)}function QT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y9(t){return t.collectionGroup!==null}function Rc(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new on(Tn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Fd(o,r))}),n.has(Tn.keyField().canonicalString())||e.Ee.push(new Fd(Tn.keyField(),r))}return e.Ee}function Ti(t){const e=Ge(t);return e.de||(e.de=Q9(e,Rc(t))),e.de}function Q9(t,e){if(t.limitType==="F")return YT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Fd(s.field,o)});const n=t.endAt?new zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zd(t.startAt.position,t.startAt.inclusive):null;return YT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pv(t,e,n){return new _m(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Em(t,e){return y_(Ti(t),Ti(e))&&t.limitType===e.limitType}function KR(t){return`${p_(Ti(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$R(s)).join(", ")}]`),ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ql(s)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Rc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const g=GT(u,f,d);return u.inclusive?g<=0:g<0}(r.startAt,Rc(r),s)||r.endAt&&!function(u,f,d){const g=GT(u,f,d);return u.inclusive?g>=0:g>0}(r.endAt,Rc(r),s))}(t,e)}function X9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YR(t){return(e,n)=>{let r=!1;for(const s of Rc(t)){const o=W9(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function W9(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,u,f){const d=u.data.field(o),g=f.data.field(o);return d!==null&&g!==null?Hl(d,g):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Ut(Pe.comparator);function ms(){return Z9}const QR=new Ut(Pe.comparator);function yc(...t){let e=QR;for(const n of t)e=e.insert(n.key,n);return e}function XR(t){let e=QR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return xc()}function WR(){return xc()}function xc(){return new xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const J9=new Ut(Pe.comparator),e5=new on(Pe.comparator);function at(...t){let e=e5;for(const n of t)e=e.add(n);return e}const t5=new on(Xe);function n5(){return t5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function ZR(t){return{integerValue:""+t}}function r5(t,e){return I9(e)?ZR(e):__(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function i5(t,e,n){return t instanceof Bd?function(s,o){const u={fields:{[kR]:{stringValue:MR},[UR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&m_(o)&&(o=vm(o)),o&&(u.fields[LR]=o),{mapValue:u}}(n,e):t instanceof Gc?ex(t,e):t instanceof Kc?tx(t,e):function(s,o){const u=JR(s,o),f=XT(u)+XT(s.Re);return dv(u)&&dv(s.Re)?ZR(f):__(s.serializer,f)}(t,e)}function s5(t,e,n){return t instanceof Gc?ex(t,e):t instanceof Kc?tx(t,e):n}function JR(t,e){return t instanceof Hd?function(r){return dv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Bd extends bm{}class Gc extends bm{constructor(e){super(),this.elements=e}}function ex(t,e){const n=nx(e);for(const r of t.elements)n.some(s=>Ci(s,r))||n.push(r);return{arrayValue:{values:n}}}class Kc extends bm{constructor(e){super(),this.elements=e}}function tx(t,e){let n=nx(e);for(const r of t.elements)n=n.filter(s=>!Ci(s,r));return{arrayValue:{values:n}}}class Hd extends bm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function XT(t){return qt(t.integerValue||t.doubleValue)}function nx(t){return g_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Gc&&s instanceof Gc||r instanceof Kc&&s instanceof Kc?Bl(r.elements,s.elements,Ci):r instanceof Hd&&s instanceof Hd?Ci(r.Re,s.Re):r instanceof Bd&&s instanceof Bd}(t.transform,e.transform)}class o5{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tm{}function rx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,wi.none()):new uf(t.key,t.data,wi.none());{const n=t.data,r=Nr.empty();let s=new on(Tn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Io(t.key,r,new Fr(s.toArray()),wi.none())}}function l5(t,e,n){t instanceof uf?function(s,o,u){const f=s.value.clone(),d=ZT(s.fieldTransforms,o,u.transformResults);f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Io?function(s,o,u){if(!rd(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=ZT(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(ix(s)),d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof uf?function(o,u,f,d){if(!rd(o.precondition,u))return f;const g=o.value.clone(),y=JT(o.fieldTransforms,d,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof Io?function(o,u,f,d){if(!rd(o.precondition,u))return f;const g=JT(o.fieldTransforms,d,u),y=u.data;return y.setAll(ix(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,u,f){return rd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function u5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=JR(r.transform,s||null);o!=null&&(n===null&&(n=Nr.empty()),n.set(r.field,o))}return n||null}function WT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bl(r,s,(o,u)=>a5(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uf extends Tm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends Tm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,f=e.data.field(o.field);r.set(o.field,s5(u,f,n[s]))}return r}function JT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,i5(o,u,e))}return r}class E_ extends Tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c5 extends Tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&l5(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WR();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=n.has(s.key)?null:f;const d=rx(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>WT(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>WT(n,r))}}class S_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return J9}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new S_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function m5(t){switch(t){case he.OK:return ze(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function sx(t){if(t===void 0)return ds("GRPC error has no .code"),he.UNKNOWN;switch(t){case Zt.OK:return he.OK;case Zt.CANCELLED:return he.CANCELLED;case Zt.UNKNOWN:return he.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return he.INTERNAL;case Zt.UNAVAILABLE:return he.UNAVAILABLE;case Zt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Zt.NOT_FOUND:return he.NOT_FOUND;case Zt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Zt.ABORTED:return he.ABORTED;case Zt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Zt.DATA_LOSS:return he.DATA_LOSS;default:return ze(39323,{code:t})}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=new oa([4294967295,4294967295],0);function ew(t){const e=IR().encode(t),n=new SR;return n.update(e),new Uint8Array(n.digest())}function tw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oa([n,r],0),new oa([s,o],0)]}class b_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=oa.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(oa.fromNumber(r)));return s.compare(g5)===1&&(s=new oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ew(e),[r,s]=tw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new b_(o,s,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=ew(e),[r,s]=tw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wm($e.min(),s,new Ut(Xe),ms(),at())}}class cf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class ax{constructor(e,n){this.targetId=e,this.Ce=n}}class ox{constructor(e,n,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nw{constructor(){this.Fe=0,this.Me=rw(),this.xe=wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=at(),n=at(),r=at();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:o})}}),new cf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=rw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class p5{constructor(e){this.ze=e,this.je=new Map,this.He=ms(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new Ut(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(gv(o))if(r===0){const u=new Pe(o.path);this.tt(n,u,Nn.newNoDocument(u,$e.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,f;try{u=va(r).toUint8Array()}catch(d){if(d instanceof PR)return Fl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new b_(u,s,o)}catch(d){return Fl(d instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&gv(f.target)){const d=new Pe(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Nn.newNoDocument(d,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=at();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(d=>{const g=this._t(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new wm(e,n,this.Ze,this.He,r);return this.He=ms(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new Ut(Xe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new nw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new on(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new on(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new nw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bh(){return new Ut(Pe.comparator)}function rw(){return new Ut(Pe.comparator)}const y5={asc:"ASCENDING",desc:"DESCENDING"},v5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_5={and:"AND",or:"OR"};class E5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yv(t,e){return t.useProto3Json||ym(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S5(t,e){return qd(t,e.toTimestamp())}function Ai(t){return vt(!!t,49232),$e.fromTimestamp(function(n){const r=ya(n);return new an(r.seconds,r.nanos)}(t))}function T_(t,e){return vv(t,e).canonicalString()}function vv(t,e){const n=function(s){return new Pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ux(t){const e=Pt.fromString(t);return vt(mx(e),10190,{key:e.toString()}),e}function _v(t,e){return T_(t.databaseId,e.path)}function hy(t,e){const n=ux(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(fx(n))}function cx(t,e){return T_(t.databaseId,e)}function b5(t){const e=ux(t);return e.length===4?Pt.emptyPath():fx(e)}function Ev(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fx(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iw(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function T5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(vt(y===void 0||typeof y=="string",58123),wn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),wn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const y=g.code===void 0?he.UNKNOWN:sx(g.code);return new Ie(y,g.message||"")}(u);n=new ox(r,s,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hy(t,r.document.name),o=Ai(r.document.updateTime),u=r.document.createTime?Ai(r.document.createTime):$e.min(),f=new Nr({mapValue:{fields:r.document.fields}}),d=Nn.newFoundDocument(s,o,u,f),g=r.targetIds||[],y=r.removedTargetIds||[];n=new id(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hy(t,r.document),o=r.readTime?Ai(r.readTime):$e.min(),u=Nn.newNoDocument(s,o),f=r.removedTargetIds||[];n=new id([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hy(t,r.document),o=r.removedTargetIds||[];n=new id([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new d5(s,o),f=r.targetId;n=new ax(f,u)}}return n}function w5(t,e){let n;if(e instanceof uf)n={update:iw(t,e.key,e.value)};else if(e instanceof E_)n={delete:_v(t,e.key)};else if(e instanceof Io)n={update:iw(t,e.key,e.data),updateMask:P5(e.fieldMask)};else{if(!(e instanceof c5))return ze(16599,{ft:e.type});n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof Bd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Hd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:S5(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),n}function A5(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Ai(s.updateTime):Ai(o);return u.isEqual($e.min())&&(u=Ai(o)),new o5(u,s.transformResults||[])}(n,e))):[]}function C5(t,e){return{documents:[cx(t,e.path)]}}function R5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cx(t,s);const o=function(g){if(g.length!==0)return dx(Ri.create(g,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:Cl(E.field),direction:O5(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=yv(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:s}}function x5(t){let e=b5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(_){const E=hx(_);return E instanceof Ri&&HR(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(A){return new Fd(Rl(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,ym(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,T=_.values||[];return new zd(T,E)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const E=!_.before,T=_.values||[];return new zd(T,E)}(n.endAt)),K9(e,s,u,o,f,"F",d,g)}function I5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Rl(n.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(n.unaryFilter.field);return sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rl(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return sn.create(Rl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(r=>hx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function O5(t){return y5[t]}function D5(t){return v5[t]}function N5(t){return _5[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function Rl(t){return Tn.fromServerFormat(t.fieldPath)}function dx(t){return t instanceof sn?function(n){if(n.op==="=="){if($T(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(qT(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($T(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(qT(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:D5(n.op),value:n.value}}}(t):t instanceof Ri?function(n){const r=n.getFilters().map(s=>dx(s));return r.length===1?r[0]:{compositeFilter:{op:N5(n.op),filters:r}}}(t):ze(54877,{filter:t})}function P5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,s,o=$e.min(),u=$e.min(),f=wn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.wt=e}}function k5(t){const e=x5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.Cn=new U5}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(pa.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class U5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new on(Pt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new on(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(gx,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new $l(0)}static lr(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LruGarbageCollector",V5=1048576;function ow([t,e],[n,r]){const s=Xe(t,n);return s===0?Xe(e,r):s}class j5{constructor(e){this.Er=e,this.buffer=new on(ow),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ow(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(aw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ru(n)?_e(aw,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.mr(3e5)})}}class F5{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(pm.le);const r=new j5(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(sw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,u,f,d,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(g=Date.now(),wl()<=st.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function B5(t,e){return new F5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.changes=new xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ic(r.mutation,s,Fr.empty(),an.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const s=uo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=yc();return o.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,s){let o=ms();const u=xc(),f=function(){return xc()}();return n.forEach((d,g)=>{const y=r.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof Io)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Ic(y.mutation,g,y.mutation.getFieldMask(),an.now())):u.set(g.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,y)=>u.set(g,y)),n.forEach((g,y)=>{var _;return f.set(g,new q5(y,(_=u.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=xc();let s=new Ut((u,f)=>u-f),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=r.get(d)||Fr.empty();y=f.applyToLocalView(g,y),r.set(d,y);const _=(s.get(f.batchId)||at()).add(d);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),g=d.key,y=d.value,_=WR();y.forEach(E=>{if(!o.has(E)){const T=rx(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(uo());let f=Bc,d=o;return u.next(g=>ce.forEach(g,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,at())).next(y=>({batchId:f,changes:XR(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let s=yc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,o).next(f=>ce.forEach(f,d=>{const g=function(_,E){return new _m(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((d,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Nn.newInvalidDocument(y)))});let f=yc();return u.forEach((d,g)=>{const y=o.get(d);y!==void 0&&Ic(y.mutation,g,Fr.empty(),an.now()),Sm(n,g)&&(f=f.insert(d,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ce.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ai(s.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:k5(s.bundledQuery),readTime:Ai(s.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.overlays=new Ut(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return ce.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=uo(),o=n.length+1,u=new Pe(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ut((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=o.get(g.largestBatchId);y===null&&(y=uo(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=uo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=s)););return ce.resolve(f)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new h5(n,r));let o=this.Qr.get(n);o===void 0&&(o=at(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.$r=new on(dn.Ur),this.Kr=new on(dn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new dn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new dn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new Pt([])),r=new dn(n,e),s=new dn(n,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new Pt([])),r=new dn(n,e),s=new dn(n,e+1);let o=at();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new dn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new on(dn.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new f5(o,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new dn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?d_:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);o.push(f)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Xe);return n.forEach(s=>{const o=new dn(s,0),u=new dn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],f=>{r=r.add(f.Zr)})}),ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new dn(new Pe(o),0);let f=new on(Xe);return this.Xr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(f=f.add(d.Zr)),!0)},u),ce.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ce.forEach(n.mutations,s=>{const o=new dn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new dn(n,0),s=this.Xr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.ii=e,this.docs=function(){return new Ut(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Nn.newInvalidDocument(s))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ms();const u=n.path,f=new Pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||A9(w9(y),r)<=0||(s.has(y.key)||Sm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ze(9500)}si(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W5(this)}getSize(e){return ce.resolve(this.size)}}class W5 extends H5{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.persistence=e,this.oi=new xo(n=>p_(n),y_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new w_,this.targetCount=0,this.ui=$l.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ce.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new $l(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Tr(n),ce.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ce.waitFor(o).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.ci={},this.overlays={},this.li=new pm(0),this.hi=!1,this.hi=!0,this.Pi=new Y5,this.referenceDelegate=e(this),this.Ti=new Z5(this),this.indexManager=new L5,this.remoteDocumentCache=function(s){return new X5(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new M5(n),this.Ei=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Q5(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new J5(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class J5 extends R9{constructor(e){super(),this.currentSequenceNumber=e}}class A_{constructor(e){this.persistence=e,this.Vi=new w_,this.mi=null}static fi(e){return new A_(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,$e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ce.or([()=>ce.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.yi=new xo(r=>O9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=B5(this,n)}static fi(e,n){return new $d(e,n)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ce.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?ce.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,o.removeEntry(u,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}Dr(e,n,r){return ce.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=at(),s=at();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new C_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MO()?8:x9(Pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new ej;return this.Ss(e,n,u).next(f=>{if(o.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(wl()<=st.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(wl()<=st.DEBUG&&_e("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(wl()<=st.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):ce.resolve())}ws(e,n){if(QT(n))return ce.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pv(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=at(...o);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.vs(n,f);return this.Cs(n,g,u,d.readTime)?this.ws(e,pv(n,null,"F")):this.Fs(e,g,n,d)}))})))}bs(e,n,r,s){return QT(n)||s.isEqual($e.min())?ce.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,s)?ce.resolve(null):(wl()<=st.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(n)),this.Fs(e,u,n,T9(s,Bc)).next(f=>f))})}vs(e,n){let r=new on(YR(e));return n.forEach((s,o)=>{Sm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return wl()<=st.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Al(n)),this.ys.getDocumentsMatchingQuery(e,n,pa.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LocalStore",nj=3e8;class rj{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ut(Xe),this.Os=new xo(o=>p_(o),y_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $5(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ij(t,e,n,r){return new rj(t,e,n,r)}async function yx(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let d=at();for(const g of s){u.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function sj(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,g,y){const _=g.batch,E=_.keys();let T=ce.resolve();return E.forEach(A=>{T=T.next(()=>y.getEntry(d,A)).next(k=>{const M=g.docVersions.get(A);vt(M!==null,48541),k.version.compareTo(M)<0&&(_.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=at();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(d=d.add(f.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vx(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function aj(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=s.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,_)));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(wn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(_,T),function(k,M,j){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=nj?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,T,y)&&f.push(n.Ti.updateTargetData(o,T))});let d=ms(),g=at();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(oj(o,u,e.documentUpdates).next(y=>{d=y.qs,g=y.Qs})),!r.isEqual($e.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(_=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(y)}return ce.waitFor(f).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(n.xs=s,o))}function oj(t,e,n){let r=at(),s=at();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=ms();return n.forEach((f,d)=>{const g=o.get(f);d.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual($e.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):_e(R_,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),{qs:u,Qs:s}})}function lj(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=d_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uj(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,ce.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new ra(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Sv(t,e,n){const r=Ge(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ru(u))throw u;_e(R_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function lw(t,e,n){const r=Ge(t);let s=$e.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,y){const _=Ge(d),E=_.Os.get(y);return E!==void 0?ce.resolve(_.xs.get(E)):_.Ti.getTargetData(g,y)}(r,u,Ti(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:$e.min(),n?o:at())).next(f=>(cj(r,X9(e),f),{documents:f,$s:o})))}function cj(t,e,n){let r=t.Ns.get(e)||$e.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class uw{constructor(){this.activeTargetIds=n5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fj{constructor(){this.xo=new uw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new uw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="ConnectivityMonitor";class fw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(cw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function bv(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Vd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const u=bv(),f=this.jo(e,n.toUriEncodedString());_e(dy,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,o);const{host:g}=new URL(f),y=Ql(g);return this.Jo(e,f,d,r,y).then(_=>(_e(dy,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Fl(dy,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,s,o,u){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=dj[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class pj extends mj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const u=bv();return new Promise((f,d)=>{const g=new bR;g.setWithCredentials(!0),g.listenOnce(TR.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ed.NO_ERROR:const _=g.getResponseJson();_e(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case ed.TIMEOUT:_e(On,`RPC '${e}' ${u} timed out`),d(new Ie(he.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const E=g.getStatus();if(_e(On,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const k=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(G)>=0?G:he.UNKNOWN}(A.status);d(new Ie(k,A.message))}else d(new Ie(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ie(he.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_e(On,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);_e(On,`RPC '${e}' ${u} sending request:`,s),g.send(n,"POST",y,r,15)})}I_(e,n,r){const s=bv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CR(),f=AR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=o.join("");_e(On,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let E=!1,T=!1;const A=new gj({Zo:M=>{T?_e(On,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(E||(_e(On,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),_e(On,`RPC '${e}' stream ${s} sending:`,M),_.send(M))},Xo:()=>_.close()}),k=(M,j,G)=>{M.listen(j,Q=>{try{G(Q)}catch(re){setTimeout(()=>{throw re},0)}})};return k(_,pc.EventType.OPEN,()=>{T||(_e(On,`RPC '${e}' stream ${s} transport opened.`),A.__())}),k(_,pc.EventType.CLOSE,()=>{T||(T=!0,_e(On,`RPC '${e}' stream ${s} transport closed`),A.u_(),this.d_(_))}),k(_,pc.EventType.ERROR,M=>{T||(T=!0,Fl(On,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),A.u_(new Ie(he.UNAVAILABLE,"The operation could not be completed")))}),k(_,pc.EventType.MESSAGE,M=>{var j;if(!T){const G=M.data[0];vt(!!G,16349);const Q=G,re=(Q==null?void 0:Q.error)||((j=Q[0])===null||j===void 0?void 0:j.error);if(re){_e(On,`RPC '${e}' stream ${s} received error:`,re);const te=re.status;let B=function(R){const P=Zt[R];if(P!==void 0)return sx(P)}(te),D=re.message;B===void 0&&(B=he.INTERNAL,D="Unknown error status: "+te+" with message "+re.message),T=!0,A.u_(new Ie(B,D)),_.close()}else _e(On,`RPC '${e}' stream ${s} received:`,G),A.c_(G)}}),k(f,wR.STAT_EVENT,M=>{M.stat===cv.PROXY?_e(On,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===cv.NOPROXY&&_e(On,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){return new E5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="PersistentStream";class Ex{constructor(e,n,r,s,o,u,f,d){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new _x(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Ie(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(hw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(hw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yj extends Ex{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=T5(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Ai(u.readTime):$e.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Ev(this.serializer),n.addTarget=function(o,u){let f;const d=u.target;if(f=gv(d)?{documents:C5(o,d)}:{query:R5(o,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=lx(o,u.resumeToken);const g=yv(o,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=qd(o,u.snapshotVersion.toTimestamp());const g=yv(o,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const r=I5(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Ev(this.serializer),n.removeTarget=e,this.Q_(n)}}class vj extends Ex{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=A5(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Ev(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w5(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{}class Ej extends _j{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,vv(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(he.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,vv(n,r),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Sj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ds(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class bj{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Oo(this)&&(_e(To,"Restarting streams for network reachability change."),await async function(d){const g=Ge(d);g.da.add(4),await ff(g),g.Va.set("Unknown"),g.da.delete(4),await Cm(g)}(this))})}),this.Va=new Sj(r,s)}}async function Cm(t){if(Oo(t))for(const e of t.Aa)await e(!0)}async function ff(t){for(const e of t.Aa)await e(!1)}function Sx(t,e){const n=Ge(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),D_(n)?O_(n):iu(n).N_()&&I_(n,e))}function x_(t,e){const n=Ge(t),r=iu(n);n.Ea.delete(e),r.N_()&&bx(n,e),n.Ea.size===0&&(r.N_()?r.k_():Oo(n)&&n.Va.set("Unknown"))}function I_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).Z_(e)}function bx(t,e){t.ma.Ke(e),iu(t).X_(e)}function O_(t){t.ma=new p5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.Va.ca()}function D_(t){return Oo(t)&&!iu(t).O_()&&t.Ea.size>0}function Oo(t){return Ge(t).da.size===0}function Tx(t){t.ma=void 0}async function Tj(t){t.Va.set("Online")}async function wj(t){t.Ea.forEach((e,n)=>{I_(t,e)})}async function Aj(t,e){Tx(t),D_(t)?(t.Va.Pa(e),O_(t)):t.Va.set("Unknown")}async function Cj(t,e,n){if(t.Va.set("Online"),e instanceof ox&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.Ea.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ea.delete(f),s.ma.removeTarget(f))}(t,e)}catch(r){_e(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof id?t.ma.Xe(e):e instanceof ax?t.ma.ot(e):t.ma.nt(e),!n.isEqual($e.min()))try{const r=await vx(t.localStore);n.compareTo(r)>=0&&await function(o,u){const f=o.ma.It(u);return f.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(g);y&&o.Ea.set(g,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,g)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),bx(o,d);const _=new ra(y.target,d,g,y.sequenceNumber);I_(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){_e(To,"Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!ru(e))throw e;t.da.add(1),await ff(t),t.Va.set("Offline"),n||(n=()=>vx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(To,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Cm(t)})}function wx(t,e){return e().catch(n=>Gd(t,n,e))}async function Rm(t){const e=Ge(t),n=Ea(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:d_;for(;Rj(e);)try{const s=await lj(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,xj(e,s)}catch(s){await Gd(e,s)}Ax(e)&&Cx(e)}function Rj(t){return Oo(t)&&t.Ia.length<10}function xj(t,e){t.Ia.push(e);const n=Ea(t);n.N_()&&n.ea&&n.ta(e.mutations)}function Ax(t){return Oo(t)&&!Ea(t).O_()&&t.Ia.length>0}function Cx(t){Ea(t).start()}async function Ij(t){Ea(t).ia()}async function Oj(t){const e=Ea(t);for(const n of t.Ia)e.ta(n.mutations)}async function Dj(t,e,n){const r=t.Ia.shift(),s=S_.from(r,e,n);await wx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Rm(t)}async function Nj(t,e){e&&Ea(t).ea&&await async function(r,s){if(function(u){return m5(u)&&u!==he.ABORTED}(s.code)){const o=r.Ia.shift();Ea(r).L_(),await wx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Rm(r)}}(t,e),Ax(t)&&Cx(t)}async function dw(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),_e(To,"RemoteStore received new credentials");const r=Oo(n);n.da.add(3),await ff(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Cm(n)}async function Pj(t,e){const n=Ge(t);e?(n.da.delete(2),await Cm(n)):e||(n.da.add(2),await ff(n),n.Va.set("Unknown"))}function iu(t){return t.fa||(t.fa=function(n,r,s){const o=Ge(n);return o.oa(),new yj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:Tj.bind(null,t),n_:wj.bind(null,t),i_:Aj.bind(null,t),Y_:Cj.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),D_(t)?O_(t):t.Va.set("Unknown")):(await t.fa.stop(),Tx(t))})),t.fa}function Ea(t){return t.ga||(t.ga=function(n,r,s){const o=Ge(n);return o.oa(),new vj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Ij.bind(null,t),i_:Nj.bind(null,t),na:Oj.bind(null,t),ra:Dj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Rm(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(To,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,f=new N_(e,n,u,s,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(t,e){if(ds("AsyncQueue",`${e}: ${t}`),ru(t))return new Ie(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.pa=new Ut(Pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gl{constructor(e,n,r,s,o,u,f,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Gl(e,n,Ll.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class kj{constructor(){this.queries=gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ge(n),o=s.queries;s.queries=gw(),o.forEach((u,f)=>{for(const d of f.Sa)d.onError(r)})})(this,new Ie(he.ABORTED,"Firestore shutting down"))}}function gw(){return new xo(t=>KR(t),Em)}async function Rx(t,e){const n=Ge(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new Mj,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=P_(u,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&M_(n)}async function xx(t,e){const n=Ge(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lj(t,e){const n=Ge(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const f of u.Sa)f.Ma(s)&&(r=!0);u.ba=s}}r&&M_(n)}function Uj(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function M_(t){t.Ca.forEach(e=>{e.next()})}var Tv,pw;(pw=Tv||(Tv={})).xa="default",pw.Cache="cache";class Ix{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Tv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.key=e}}class Dx{constructor(e){this.key=e}}class Vj{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.Za=YR(e),this.Xa=new Ll(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new mw,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const E=s.get(y),T=Sm(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;E&&T?E.data.isEqual(T.data)?A!==k&&(r.track({type:3,doc:T}),M=!0):this.ru(E,T)||(r.track({type:2,doc:T}),M=!0,(d&&this.Za(T,d)>0||g&&this.Za(T,g)<0)&&(f=!0)):!E&&T?(r.track({type:0,doc:T}),M=!0):E&&!T&&(r.track({type:1,doc:E}),M=!0,(d||g)&&(f=!0)),M&&(T?(u=u.add(T),o=k?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Xa:u,nu:r,Cs:f,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(T,A){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:M})}};return k(T)-k(A)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),s=s!=null&&s;const f=n&&!s?this.su():[],d=this.Ya.size===0&&this.current&&!s?1:0,g=d!==this.Ja;return this.Ja=d,u.length!==0||g?{snapshot:new Gl(this.query,e.Xa,o,u,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Dx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Ox(r))}),n}au(e){this.Ha=e.$s,this.Ya=at();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Gl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const k_="SyncEngine";class jj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zj{constructor(e){this.key=e,this.cu=!1}}class Fj{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new xo(f=>KR(f),Em),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut(Pe.comparator),this.Eu=new Map,this.du=new w_,this.Au={},this.Ru=new Map,this.Vu=$l.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Bj(t,e,n=!0){const r=Ux(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await Nx(r,e,n,!0),s}async function Hj(t,e){const n=Ux(t);await Nx(n,e,!0,!1)}async function Nx(t,e,n,r){const s=await uj(t.localStore,Ti(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let f;return r&&(f=await qj(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,s),f}async function qj(t,e,n,r,s){t.fu=(_,E,T)=>async function(k,M,j,G){let Q=M.view.tu(j);Q.Cs&&(Q=await lw(k.localStore,M.query,!1).then(({documents:D})=>M.view.tu(D,Q)));const re=G&&G.targetChanges.get(M.targetId),te=G&&G.targetMismatches.get(M.targetId)!=null,B=M.view.applyChanges(Q,k.isPrimaryClient,re,te);return vw(k,M.targetId,B.ou),B.snapshot}(t,_,E,T);const o=await lw(t.localStore,e,!0),u=new Vj(e,o.$s),f=u.tu(o.documents),d=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),g=u.applyChanges(f,t.isPrimaryClient,d);vw(t,n,g.ou);const y=new jj(e,n,u);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),g.snapshot}async function $j(t,e,n){const r=Ge(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!Em(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&x_(r.remoteStore,s.targetId),wv(r,s.targetId)}).catch(nu)):(wv(r,s.targetId),await Sv(r.localStore,s.targetId,!0))}async function Gj(t,e){const n=Ge(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x_(n.remoteStore,r.targetId))}async function Kj(t,e,n){const r=e7(t);try{const s=await function(u,f){const d=Ge(u),g=an.now(),y=f.reduce((T,A)=>T.add(A.key),at());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=ms(),k=at();return d.Bs.getEntries(T,y).next(M=>{A=M,A.forEach((j,G)=>{G.isValidDocument()||(k=k.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,A)).next(M=>{_=M;const j=[];for(const G of f){const Q=u5(G,_.get(G.key).overlayedDocument);Q!=null&&j.push(new Io(G.key,Q,zR(Q.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,j,f)}).next(M=>{E=M;const j=M.applyToLocalDocumentSet(_,k);return d.documentOverlayCache.saveOverlays(T,M.batchId,j)})}).then(()=>({batchId:E.batchId,changes:XR(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let g=u.Au[u.currentUser.toKey()];g||(g=new Ut(Xe)),g=g.insert(f,d),u.Au[u.currentUser.toKey()]=g}(r,s.batchId,n),await hf(r,s.changes),await Rm(r.remoteStore)}catch(s){const o=P_(s,"Failed to persist write");n.reject(o)}}async function Px(t,e){const n=Ge(t);try{const r=await aj(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Eu.get(o);u&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?vt(u.cu,14607):s.removedDocuments.size>0&&(vt(u.cu,42227),u.cu=!1))}),await hf(n,r,e)}catch(r){await nu(r)}}function yw(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((o,u)=>{const f=u.view.Fa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=Ge(u);d.onlineState=f;let g=!1;d.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(g=!0)}),g&&M_(d)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yj(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Ut(Pe.comparator);u=u.insert(o,Nn.newNoDocument(o,$e.min()));const f=at().add(o),d=new wm($e.min(),new Map,new Ut(Xe),u,f);await Px(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),L_(r)}else await Sv(r.localStore,e,!1).then(()=>wv(r,e,n)).catch(nu)}async function Qj(t,e){const n=Ge(t),r=e.batch.batchId;try{const s=await sj(n.localStore,e);kx(n,r,null),Mx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hf(n,s)}catch(s){await nu(s)}}async function Xj(t,e,n){const r=Ge(t);try{const s=await function(u,f){const d=Ge(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,f).next(_=>(vt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(g,_))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(r.localStore,e);kx(r,e,n),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hf(r,s)}catch(s){await nu(s)}}function Mx(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function kx(t,e,n){const r=Ge(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||Lx(t,r)})}function Lx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(x_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),L_(t))}function vw(t,e,n){for(const r of n)r instanceof Ox?(t.du.addReference(r.key,e),Wj(t,r)):r instanceof Dx?(_e(k_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||Lx(t,r.key)):ze(19791,{pu:r})}function Wj(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(_e(k_,"New document in limbo: "+n),t.Tu.add(r),L_(t))}function L_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Pe(Pt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new zj(n)),t.Iu=t.Iu.insert(n,r),Sx(t.remoteStore,new ra(Ti(v_(n.path)),r,"TargetPurposeLimboResolution",pm.le))}}async function hf(t,e,n){const r=Ge(t),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,d)=>{u.push(r.fu(d,e,n).then(g=>{var y;if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(g){s.push(g);const _=C_.Rs(d.targetId,g);o.push(_)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(d,g){const y=Ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ce.forEach(g,E=>ce.forEach(E.ds,T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T)).next(()=>ce.forEach(E.As,T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))}catch(_){if(!ru(_))throw _;_e(R_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=y.xs.get(E),A=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(E,k)}}}(r.localStore,o))}async function Zj(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){_e(k_,"User change. New user:",e.toKey());const r=await yx(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(f=>{f.forEach(d=>{d.reject(new Ie(he.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hf(n,r.ks)}}function Jj(t,e){const n=Ge(t),r=n.Eu.get(e);if(r&&r.cu)return at().add(r.key);{let s=at();const o=n.Pu.get(e);if(!o)return s;for(const u of o){const f=n.hu.get(u);s=s.unionWith(f.view.eu)}return s}}function Ux(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Px.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yj.bind(null,e),e.lu.Y_=Lj.bind(null,e.eventManager),e.lu.gu=Uj.bind(null,e.eventManager),e}function e7(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xj.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ij(this.persistence,new tj,e.initialUser,this.serializer)}Su(e){return new px(A_.fi,this.serializer)}bu(e){return new fj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class t7 extends Kd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){vt(this.persistence.referenceDelegate instanceof $d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z5(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new px(r=>$d.fi(r,n),this.serializer)}}class Av{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zj.bind(null,this.syncEngine),await Pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kj}()}createDatastore(e){const n=Am(e.databaseInfo.databaseId),r=function(o){return new pj(o)}(e.databaseInfo);return function(o,u,f,d){return new Ej(o,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,f){return new bj(r,s,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>yw(this.syncEngine,n,0),function(){return fw.C()?new fw:new hj}())}createSyncEngine(e,n){return function(s,o,u,f,d,g,y){const _=new Fj(s,o,u,f,d,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ge(s);_e(To,"RemoteStore shutting down."),o.da.add(5),await ff(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Av.provider={build:()=>new Av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class n7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=OR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(Sa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(Sa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r7(t);_e(Sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>dw(e.remoteStore,s)),t._onlineComponents=e}async function r7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Sa,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await gy(t,new Kd)}}else _e(Sa,"Using default OfflineComponentProvider"),await gy(t,new t7(void 0));return t._offlineComponents}async function jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Sa,"Using user provided OnlineComponentProvider"),await _w(t,t._uninitializedComponentsProvider._online)):(_e(Sa,"Using default OnlineComponentProvider"),await _w(t,new Av))),t._onlineComponents}function i7(t){return jx(t).then(e=>e.syncEngine)}async function zx(t){const e=await jx(t),n=e.eventManager;return n.onListen=Bj.bind(null,e.syncEngine),n.onUnlisten=$j.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gj.bind(null,e.syncEngine),n}function s7(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new Vx({next:E=>{y.xu(),u.enqueueAndForget(()=>xx(o,_));const T=E.docs.has(f);!T&&E.fromCache?g.reject(new Ie(he.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new Ie(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ix(v_(f.path),y,{includeMetadataChanges:!0,Qa:!0});return Rx(o,_)}(await zx(t),t.asyncQueue,e,n,r)),r.promise}function a7(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new Vx({next:E=>{y.xu(),u.enqueueAndForget(()=>xx(o,_)),E.fromCache&&d.source==="server"?g.reject(new Ie(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ix(f,y,{includeMetadataChanges:!0,Qa:!0});return Rx(o,_)}(await zx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e,n){if(!n)throw new Ie(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o7(t,e,n,r){if(e===!0&&r===!0)throw new Ie(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sw(t){if(!Pe.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bw(t){if(Pe.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function U_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=U_(t);throw new Ie(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firestore.googleapis.com",Tw=!0;class ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=Tw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V5)throw new Ie(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m9;switch(r.type){case"firstParty":return new v9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ew.get(n);r&&(_e("ComponentProvider","Removing Datastore"),Ew.delete(n),r.terminate())}(this),Promise.resolve()}}function l7(t,e,n,r={}){var s;t=ba(t,xm);const o=Ql(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(Yw(`https://${d}`),Qw("Firestore",!0)),u.host!==Hx&&u.host!==d&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!ho(g,f)&&(t._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Dn.MOCK_USER;else{y=AO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ie(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(E)}t._authCredentials=new g9(new xR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Im(this.firestore,e,this._query)}}class lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class la extends Im{constructor(e,n,r){super(e,n,v_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Pe(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function u7(t,e,...n){if(t=Kn(t),Bx("collection","path",e),t instanceof xm){const r=Pt.fromString(e,...n);return bw(r),new la(t,null,r)}{if(!(t instanceof lr||t instanceof la))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return bw(r),new la(t.firestore,null,r)}}function df(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=OR.newId()),Bx("doc","path",e),t instanceof xm){const r=Pt.fromString(e,...n);return Sw(r),new lr(t,null,new Pe(r))}{if(!(t instanceof lr||t instanceof la))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Sw(r),new lr(t.firestore,t instanceof la?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="AsyncQueue";class Cw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new _x(this,"async_queue_retry"),this.rc=()=>{const r=my();r&&_e(Aw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=my();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=my();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new os;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ru(e))throw e;_e(Aw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ds("INTERNAL UNHANDLED ERROR: ",Rw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=N_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&ze(47125,{cc:Rw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mf extends xm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Cw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cw(e),this._firestoreClient=void 0,await e}}}function c7(t,e){const n=typeof t=="object"?t:Jw(),r=typeof t=="string"?t:Vd,s=Nv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=TO("firestore");o&&l7(s,...o)}return s}function V_(t){if(t._terminated)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f7(t),t._firestoreClient}function f7(t){var e,n,r;const s=t._freezeSettings(),o=function(f,d,g,y){return new P9(f,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Fx(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new n7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(wn.fromBase64String(e))}catch(n){throw new Ie(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kl(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=/^__.*__$/;class d7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new uf(e,this.data,n,this.fieldTransforms)}}function $x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ic:t})}}class B_{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new B_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Yd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if($x(this.Ic)&&h7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class m7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Am(e)}bc(e,n,r,s=!1){return new B_({Ic:e,methodName:n,wc:r,path:Tn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g7(t){const e=t._freezeSettings(),n=Am(t._databaseId);return new m7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p7(t,e,n,r,s,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,s);Qx("Data must be an object, but it was:",u,r);const f=Kx(r,u);let d,g;if(o.merge)d=new Fr(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=y7(e,_,n);if(!u.contains(E))throw new Ie(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);_7(y,E)||y.push(E)}d=new Fr(y),g=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,g=u.fieldTransforms;return new d7(new Nr(f),d,g)}function Gx(t,e){if(Yx(t=Kn(t)))return Qx("Unsupported field value:",e,t),Kx(t,e);if(t instanceof qx)return function(r,s){if(!$x(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const f of r){let d=Gx(f,s.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=an.fromDate(r);return{timestampValue:qd(s.serializer,o)}}if(r instanceof an){const o=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(s.serializer,o)}}if(r instanceof z_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:lx(s.serializer,r._byteString)};if(r instanceof lr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof F_)return function(u,f){return{mapValue:{fields:{[VR]:{stringValue:jR},[jd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return __(f.serializer,g)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${U_(r)}`)}(t,e)}function Kx(t,e){const n={};return NR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,s)=>{const o=Gx(s,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Yx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof z_||t instanceof Kl||t instanceof lr||t instanceof qx||t instanceof F_)}function Qx(t,e,n){if(!Yx(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=U_(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function y7(t,e,n){if((e=Kn(e))instanceof j_)return e._internalPath;if(typeof e=="string")return Xx(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const v7=new RegExp("[~\\*/\\[\\]]");function Xx(t,e,n){if(e.search(v7)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new j_(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new Ie(he.INVALID_ARGUMENT,f+t+d)}function _7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E7 extends Wx{data(){return super.data()}}function Zx(t,e){return typeof e=="string"?Xx(t,e):e instanceof j_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b7{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[jd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>qt(u.doubleValue));return new F_(o)}convertGeoPoint(e){return new z_(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=ya(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);vt(mx(r),9688,{name:e});const s=new qc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(n)||ds(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jx extends Wx{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sd extends Jx{data(e={}){return super.data(e)}}class w7{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _c(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sd(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new sd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new _c(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const d=new sd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new _c(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:A7(f.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function A7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){t=ba(t,lr);const e=ba(t.firestore,mf);return s7(V_(e),t._key).then(n=>I7(e,t,n))}class e2 extends b7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function R7(t){t=ba(t,Im);const e=ba(t.firestore,mf),n=V_(e),r=new e2(e);return S7(t._query),a7(n,t._query).then(s=>new w7(e,r,t,s))}function H_(t,e,n){t=ba(t,lr);const r=ba(t.firestore,mf),s=T7(t.converter,e);return t2(r,[p7(g7(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wi.none())])}function x7(t){return t2(ba(t.firestore,mf),[new E_(t._key,wi.none())])}function t2(t,e){return function(r,s){const o=new os;return r.asyncQueue.enqueueAndForget(async()=>Kj(await i7(r),s,o)),o.promise}(V_(t),e)}function I7(t,e,n){const r=n.docs.get(e._key),s=new e2(t);return new Jx(t,s,e._key,r,new _c(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){tu=s})(Xl),Ul(new mo("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new mf(new p9(r.getProvider("auth-internal")),new _9(u,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ie(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(g.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),aa(NT,PT,e),aa(NT,PT,"esm2017")})();const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function O7(t,e=0){return(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase()}let py;const D7=new Uint8Array(16);function N7(){if(!py){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");py=crypto.getRandomValues.bind(crypto)}return py(D7)}const yy={};function Om(t,e,n){let r;{const s=Date.now(),o=N7();P7(yy,s,o),r=M7(o,yy.msecs,yy.seq,e,n)}return O7(r)}function P7(t,e,n){return t.msecs??(t.msecs=-1/0),t.seq??(t.seq=0),e>t.msecs?(t.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}function M7(t,e,n,r,s=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!r)r=new Uint8Array(16),s=0;else if(s<0||s+16>r.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);return e??(e=Date.now()),n??(n=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9]),r[s++]=e/1099511627776&255,r[s++]=e/4294967296&255,r[s++]=e/16777216&255,r[s++]=e/65536&255,r[s++]=e/256&255,r[s++]=e&255,r[s++]=112|n>>>28&15,r[s++]=n>>>20&255,r[s++]=128|n>>>14&63,r[s++]=n>>>6&255,r[s++]=n<<2&255|t[10]&3,r[s++]=t[11],r[s++]=t[12],r[s++]=t[13],r[s++]=t[14],r[s++]=t[15],r}const Yl=c7(_R),k7=async t=>{const{song:e,loggedUser:n}=t,{uid:r}=n;return await H_(df(Yl,"users",r,"songs",e.id),e),e},L7=async t=>{const{email:e,password:n,username:r}=t,{uid:s}=await ER(e,n);await H_(df(Yl,"users",s),{uid:s,tag:Om(),username:r,email:e})},U7=async t=>{const{id:e,loggedUser:n}=t,{uid:r}=n;return await x7(df(Yl,"users",r,"songs",e)),{id:e}},n2=async t=>{const e=df(Yl,"users",t),n=await C7(e);if(n.exists()){const r=await n.data(),s=u7(Yl,"users",t,"songs"),u=(await R7(s)).docs.map(f=>f.data());return{...r,songs:u}}return null},V7=async t=>{const{song:e,loggedUser:n}=t,{uid:r}=n;return await H_(df(Yl,"users",r,"songs",e.id),e),e},j7=async t=>{const{email:e,password:n}=t,r=await vs.auth.signIn(e,n);return await n2(r.uid)},z7=Object.freeze(Object.defineProperty({__proto__:null,addSong:k7,addUser:L7,deleteSong:U7,loadUser:n2,saveSong:V7,signInUser:j7},Symbol.toStringTag,{value:"Module"})),vs={auth:d9,user:z7},F7=async t=>await vs.user.addSong(t),B7=async t=>await vs.user.deleteSong(t),H7=async t=>await vs.user.saveSong(t),q7=async t=>{const{uid:e}=t;return await vs.user.loadUser(e)},$7=async t=>{const{email:e,password:n}=t;return await vs.user.signInUser({email:e,password:n})},G7=async()=>{await vs.auth.signOut()},K7=async t=>{await vs.user.addUser(t)},{t:Y7}=Mt,Q7={addSongStatus:it.IDLE,addSongError:null,latestAddedSongId:null},ad={addSong:Co(`${dm}/addSong`,async t=>await F7(t))},X7={clearAddSongError:t=>{t.addSongError=null},clearAddSongStatus:t=>{t.addSongStatus=it.IDLE},setAddSongError:(t,e)=>{t.addSongError=e.payload},clearLatestAddedSongId:t=>{t.latestAddedSongId=null}},W7=t=>{t.addCase(ad.addSong.pending,e=>{e.addSongStatus=it.LOADING,e.addSongError=null}).addCase(ad.addSong.fulfilled,(e,n)=>{e.addSongStatus=it.SUCCEEDED,e.songs.push(n.payload),e.latestAddedSongId=n.payload.id}).addCase(ad.addSong.rejected,(e,n)=>{e.addSongStatus=it.FAILED,e.addSongError=Y7(`error-message.add-song.${n.error.code}`)})},Z7={selectAddSongError:t=>t.songs.addSongError,selectAddSongStatus:t=>t.songs.addSongStatus,selectLatestAddedSongId:t=>t.songs.latestAddedSongId},J7={asyncThunk:ad,extraReducers:W7,initialState:Q7,reducers:X7,selectors:Z7},{t:e8}=Mt,t8={deleteSongStatus:it.IDLE,deleteSongError:null},od={deleteSong:Co(`${dm}/deleteSong`,async t=>await B7(t))},n8={clearDeleteSongError:t=>{t.deleteSongError=null},clearDeleteSongStatus:t=>{t.deleteSongStatus=it.IDLE}},r8=t=>{t.addCase(od.deleteSong.pending,e=>{e.deleteSongStatus=it.LOADING,e.deleteSongError=null}).addCase(od.deleteSong.fulfilled,(e,n)=>{e.deleteSongStatus=it.SUCCEEDED;const r=e.songs.findIndex(s=>s.id==n.payload.id);e.songs.splice(r,1)}).addCase(od.deleteSong.rejected,(e,n)=>{e.deleteSongStatus=it.FAILED,e.deleteSongError=e8(`error-message.delete-song.${n.error.code}`)})},i8={selectDeleteSongError:t=>t.songs.deleteSongError},s8={asyncThunk:od,extraReducers:r8,initialState:t8,reducers:n8,selectors:i8},r2=t=>(t||"").replaceAll(`
`," ").trim().split(" "),i2=t=>t==it.LOADING,s2=t=>[...t].sort((e,n)=>e.title.localeCompare(n.title)),a8={songs:[]},o8={loadSongs:(t,e)=>{t.songs=s2(e.payload)}},l8={selectAllSongs:t=>t.songs.songs,selectSongById:t=>e=>e.songs.songs.find(n=>n.id===t),selectSongsError:t=>t.songs.songsError,selectSongsStatus:t=>t.songs.songsStatus},u8={initialState:a8,reducers:o8,selectors:l8},{t:xw}=Mt,c8={saveSongStatus:it.IDLE,saveSongError:null,saveSongMessage:null},ld={saveSong:Co(`${dm}/saveSong`,async t=>await H7(t))},f8={editSongTitle:(t,e)=>{const{payload:n}=e,r=t.songs.find(s=>s.id===n.id);r.title=n.title},clearSaveSongError:t=>{t.saveSongError=null},clearSaveSongStatus:t=>{t.saveSongStatus=it.IDLE,t.saveSongMessage=null}},h8=t=>{t.addCase(ld.saveSong.pending,e=>{e.saveSongStatus=it.LOADING,e.saveSongError=null}).addCase(ld.saveSong.fulfilled,(e,n)=>{e.saveSongStatus=it.SUCCEEDED,e.saveSongMessage=xw("Song saved");const r=n.payload,s=e.songs.find(o=>o.id===r.id);s.notes=r.notes,e.songs=s2(e.songs)}).addCase(ld.saveSong.rejected,(e,n)=>{e.saveSongStatus=it.FAILED,e.saveSongError=xw(`error-message.save-song.${n.error.code}`)})},d8={selectSaveSongError:t=>t.songs.saveSongError,selectSaveSongStatus:t=>t.songs.saveSongStatus,selectSaveSongMessage:t=>t.songs.saveSongMessage},m8={asyncThunk:ld,extraReducers:h8,initialState:c8,reducers:f8,selectors:d8},Yc=Object.freeze(Object.defineProperty({__proto__:null,AddSong:J7,DeleteSong:s8,LoadSongs:u8,SaveSong:m8},Symbol.toStringTag,{value:"Module"})),g8=Ra(Yc,Ca.INITIAL_STATE),a2=lR({name:dm,initialState:g8,reducers:Ra(Yc,Ca.REDUCERS),extraReducers(t){uR(t,Yc)}}),p8=a2.reducer,Hr={...a2.actions,...Ra(Yc,Ca.ASYNC_THUNK)},Br={...Ra(Yc,Ca.SELECTORS)},gf="user",{t:y8}=Mt,v8={loggedUser:null,loggedUserStatus:it.IDLE,loggedUserError:null,firebaseOnAuthStateChangedStatus:it.IDLE},_8={completeFirebaseOnAuthStateChangedStatus:t=>{t.firebaseOnAuthStateChangedStatus=it.SUCCEEDED}},ud={loadUser:Co(`${gf}/loadUser`,async t=>await q7(t))},E8=t=>{t.addCase(ud.loadUser.pending,e=>{e.loggedUserStatus=it.LOADING}).addCase(ud.loadUser.fulfilled,(e,n)=>{e.loggedUserStatus=it.SUCCEEDED,e.loggedUser=n.payload}).addCase(ud.loadUser.rejected,(e,n)=>{e.loggedUserStatus=it.FAILED,e.loggedUserError=y8(`error-message.logged-user.${n.error.code}`)})},S8={selectLoggedUser:t=>t.users.loggedUser,isLoggedIn:t=>!!t.users.loggedUser,isLoginVerificationComplete:t=>t.users.loggedUser!=null||t.users.loggedUserStatus==it.SUCCEEDED||t.users.loggedUserStatus==it.FAILED,isFirebaseOnAuthStateChangedStatusComplete:t=>t.users.firebaseOnAuthStateChangedStatus!=it.IDLE},b8={initialState:v8,reducers:_8,asyncThunk:ud,extraReducers:E8,selectors:S8},{t:T8}=Mt,w8={signInStatus:it.IDLE,signInError:null},A8={clearSignInError:t=>{t.signInError=null}},cd={signInUser:Co(`${gf}/signInUser`,async t=>await $7(t))},C8=t=>{t.addCase(cd.signInUser.pending,e=>{e.signInStatus=it.LOADING}).addCase(cd.signInUser.fulfilled,(e,n)=>{e.signInStatus=it.SUCCEEDED,e.loggedUser=n.payload}).addCase(cd.signInUser.rejected,(e,n)=>{e.signInStatus=it.FAILED,e.signInError=T8(`error-message.sign-in-user.${n.error.code}`)})},R8={selectSignInError:t=>t.users.signInError},x8={initialState:w8,reducers:A8,asyncThunk:cd,extraReducers:C8,selectors:R8},{t:I8}=Mt,O8={signOutStatus:it.IDLE,signOutError:null},fd={signOutUser:Co(`${gf}/signOut`,async()=>await G7())},D8=t=>{t.addCase(fd.signOutUser.pending,e=>{e.signOutStatus=it.LOADING}).addCase(fd.signOutUser.fulfilled,e=>{e.signOutStatus=it.SUCCEEDED,e.loggedUser=null}).addCase(fd.signOutUser.rejected,(e,n)=>{e.signOutStatus=it.FAILED,e.loggedUserError=I8(`error-message.sign-out-user.${n.error.code}`)})},N8={initialState:O8,asyncThunk:fd,extraReducers:D8},{t:P8}=Mt,M8={signUpStatus:it.IDLE,signUpError:null},k8={clearSignUpError:t=>{t.signUpError=null}},hd={signUpUser:Co(`${gf}/signUpUser`,async t=>await K7(t))},L8=t=>{t.addCase(hd.signUpUser.pending,e=>{e.signUpStatus=it.LOADING}).addCase(hd.signUpUser.fulfilled,e=>{e.signUpStatus=it.SUCCEEDED}).addCase(hd.signUpUser.rejected,(e,n)=>{e.signUpStatus=it.FAILED,e.signUpError=P8(`error-message.sign-up-user.${n.error.code}`)})},U8={selectSignUpError:t=>t.users.signUpError},V8={initialState:M8,asyncThunk:hd,reducers:k8,extraReducers:L8,selectors:U8},Qc=Object.freeze(Object.defineProperty({__proto__:null,LoggedUser:b8,SignInUser:x8,SignOutUser:N8,SignUpUser:V8},Symbol.toStringTag,{value:"Module"})),j8=Ra(Qc,Ca.INITIAL_STATE),o2=lR({name:gf,initialState:j8,reducers:Ra(Qc,Ca.REDUCERS),extraReducers(t){uR(t,Qc)}}),z8=o2.reducer,co={...o2.actions,...Ra(Qc,Ca.ASYNC_THUNK)},$r={...Ra(Qc,Ca.SELECTORS)},F8="_TextArea_e12px_1",B8={TextArea:F8},H8=t=>x.jsx("textarea",{...t,className:B8.TextArea}),l2=O.memo(H8),q_=()=>({id:Om(),text:""}),ua=t=>{const e=Array.from({length:t},()=>q_());return{id:Om(),chunks:e}},q8=t=>{const{title:e,pitches:n,lyrics:r}=t,s=isNaN(n)?1:n,o=r2(r),u=r?[ua(s),...o.map(f=>{const d=ua(s);return d.chunks[0].text=f,d})]:Array.from({length:1},()=>ua(s));return{id:Om(),title:e,notes:u}},$8="_FormAddSong_5y15a_1",G8="_FieldsContainer_5y15a_10",Iw={FormAddSong:$8,FieldsContainer:G8},K8=()=>{const{t}=$t(),e=Ta(),n=zt($r.selectLoggedUser),r=zt(Br.selectAddSongStatus),s=O.useCallback(async o=>{if(o.preventDefault(),i2(r))return;const u=o.target,f=u.title.value.trim(),d=u.pitches.value||1,g=u.lyrics.value||"";if(!f){e(Hr.setAddSongError(t("Please, insert a song title")));return}const y=q8({title:f,pitches:d,lyrics:g});e(Hr.addSong({loggedUser:n,song:y}))},[r,e,n,t]);return x.jsx("form",{id:"formAddSong",className:Iw.FormAddSong,onSubmit:s,children:x.jsxs("div",{className:Iw.FieldsContainer,children:[x.jsx(is,{label:t("Title"),field:x.jsx(ss,{type:"text",name:"title"})}),x.jsx(is,{label:t("Number of Pitches"),field:x.jsx(ss,{type:"number",name:"pitches"})}),x.jsx(is,{label:t("Song lyrics"),field:x.jsx(l2,{name:"lyrics"})})]})})},Y8=O.memo(K8),Cv="growl-container",u2=Object.freeze({ERROR:"ERROR",INFO:"INFO",SUCCESS:"SUCCESS",WARN:"WARN"}),Q8=5e3,X8="_GrowlContainer_kayqm_1",W8="_Growl_kayqm_1",Z8="_GrowlClose_kayqm_38",Rv={GrowlContainer:X8,Growl:W8,GrowlClose:Z8},J8=t=>{const{children:e}=t;return x.jsx("div",{id:Cv,className:Rv.GrowlContainer,children:e})},ez=t=>{const{level:e,message:n,onCloseGrowl:r,fixed:s=!1}=t;return O.useEffect(()=>{s||setTimeout(()=>{r()},Q8)},[s,r]),n?x.jsxs("div",{className:Rv.Growl,"data-level":e,children:[x.jsx("button",{type:"button",className:Rv.GrowlClose,onClick:r,children:"x"}),n]}):x.jsx(x.Fragment,{})},tz=O.memo(J8),nz=O.memo(ez),c2=t=>{const{fixed:e,level:n,message:r,onCloseGrowl:s}=t;return!n||!r?x.jsx(x.Fragment,{}):document.getElementById(Cv)?QC.createPortal(x.jsx(nz,{fixed:e,level:n,message:r,onCloseGrowl:s}),document.getElementById(Cv)):x.jsx(x.Fragment,{})},Xc=t=>{const{message:e,onCloseGrowl:n,fixed:r=!0}=t;return c2({fixed:r,message:e,level:u2.ERROR,onCloseGrowl:n})},rz=t=>{const{message:e,onCloseGrowl:n,fixed:r=!1}=t;return c2({fixed:r,message:e,level:u2.SUCCESS,onCloseGrowl:n})},iz=t=>{const{addSongDialogFnsRef:e}=t,{t:n}=$t(),r=Ta(),s=Jl(),o=zt(Br.selectAddSongStatus),u=zt(Br.selectAddSongError),f=zt(Br.selectLatestAddedSongId),[d,g]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){g(!0)}}));const y=O.useCallback(()=>{r(Hr.clearAddSongError())},[r]);return O.useEffect(()=>{f!=null&&(r(Hr.clearLatestAddedSongId()),s(`/chart?id=${f}`))},[o,r,f,s]),x.jsxs(x.Fragment,{children:[x.jsx(Ot,{category:Ft.SUCCESS,onClick:()=>g(!0),icon:x.jsx(Qb,{}),children:n("Add Song")}),d?x.jsx(lf,{title:n("Add Song"),bodyContent:x.jsx(Y8,{}),footerContent:x.jsxs(x.Fragment,{children:[x.jsx(Ot,{onClick:()=>g(!1),children:n("Close")}),x.jsx(Ot,{category:Ft.SUCCESS,form:"formAddSong",type:"submit",icon:x.jsx(Qb,{}),children:n("Add")})]})}):x.jsx(x.Fragment,{}),Xc({message:u,onCloseGrowl:y})]})},sz=O.memo(iz),az=t=>{const{configSongDialogFnsRef:e,notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:s}=t,{t:o}=$t(),[u,f]=O.useState(!1);return O.useImperativeHandle(e,()=>({show(){f(!0)}})),u?x.jsx(lf,{title:o("Configure Song"),bodyContent:x.jsx(x.Fragment,{children:x.jsx(iU,{notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:s})}),footerContent:x.jsx(x.Fragment,{children:x.jsx(Ot,{onClick:()=>f(!1),children:o("Close")})})}):x.jsx(x.Fragment,{})},oz=O.memo(az),lz=t=>{const{deleteSongDialogFnsRef:e,song:n}=t,{t:r}=$t(),s=Ta(),o=zt($r.selectLoggedUser),u=zt(Br.selectDeleteSongError),[f,d]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){d(!0)}}));const g=O.useCallback(()=>{s(Hr.deleteSong({loggedUser:o,id:n.id}))},[s,o,n.id]),y=O.useCallback(()=>{s(Hr.clearDeleteSongError())},[s]);return f?x.jsxs(x.Fragment,{children:[x.jsx(XC,{bodyContent:x.jsxs(x.Fragment,{children:[x.jsx("p",{children:r("Are you sure you want to delete this song?")}),x.jsx("p",{children:r("This action cannot be undone")})]}),footerContent:x.jsxs(x.Fragment,{children:[x.jsx(Ot,{category:Ft.DANGER,onClick:g,children:r("Delete Song")}),x.jsx(Ot,{category:Ft.DEFAULT,onClick:()=>d(!1),children:r("Cancel")})]})}),Xc({message:u,onCloseGrowl:y})]}):x.jsx(x.Fragment,{})},uz=O.memo(lz),cz=t=>{const{generateChartDialogFnsRef:e}=t,{onAddWordsAsNotes:n}=t,{t:r}=$t(),s=O.useRef(null),[o,u]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){u(!0)}}));const f=O.useCallback(d=>{var g;s.current&&(n((g=s.current)==null?void 0:g.value),d.target.value="",u(!1))},[n]);return o?x.jsx(lf,{title:r("Generate mapping with lyrics"),bodyContent:x.jsx(is,{label:r("Song lyrics"),field:x.jsx(l2,{ref:s})}),footerContent:x.jsxs(x.Fragment,{children:[x.jsx(Ot,{category:Ft.DANGER,onClick:f,children:r("Generate")}),x.jsx(Ot,{category:Ft.DEFAULT,onClick:()=>u(!1),children:r("Cancel")})]})}):x.jsx(x.Fragment,{})},fz=O.memo(cz),hz=t=>{const{show:e,onConfirm:n,onCancel:r}=t,{t:s}=$t();return e?x.jsx(XC,{bodyContent:x.jsxs(x.Fragment,{children:[x.jsx("p",{children:s("Are you sure you want to leave this page?")}),x.jsx("p",{children:s("Some unsaved changes will be lost")})]}),footerContent:x.jsxs(x.Fragment,{children:[x.jsx(Ot,{category:Ft.DANGER,onClick:n,children:s("Leave Page")}),x.jsx(Ot,{category:Ft.DEFAULT,onClick:r,children:s("Cancel")})]})}):x.jsx(x.Fragment,{})},dz=O.memo(hz),mz="_Link_8fn99_1",gz={Link:mz},pz=t=>{const{children:e,...n}=t;return x.jsx(Xv,{className:gz.Link,...n,children:e})},xv=O.memo(pz),$_=t=>{const{noteIndex:e,chunkIndex:n}=t,r=document.querySelector(`[data-note-index="${e}"][data-chunk-index="${n}"]`);r&&r.dispatchEvent(new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}))},yz=t=>{t.preventDefault()},vz=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),$_({noteIndex:n,chunkIndex:r+1})},_z=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),$_({noteIndex:n,chunkIndex:r-1})},Ez=t=>{const{event:e}=t;e.target.blur()},Sz=t=>{const{event:e,originalText:n,setEditInputValue:r}=t;r(n),setTimeout(()=>{e.target.blur()},0)},bz=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault();const s=e.shiftKey?n-1:n+1;$_({noteIndex:s,chunkIndex:r})},Tz=Object.freeze({Enter:Ez,Tab:bz,ArrowUp:_z,ArrowDown:vz,Escape:Sz}),wz="_NoteChunk_1ss5q_1",Az="_ChunkText_1ss5q_11",Cz="_EmptyChunkText_1ss5q_171",Rz="_HighlightDropZone_1ss5q_175",es={NoteChunk:wz,ChunkText:Az,EmptyChunkText:Cz,HighlightDropZone:Rz},qh="drag-data-transfer-text",vy="drag-data-transfer-note-index",Ow="drag-data-transfer-chunk-index",xz=t=>{const{chunk:e,note:n,text:r,chunkIndex:s,noteIndex:o,filledNoteIndex:u,hasRightBorder:f,onOpenContextMenu:d,onEditNoteChunkText:g,onEditNoteDefinitionChunkText:y}=t,{t:_}=$t(),[E,T]=O.useState(!1),[A,k]=O.useState(r),M=O.useMemo(()=>o===0,[o]),j=O.useMemo(()=>s===0,[s]),G=O.useMemo(()=>s%12+1,[s]),Q=O.useMemo(()=>!r||M,[M,r]),re=O.useMemo(()=>M?_("Click to define pitch"):`${_("Click to define note")}. ${_("Drag the note to move it")}`,[M,_]),te=O.useCallback(()=>{T(V=>!V)},[]),B=O.useCallback(V=>{if(V.preventDefault(),V.dataTransfer.getData("noteIndex")!=o)return;const Se=V.dataTransfer.getData("text");g({text:Se,noteIndex:o,chunkIndex:s})},[s,o,g]),D=O.useCallback(V=>{V.dataTransfer.setData("text",r),V.dataTransfer.setData("noteIndex",o)},[o,r]),I=O.useCallback(V=>{const N=Tz[V.key];N&&N({event:V,chunkIndex:s,noteIndex:o,originalText:r,setEditInputValue:k})},[s,o,r]);O.useEffect(()=>{k(r)},[r]);const R=O.useMemo(()=>`note-chunk-${n.id}-${e.id}`,[e.id,n.id]),P=O.useMemo(()=>{const V=r===""?_("Pitch"):r,N=u===-1&&r===""?_("Note"):r,Se=M?V:N;return x.jsx("span",{className:`${es.ChunkText} ${r?"":es.EmptyChunkText}`,children:Se})},[u,M,_,r]),F=O.useRef(null);return O.useEffect(()=>{const V=F.current,N=()=>{localStorage.setItem(qh,r),localStorage.setItem(vy,o),localStorage.setItem(Ow,s)},Se=Y=>{if(!localStorage.getItem(qh))return;Y.preventDefault();const ye=Y.touches[0],U=document.elementFromPoint(ye.clientX,ye.clientY).closest(`.${es.NoteChunk}`);document.querySelectorAll(`.${es.HighlightDropZone}`).forEach(ie=>ie.classList.remove(es.HighlightDropZone)),U&&U.classList.add(es.HighlightDropZone)},Ve=Y=>{const fe=localStorage.getItem(qh),ye=localStorage.getItem(vy),Oe=localStorage.getItem(Ow),U=Y.changedTouches[0],de=document.elementFromPoint(U.clientX,U.clientY).closest(`.${es.NoteChunk}`),oe=de.dataset.chunkIndex;fe&&ye==o&&Oe!=oe&&(Y.preventDefault(),localStorage.removeItem(qh),localStorage.removeItem(vy),de.classList.remove(es.HighlightDropZone),g({text:fe,noteIndex:o,chunkIndex:oe}))};return V==null||V.addEventListener("touchstart",N,{passive:!1}),V==null||V.addEventListener("touchmove",Se,{passive:!1}),V==null||V.addEventListener("touchend",Ve,{passive:!1}),()=>{V==null||V.removeEventListener("touchstart",N,{passive:!1}),V==null||V.removeEventListener("touchmove",Se,{passive:!1}),V==null||V.removeEventListener("touchend",Ve,{passive:!1})}},[s,o,g,r]),x.jsx("div",{id:R,className:es.NoteChunk,ref:F,onContextMenu:V=>{V.preventDefault(),d({chunkIndex:s,noteIndex:o,top:V.pageY-window.scrollY,left:V.pageX-window.scrollX})},onClick:te,draggable:!Q,onDragStart:D,onDrop:B,onDragOver:yz,"data-is-drag-disabled":Q,"data-pitch-index":G,"data-has-bottom-border":!!r||M,"data-has-right-border":f||M,"data-has-left-border":M,"data-has-top-border":M&&j,"data-chunk-index":s,"data-note-index":o,title:re,children:E?x.jsx(ss,{autoFocus:!0,type:"text",name:"note-chunk-edit-input",value:A,onKeyDown:I,onChange:V=>k(V.target.value),onBlur:()=>{T(!1),(M?y:g)({text:A,noteIndex:o,chunkIndex:s})}}):P})},Iz=O.memo(xz),Do=t=>t[0].chunks.length,Oz=t=>{const{qty:e,setNotes:n}=t;n(r=>[...r,...Array.from({length:e},()=>ua(Do(r)))])},Dz=t=>{const{qty:e,setNotes:n}=t;n(r=>r.map(s=>{const o=[...s.chunks,...Array.from({length:e},()=>q_())];return{...s,chunks:o}}))},f2=t=>{const{noteIndex:e,setNotes:n}=t;n(r=>[...r.slice(0,e),ua(Do(r)),...r.slice(e)])},Nz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;f2({noteIndex:r+1,setNotes:n})},Pz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;f2({noteIndex:r,setNotes:n})},h2=t=>{const{chunkIndex:e,setNotes:n}=t;n(r=>r.map(s=>{const o=[...s.chunks.slice(0,e),q_(),...s.chunks.slice(e)];return{...s,chunks:o}}))},Mz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;h2({chunkIndex:r+1,setNotes:n})},kz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;h2({chunkIndex:r,setNotes:n})},Lz=t=>{const{setNotes:e,songText:n}=t,r=r2(n);e(s=>{const o=Do(s);return[...s.slice(0,1),...r.map(u=>{const f=ua(o);return f.chunks[0].text=u,f})]},[])},d2=t=>t.chunks.findIndex(e=>e.text),Uz=t=>{const{setNotes:e}=t;e(n=>{let r=-1;for(let o=n.length-1;o>=0&&!n[o].chunks.reduce((f,d)=>f+d.text,"");o--)r=o;const s=r!=-1?n.slice(0,r):[...n];return s.length?[...s]:[...n]})},Vz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;n(s=>r===0?[...s]:[...s.slice(0,r),...s.slice(r+1)])},jz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;n(s=>s.map(o=>{if(o.chunks.length===1)return{...o};const u=[...o.chunks.slice(0,r),...o.chunks.slice(r+1)];return{...o,chunks:u}}))},m2=(t,e)=>t.reduce((n,r)=>n+r.chunks[e].text,""),zz=t=>{const{setNotes:e}=t;e(n=>{const r=Bz(n),s=Fz(r);return s[0].chunks.length?[...s]:[...n]})},Fz=t=>{const e=Do(t);let n=-1;for(let r=e-1;r>=0&&!m2(t,r);r--)n=r;return n==-1?[...t]:t.map(r=>{const s=r.chunks.map((o,u)=>u>=n?null:o).filter(Boolean);return{...r,chunks:s}})},Bz=t=>{const e=Do(t);let n=-1;for(let r=0;r<e&&!m2(t,r);r++)n=r;return n==-1?[...t]:t.map(r=>{const s=r.chunks.map((o,u)=>u>n?o:null).filter(Boolean);return{...r,chunks:s}})},Hz=t=>e=>{const{text:n,noteIndex:r,chunkIndex:s}=e,o=n.trim(),u=!!o,d=o.indexOf(" ")!==-1?o.split(" "):[n];t(g=>{const y=Do(g),_=g[r],E=_.chunks.map((A,k)=>{const M=k==s,j=u?"":A.text;return{...A,text:M?d[0]:j}}),T=d.length>1?d.slice(1).map(A=>{const k=ua(y);return k.chunks[s].text=A,k}):[];return[...g.slice(0,r),{..._,chunks:E},...T,...g.slice(r+1)]})},qz=t=>e=>{const{text:n,noteIndex:r,chunkIndex:s}=e,o=n.trim(),f=o.indexOf(" ")!==-1?o.split(" "):[n];t(d=>{const g=Do(d),y=d[r],_=y.chunks.map((T,A)=>{const k=A==s;return{...T,text:k?f[0]:T.text}}),E=f.length>1?f.slice(1).map(T=>{const A=ua(g);return A.chunks[s].text=T,A}):[];return[...d.slice(0,r),{...y,chunks:_},...E,...d.slice(r+1)]})},$z=(t,e,n)=>{if(e==-1||n==-1)return!1;if(e<n)return!(t<=e||t>n);if(t==n)return!1;if(t<=e&&t>n)return!0},Gz="_Note_efu7e_1",Kz={Note:Gz},Yz=t=>{const{note:e,noteIndex:n,nextNoteNoteIndex:r,hasNextNote:s,setNotes:o,contextMenuFnsRef:u}=t,f=O.useCallback(y=>{var _;(_=u.current)==null||_.setContextMenuData(y)},[u]),d=O.useCallback(Hz(o),[o]),g=O.useCallback(qz(o),[o]);return x.jsx("div",{className:Kz.Note,children:e.chunks.map((y,_)=>{const E=d2(e),T=s?$z(_,E,r):!1;return x.jsx(Iz,{note:e,chunk:y,chunkIndex:_,noteIndex:n,filledNoteIndex:E,text:y.text,hasRightBorder:T,onOpenContextMenu:f,onEditNoteChunkText:d,onEditNoteDefinitionChunkText:g},y.id)})})},Qz=O.memo(Yz),Xz="_NotesContainer_og4yb_1",Wz={NotesContainer:Xz},Zz=t=>{const{notes:e,notesFnsRef:n}=t,{t:r}=$t(),[s,o]=O.useState(e),[u,f]=O.useState(!0),d=O.useRef(null),g=O.useMemo(()=>[{label:r("Add Pitch Above"),onClick:y=>{kz({contextMenuData:y,setNotes:o})}},{label:r("Add Pitch Below"),onClick:y=>{Mz({contextMenuData:y,setNotes:o})}},{label:r("Add Note Before"),onClick:y=>{Pz({contextMenuData:y,setNotes:o})}},{label:r("Add Note After"),onClick:y=>{Nz({contextMenuData:y,setNotes:o})}},{label:r("Remove Pitch"),type:"danger",onClick:y=>{jz({contextMenuData:y,setNotes:o})}},{label:r("Remove Note"),type:"danger",onClick:y=>{Vz({contextMenuData:y,setNotes:o})}}],[r]);return O.useImperativeHandle(n,()=>({setWrapNotes(y){f(y)},getNotes(){return[...s]},addMultipleNotes(y){Oz({setNotes:o,qty:y})},addMultiplePitches(y){Dz({setNotes:o,qty:y})},removeEmptyNotesAtTheEnd(){Uz({setNotes:o})},trimPitches(){zz({setNotes:o})},addWordsAsNotes(y){Lz({setNotes:o,songText:y})}})),x.jsxs("div",{className:Wz.NotesContainer,"data-wrap-notes":u,children:[s.map((y,_)=>{const E=s.length>_+1,T=E?d2(s[_+1]):null;return x.jsx(Qz,{setNotes:o,note:y,noteIndex:_,hasNextNote:E,nextNoteNoteIndex:T,contextMenuFnsRef:d},y.id)}),x.jsx(EU,{items:g,contextMenuFnsRef:d})]})},Jz=O.memo(Zz),eF="_SaveChartOption_1tona_1",Dw={SaveChartOption:eF},tF=t=>{const{songId:e,notesFnsRef:n}=t,{t:r}=$t(),s=Ta(),o=zt(Br.selectSongById(e)),u=zt($r.selectLoggedUser),f=zt(Br.selectSaveSongStatus),d=zt(Br.selectSaveSongMessage),g=zt(Br.selectSaveSongError),y=O.useCallback(async()=>{var k;const T=(k=n.current)==null?void 0:k.getNotes(),A=o.title;s(Hr.saveSong({song:{...o,title:A,notes:T},loggedUser:u}))},[s,u,n,o]),_=O.useCallback(()=>{s(Hr.clearSaveSongError())},[s]),E=O.useCallback(()=>{s(Hr.clearSaveSongStatus())},[s]);return x.jsxs("div",{className:Dw.SaveChartOption,children:[x.jsxs(Ot,{className:Dw.SaveSongButton,onClick:y,category:Ft.SUCCESS,icon:x.jsx(m6,{}),children:[i2(f)?x.jsx(YC,{}):x.jsx(x.Fragment,{})," ",r("Save Changes")]}),rz({message:d,onCloseGrowl:E}),Xc({message:g,onCloseGrowl:_})]})},nF=O.memo(tF),rF="_TableContainer_lkaju_1",iF="_Table_lkaju_1",Sl={TableContainer:rF,Table:iF},sF=()=>{const{t}=$t(),[e,n]=O.useState(!1);return x.jsxs(x.Fragment,{children:[x.jsx(Ot,{category:Ft.PRIMARY,onClick:()=>n(!0),icon:x.jsx(h6,{}),children:t("How to Use")}),e?x.jsx(lf,{title:t("How to Use"),size:gU.LARGE,bodyContent:x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:Sl.TableContainer,children:[x.jsx("h3",{children:t("Notes")}),x.jsxs("table",{className:Sl.Table,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("td",{children:t("Action")}),x.jsx("td",{children:t("How To Do")})]})}),x.jsxs("tbody",{children:[x.jsxs("tr",{children:[x.jsx("td",{children:t("Edit Note")}),x.jsx("td",{children:t("Click the note")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Break Word Into Notes")}),x.jsx("td",{children:t("Add spaces between letters and hit enter (or click outside)")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Change Note Pitch")}),x.jsx("td",{children:t("Click and hold the note, then drag it to the new position")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Add Note")}),x.jsx("td",{children:t("Right-click a note in the chart")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Remove Note")}),x.jsx("td",{children:t("Right-click a note in the chart")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Add Multiple Notes")}),x.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),x.jsxs("div",{className:Sl.TableContainer,children:[x.jsx("h3",{children:t("Pitches")}),x.jsxs("table",{className:Sl.Table,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("td",{children:t("Action")}),x.jsx("td",{children:t("How To Do")})]})}),x.jsxs("tbody",{children:[x.jsxs("tr",{children:[x.jsx("td",{children:t("Add Pitch")}),x.jsx("td",{children:t("Right-click a note in the chart")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Remove Pitch")}),x.jsx("td",{children:t("Right-click a note in the chart")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Add Multiple Pitches")}),x.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),x.jsxs("div",{className:Sl.TableContainer,children:[x.jsx("h3",{children:t("Keyboard Shortcuts when Editing Note")}),x.jsxs("table",{className:Sl.Table,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("td",{children:t("Action")}),x.jsx("td",{children:t("How To Do")})]})}),x.jsxs("tbody",{children:[x.jsxs("tr",{children:[x.jsx("td",{children:t("Save")}),x.jsx("td",{children:t("Enter")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Cancel")}),x.jsx("td",{children:t("Esc")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Navigate Notes")}),x.jsx("td",{children:t("Tab or Shift + Tab")})]}),x.jsxs("tr",{children:[x.jsx("td",{children:t("Navigate Pitches")}),x.jsx("td",{children:t("Arrow Up or Arrow Down")})]})]})]})]})]}),footerContent:x.jsx(x.Fragment,{children:x.jsx(Ot,{onClick:()=>n(!1),children:t("Close")})})}):x.jsx(x.Fragment,{})]})},aF=O.memo(sF),oF="_SongTitle_rcztm_1",lF="_CheckboxContainer_rcztm_8",Nw={SongTitle:oF,CheckboxContainer:lF},uF=t=>{const{id:e,title:n,notesFnsRef:r}=t,{t:s}=$t(),o=Ta(),[u,f]=O.useState(!1),[d,g]=O.useState(n),y=O.useCallback(()=>{f(!0)},[]),_=O.useCallback(A=>{A.key==="Enter"&&A.target.blur()},[]),E=O.useCallback(()=>{f(!1),o(Hr.editSongTitle({id:e,title:d}))},[o,e,d]),T=O.useCallback(A=>{var k;(k=r.current)==null||k.setWrapNotes(A)},[r]);return x.jsx(x.Fragment,{children:u?x.jsx(ss,{autoFocus:!0,type:"text",value:d,onChange:A=>g(A.target.value),onKeyDown:_,onBlur:E}):x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:Nw.SongTitle,onDoubleClick:y,children:d}),x.jsx(nF,{songId:e,notesFnsRef:r}),x.jsx(lU,{className:Nw.CheckboxContainer,label:s("Break Chart"),initialValue:!0,onChange:T})]})})},cF=O.memo(uF),fF="_Song_6jqb9_1",hF="_SongTitleContainer_6jqb9_7",Pw={Song:fF,SongTitleContainer:hF},dF=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,song:r}=t,{t:s}=$t(),o=O.useRef(null),u=O.useRef(null);return x.jsxs("div",{className:Pw.Song,children:[x.jsx(aF,{}),x.jsx(Ot,{category:Ft.PRIMARY,onClick:()=>{var f;return(f=o.current)==null?void 0:f.show()},icon:x.jsx(p6,{}),children:s("Configure Song")}),x.jsx("div",{className:Pw.SongTitleContainer,children:x.jsx(cF,{id:r.id,title:r.title,notesFnsRef:e})}),x.jsx(Jz,{notes:r.notes,notesFnsRef:e}),x.jsx(oz,{configSongDialogFnsRef:o,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:u,notesFnsRef:e}),x.jsx(uz,{deleteSongDialogFnsRef:u,song:r})]})},mF=O.memo(dF),{t:gF}=Mt,pF=t=>t.length?t.map(e=>x.jsx("li",{children:x.jsx(xv,{to:{pathname:"/chart",search:`?id=${e.id}`},children:e.title})},e.id)):x.jsx("li",{children:gF("No songs here. What about adding one?")}),yF="_SongListContainer_v77t5_1",vF="_SongList_v77t5_1",Mw={SongListContainer:yF,SongList:vF},_F=()=>{const{t}=$t(),e=zt(Br.selectAllSongs);return x.jsxs("div",{className:Mw.SongListContainer,children:[x.jsx("h2",{children:t("Song List")}),x.jsx("ul",{className:Mw.SongList,children:pF(e)})]})},EF=O.memo(_F),SF="_HeaderBar_1obea_1",bF="_Header_1obea_1",TF="_MenuOptionsExtraSmall_1obea_20",wF="_MenuOptionsSmallOrBigger_1obea_29",AF="_MenuOptionsContainer_1obea_41",CF="_DivisorTop_1obea_52",RF="_ContentContainer_1obea_63",so={HeaderBar:SF,Header:bF,MenuOptionsExtraSmall:TF,MenuOptionsSmallOrBigger:wF,MenuOptionsContainer:AF,DivisorTop:CF,ContentContainer:RF},xF=()=>{const{t}=$t(),e=Ta(),n=zt($r.isLoggedIn),[r,s]=O.useState(!1),o=O.useCallback(u=>{u.preventDefault(),e(co.signOutUser())},[e]);return x.jsxs("div",{className:so.HeaderBar,children:[x.jsxs("div",{className:so.Header,children:[x.jsx(T6,{}),x.jsx("h1",{children:"Melo Chart"}),n?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:so.MenuOptionsSmallOrBigger,children:[x.jsx("ul",{children:x.jsx("li",{children:x.jsx(xv,{to:{pathname:""},children:t("My songs")})})}),x.jsx(Ot,{category:Ft.DANGER,textOnly:!0,onClick:o,children:t("Sign Out")})]}),x.jsx("div",{className:so.MenuOptionsExtraSmall,children:x.jsx(Ot,{onClick:()=>s(u=>!u),children:x.jsx(c6,{})})})]}):x.jsx(x.Fragment,{})]}),n&&r?x.jsx("div",{className:so.MenuOptionsContainer,children:x.jsxs("ul",{children:[x.jsx("li",{children:x.jsx(xv,{to:{pathname:""},children:t("My songs")})}),x.jsx("li",{className:so.DivisorTop,children:x.jsx(Ot,{category:Ft.DANGER,textOnly:!0,onClick:o,children:t("Sign Out")})})]})}):x.jsx(x.Fragment,{})]})},IF=t=>{const{children:e}=t;return x.jsx("div",{className:so.ContentContainer,children:e})},OF=()=>{const t=Yr(),e=zt($r.isFirebaseOnAuthStateChangedStatusComplete);return O.useMemo(()=>{const n=t.search.startsWith("?url=");return e&&!n},[e,t.search]),x.jsxs(x.Fragment,{children:[x.jsx(tz,{}),x.jsx(xF,{}),x.jsx(IF,{children:x.jsx(Uk,{})})]})},DF=O.memo(OF),NF="_Chart_m1uz3_1",PF={Chart:NF},MF=()=>{const t=O.useRef(null),e=O.useRef(null),[n]=Wv(),r=n.get("id")||null,s=zt(Br.selectSongById(r)),o=O.useCallback(d=>{var g;(g=t.current)==null||g.addWordsAsNotes(d)},[]),u=O.useCallback(()=>{var _;if(!s)return!1;const d=JSON.stringify(s.notes),g=((_=t.current)==null?void 0:_.getNotes())||[],y=JSON.stringify(g);return d!=y},[s,t]),f=Ik(u);return x.jsxs("div",{className:PF.Chart,children:[s?x.jsx(mF,{notesFnsRef:t,generateChartDialogFnsRef:e,song:s}):x.jsx(rC,{to:"/"}),x.jsx(dz,{show:f.state==="blocked",onConfirm:()=>f.proceed(),onCancel:()=>f.reset()}),x.jsx(fz,{generateChartDialogFnsRef:e,onAddWordsAsNotes:o})]})},kF=O.memo(MF),LF="_Home_1ni6n_1",UF={Home:LF},VF=()=>x.jsxs("div",{className:UF.Home,children:[x.jsx(sz,{}),x.jsx(EF,{})]}),jF=O.memo(VF),zF="_LoginContainer_162n2_1",FF="_Login_162n2_1",kw={LoginContainer:zF,Login:FF},BF=()=>{const{t}=$t(),e=Ta(),n=zt($r.selectSignUpError),r=zt($r.selectSignInError),s=O.useRef(null),[o,u]=O.useState(!0),[f,d]=O.useState(""),[g,y]=O.useState(""),[_,E]=O.useState(""),T=O.useCallback(()=>{const G=s.current===document.activeElement;return f||G?f:g.split("@")[0]||""},[g,f]),A=O.useCallback(G=>{G.preventDefault(),e(co.signInUser({email:g,password:_}))},[e,g,_]),k=O.useCallback(G=>{G.preventDefault(),e(co.signUpUser({username:T(),email:g,password:_}))},[e,g,T,_]),M=O.useCallback(()=>{e(co.clearSignUpError())},[e]),j=O.useCallback(()=>{e(co.clearSignInError())},[e]);return x.jsxs("div",{className:kw.LoginContainer,children:[x.jsxs("form",{className:kw.Login,onSubmit:o?A:k,children:[x.jsx("h2",{children:t(o?"Login":"Create an Account")}),x.jsx(is,{label:t("Email"),field:x.jsx(ss,{type:"text",name:"email",value:g,onChange:G=>y(G.target.value)})}),x.jsx(is,{label:t("Password"),field:x.jsx(ss,{type:"password",name:"password",value:_,onChange:G=>E(G.target.value)})}),o?x.jsx(x.Fragment,{}):x.jsx(is,{label:t("Username"),field:x.jsx(ss,{ref:s,type:"text",name:"username",value:T(),onChange:G=>d(G.target.value)})}),x.jsx(Ot,{category:Ft.SUCCESS,icon:o?x.jsx(C6,{}):x.jsx(x6,{}),children:t(o?"Sign in":"Sign up")})]}),o?x.jsx(Ot,{category:Ft.PRIMARY,textOnly:!0,onClick:()=>u(!1),children:t("Don't have an account? Sign up")}):x.jsx(Ot,{category:Ft.PRIMARY,textOnly:!0,onClick:()=>u(!0),children:t("Go back")}),Xc({message:n,onCloseGrowl:M}),Xc({message:r,onCloseGrowl:j})]})},HF=O.memo(BF),qF=t=>{const{children:e}=t,n=Jl(),[r]=Wv(),s=zt($r.isLoggedIn);return O.useEffect(()=>{if(s){const o=r.get("url")||"/";n(o,{replace:!0})}},[s,n,r]),e},Lw=t=>{const{children:e}=t,n=Jl(),r=Yr(),[s]=Wv(),o=zt($r.isLoggedIn),u=zt($r.isLoginVerificationComplete);return O.useEffect(()=>{if(!o){const f=r.pathname+r.search,d=u?"":`?url=${f}`;n(`/login${d}`,{replace:!0})}if(o){const f=s.get("url")||null;f&&n(f,{replace:!0})}},[o,u,r.pathname,r.search,n,s]),e},$F=u4([{path:"/",element:x.jsx(DF,{}),children:[{index:!0,element:x.jsx(Lw,{children:x.jsx(jF,{})})},{path:"login",element:x.jsx(qF,{children:x.jsx(HF,{})})},{path:"chart",element:x.jsx(Lw,{children:x.jsx(kF,{})})},{path:"*",element:x.jsx(rC,{to:"/"})}]}]),GF=()=>x.jsx(Mk,{router:$F}),KF=()=>{const t=Ta(),e=zt($r.selectLoggedUser);return O.useEffect(()=>{e&&t(Hr.loadSongs(e.songs))},[t,e]),O.useEffect(()=>{JN(vs.auth.auth,n=>{n&&t(co.loadUser(n)),t(co.completeFirebaseOnAuthStateChangedStatus())})},[t]),x.jsx(x.Fragment,{children:x.jsx(GF,{})})},YF=O.memo(KF),QF=GU({reducer:{songs:p8,users:z8}});QI.createRoot(document.getElementById("root")).render(x.jsx(O.StrictMode,{children:x.jsx(cO,{store:QF,children:x.jsx(YF,{})})}));export{WF as c,Uw as g};
