var O2=Object.defineProperty;var D2=(n,e,t)=>e in n?O2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ep=(n,e,t)=>D2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Vz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ow(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function N2(){if(tS)return Yu;tS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var nS;function P2(){return nS||(nS=1,bp.exports=N2()),bp.exports}var H=P2(),Sp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function M2(){if(rS)return Ke;rS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function M(L,ie,de){this.props=L,this.context=ie,this.refs=k,this.updater=de||T}M.prototype.isReactComponent={},M.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=M.prototype;function J(L,ie,de){this.props=L,this.context=ie,this.refs=k,this.updater=de||T}var Y=J.prototype=new U;Y.constructor=J,A(Y,M.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function O(L,ie,de,ue,be,Be){return de=Be.ref,{$$typeof:n,type:L,key:ie,ref:de!==void 0?de:null,props:Be}}function I(L,ie){return O(L.type,ie,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return ie[de]})}var j=/\/+/g;function B(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):ie.toString(36)}function N(){}function Re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Fe(L,ie,de,ue,be){var Be=typeof L;(Be==="undefined"||Be==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(Be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case n:case e:Oe=!0;break;case y:return Oe=L._init,Fe(Oe(L._payload),ie,de,ue,be)}}if(Oe)return be=be(L),Oe=ue===""?"."+B(L,0):ue,re(be)?(de="",Oe!=null&&(de=Oe.replace(j,"$&/")+"/"),Fe(be,ie,de,"",function(hr){return hr})):be!=null&&(C(be)&&(be=I(be,de+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+Oe)),ie.push(be)),1;Oe=0;var Bt=ue===""?".":ue+":";if(re(L))for(var bt=0;bt<L.length;bt++)ue=L[bt],Be=Bt+B(ue,bt),Oe+=Fe(ue,ie,de,Be,be);else if(bt=E(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(ue=L.next()).done;)ue=ue.value,Be=Bt+B(ue,bt++),Oe+=Fe(ue,ie,de,Be,be);else if(Be==="object"){if(typeof L.then=="function")return Fe(Re(L),ie,de,ue,be);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(L,ie,de){if(L==null)return L;var ue=[],be=0;return Fe(L,ue,"","",function(Be){return ie.call(de,Be,be++)}),ue}function fe(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var ye=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ne(){}return Ke.Children={map:W,forEach:function(L,ie,de){W(L,function(){ie.apply(this,arguments)},de)},count:function(L){var ie=0;return W(L,function(){ie++}),ie},toArray:function(L){return W(L,function(ie){return ie})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ke.Component=M,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=J,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return X.H.useMemoCache(L)}},Ke.cache=function(L){return function(){return L.apply(null,arguments)}},Ke.cloneElement=function(L,ie,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=A({},L.props),be=L.key,Be=void 0;if(ie!=null)for(Oe in ie.ref!==void 0&&(Be=void 0),ie.key!==void 0&&(be=""+ie.key),ie)!z.call(ie,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ie.ref===void 0||(ue[Oe]=ie[Oe]);var Oe=arguments.length-2;if(Oe===1)ue.children=de;else if(1<Oe){for(var Bt=Array(Oe),bt=0;bt<Oe;bt++)Bt[bt]=arguments[bt+2];ue.children=Bt}return O(L.type,be,void 0,void 0,Be,ue)},Ke.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ke.createElement=function(L,ie,de){var ue,be={},Be=null;if(ie!=null)for(ue in ie.key!==void 0&&(Be=""+ie.key),ie)z.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ie[ue]);var Oe=arguments.length-2;if(Oe===1)be.children=de;else if(1<Oe){for(var Bt=Array(Oe),bt=0;bt<Oe;bt++)Bt[bt]=arguments[bt+2];be.children=Bt}if(L&&L.defaultProps)for(ue in Oe=L.defaultProps,Oe)be[ue]===void 0&&(be[ue]=Oe[ue]);return O(L,Be,void 0,void 0,null,be)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(L){return{$$typeof:f,render:L}},Ke.isValidElement=C,Ke.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:fe}},Ke.memo=function(L,ie){return{$$typeof:g,type:L,compare:ie===void 0?null:ie}},Ke.startTransition=function(L){var ie=X.T,de={};X.T=de;try{var ue=L(),be=X.S;be!==null&&be(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ne,ye)}catch(Be){ye(Be)}finally{X.T=ie}},Ke.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ke.use=function(L){return X.H.use(L)},Ke.useActionState=function(L,ie,de){return X.H.useActionState(L,ie,de)},Ke.useCallback=function(L,ie){return X.H.useCallback(L,ie)},Ke.useContext=function(L){return X.H.useContext(L)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(L,ie){return X.H.useDeferredValue(L,ie)},Ke.useEffect=function(L,ie,de){var ue=X.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(L,ie)},Ke.useId=function(){return X.H.useId()},Ke.useImperativeHandle=function(L,ie,de){return X.H.useImperativeHandle(L,ie,de)},Ke.useInsertionEffect=function(L,ie){return X.H.useInsertionEffect(L,ie)},Ke.useLayoutEffect=function(L,ie){return X.H.useLayoutEffect(L,ie)},Ke.useMemo=function(L,ie){return X.H.useMemo(L,ie)},Ke.useOptimistic=function(L,ie){return X.H.useOptimistic(L,ie)},Ke.useReducer=function(L,ie,de){return X.H.useReducer(L,ie,de)},Ke.useRef=function(L){return X.H.useRef(L)},Ke.useState=function(L){return X.H.useState(L)},Ke.useSyncExternalStore=function(L,ie,de){return X.H.useSyncExternalStore(L,ie,de)},Ke.useTransition=function(){return X.H.useTransition()},Ke.version="19.1.0",Ke}var iS;function Fd(){return iS||(iS=1,Sp.exports=M2()),Sp.exports}var x=Fd();const Dw=Ow(x);var Tp={exports:{}},Qu={},wp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function k2(){return aS||(aS=1,function(n){function e(W,fe){var ye=W.length;W.push(fe);e:for(;0<ye;){var Ne=ye-1>>>1,L=W[Ne];if(0<s(L,fe))W[Ne]=fe,W[ye]=L,ye=Ne;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var fe=W[0],ye=W.pop();if(ye!==fe){W[0]=ye;e:for(var Ne=0,L=W.length,ie=L>>>1;Ne<ie;){var de=2*(Ne+1)-1,ue=W[de],be=de+1,Be=W[be];if(0>s(ue,ye))be<L&&0>s(Be,ue)?(W[Ne]=Be,W[be]=ye,Ne=be):(W[Ne]=ue,W[de]=ye,Ne=de);else if(be<L&&0>s(Be,ye))W[Ne]=Be,W[be]=ye,Ne=be;else break e}}return fe}function s(W,fe){var ye=W.sortIndex-fe.sortIndex;return ye!==0?ye:W.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],g=[],y=1,_=null,E=3,T=!1,A=!1,k=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var fe=t(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=W)r(g),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(g)}}function X(W){if(k=!1,re(W),!A)if(t(d)!==null)A=!0,z||(z=!0,B());else{var fe=t(g);fe!==null&&Fe(X,fe.startTime-W)}}var z=!1,O=-1,I=5,C=-1;function D(){return M?!0:!(n.unstable_now()-C<I)}function j(){if(M=!1,z){var W=n.unstable_now();C=W;var fe=!0;try{e:{A=!1,k&&(k=!1,J(O),O=-1),T=!0;var ye=E;try{t:{for(re(W),_=t(d);_!==null&&!(_.expirationTime>W&&D());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,E=_.priorityLevel;var L=Ne(_.expirationTime<=W);if(W=n.unstable_now(),typeof L=="function"){_.callback=L,re(W),fe=!0;break t}_===t(d)&&r(d),re(W)}else r(d);_=t(d)}if(_!==null)fe=!0;else{var ie=t(g);ie!==null&&Fe(X,ie.startTime-W),fe=!1}}break e}finally{_=null,E=ye,T=!1}fe=void 0}}finally{fe?B():z=!1}}}var B;if(typeof Y=="function")B=function(){Y(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=j,B=function(){Re.postMessage(null)}}else B=function(){U(j,0)};function Fe(W,fe){O=U(function(){W(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ye=E;E=fe;try{return W()}finally{E=ye}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=E;E=W;try{return fe()}finally{E=ye}},n.unstable_scheduleCallback=function(W,fe,ye){var Ne=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ne+ye:Ne):ye=Ne,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ye+L,W={id:y++,callback:fe,priorityLevel:W,startTime:ye,expirationTime:L,sortIndex:-1},ye>Ne?(W.sortIndex=ye,e(g,W),t(d)===null&&W===t(g)&&(k?(J(O),O=-1):k=!0,Fe(X,ye-Ne))):(W.sortIndex=L,e(d,W),A||T||(A=!0,z||(z=!0,B()))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var fe=E;return function(){var ye=E;E=fe;try{return W.apply(this,arguments)}finally{E=ye}}}}(Ap)),Ap}var sS;function L2(){return sS||(sS=1,wp.exports=k2()),wp.exports}var Rp={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function V2(){if(oS)return In;oS=1;var n=Fd();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,y)},In.flushSync=function(d){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=g,r.p=y,r.d.f()}},In.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},In.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},In.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},In.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},In.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},In.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},In.requestFormReset=function(d){r.d.r(d)},In.unstable_batchedUpdates=function(d,g){return d(g)},In.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.1.0",In}var lS;function Nw(){if(lS)return Rp.exports;lS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rp.exports=V2(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function U2(){if(uS)return Qu;uS=1;var n=L2(),e=Fd(),t=Nw();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),i;if(p===c)return f(m),a;p=p.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=p;else{for(var S=!1,w=m.child;w;){if(w===l){S=!0,l=m,c=p;break}if(w===c){S=!0,c=m,l=p;break}w=w.sibling}if(!S){for(w=p.child;w;){if(w===l){S=!0,l=p,c=m;break}if(w===c){S=!0,c=p,l=m;break}w=w.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case X:return"Suspense";case z:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case J:return(i._context.displayName||"Context")+".Consumer";case re:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:Re(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return Re(i(a))}catch{}}return null}var Fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ne=[],L=-1;function ie(i){return{current:i}}function de(i){0>L||(i.current=Ne[L],Ne[L]=null,L--)}function ue(i,a){L++,Ne[L]=i.current,i.current=a}var be=ie(null),Be=ie(null),Oe=ie(null),Bt=ie(null);function bt(i,a){switch(ue(Oe,a),ue(Be,i),ue(be,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?xb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=xb(a),i=Ob(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(be),ue(be,i)}function hr(){de(be),de(Be),de(Oe)}function Ot(i){i.memoizedState!==null&&ue(Bt,i);var a=be.current,l=Ob(a,i.type);a!==l&&(ue(Be,i),ue(be,l))}function wn(i){Be.current===i&&(de(be),de(Be)),Bt.current===i&&(de(Bt),Hu._currentValue=ye)}var Gr=Object.prototype.hasOwnProperty,Ai=n.unstable_scheduleCallback,Mn=n.unstable_cancelCallback,_s=n.unstable_shouldYield,Eo=n.unstable_requestPaint,kn=n.unstable_now,Xl=n.unstable_getCurrentPriorityLevel,Es=n.unstable_ImmediatePriority,da=n.unstable_UserBlockingPriority,Ri=n.unstable_NormalPriority,Pr=n.unstable_LowPriority,dr=n.unstable_IdlePriority,ma=n.log,ga=n.unstable_setDisableYieldValue,mt=null,Ye=null;function An(i){if(typeof ma=="function"&&ga(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(mt,i)}catch{}}var Ht=Math.clz32?Math.clz32:Kr,bo=Math.log,mr=Math.LN2;function Kr(i){return i>>>=0,i===0?32:31-(bo(i)/mr|0)|0}var Yr=256,Qr=4194304;function Qn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ci(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,p=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?m=Qn(c):(S&=w,S!==0?m=Qn(S):l||(l=w&~i,l!==0&&(m=Qn(l))))):(w=c&~p,w!==0?m=Qn(w):S!==0?m=Qn(S):l||(l=c&~i,l!==0&&(m=Qn(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function gr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function pa(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(){var i=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),i}function bs(){var i=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),i}function pr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Mr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ya(i,a,l,c,m,p){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,P=i.expirationTimes,Z=i.hiddenUpdates;for(l=S&~l;0<l;){var ae=31-Ht(l),le=1<<ae;w[ae]=0,P[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}l&=~le}c!==0&&Ln(i,c,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(S&~a))}function Ln(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Ht(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Xr(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Ht(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function Wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function V(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:Qb(i.type))}function $(i,a){var l=fe.p;try{return fe.p=i,a()}finally{fe.p=l}}var Q=Math.random().toString(36).slice(2),oe="__reactFiber$"+Q,me="__reactProps$"+Q,ve="__reactContainer$"+Q,De="__reactEvents$"+Q,Ee="__reactListeners$"+Q,Te="__reactHandles$"+Q,Ce="__reactResources$"+Q,Me="__reactMarker$"+Q;function we(i){delete i[oe],delete i[me],delete i[De],delete i[Ee],delete i[Te]}function Le(i){var a=i[oe];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ve]||l[oe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Mb(i);i!==null;){if(l=i[oe])return l;i=Mb(i)}return a}i=l,l=i.parentNode}return null}function et(i){if(i=i[oe]||i[ve]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function pt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ht(i){var a=i[Ce];return a||(a=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(i){i[Me]=!0}var We=new Set,yr={};function Qt(i,a){Vn(i,a),Vn(i+"Capture",a)}function Vn(i,a){for(yr[i]=a,i=0;i<a.length;i++)We.add(a[i])}var hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Xn={};function _a(i){return Gr.call(Xn,i)?!0:Gr.call(Zr,i)?!1:hn.test(i)?Xn[i]=!0:(Zr[i]=!0,!1)}function Rn(i,a,l){if(_a(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Un(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function He(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var qt,Wn;function Fn(i){if(qt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);qt=a&&a[1]||"",Wn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+i+Wn}var Jr=!1;function Rt(i,a){if(!i||Jr)return"";Jr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var ee=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){ee=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){ee=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),S=p[0],w=p[1];if(S&&w){var P=S.split(`
`),Z=w.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===Z.length)for(c=P.length-1,m=Z.length-1;1<=c&&0<=m&&P[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==Z[m]){var ae=`
`+P[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=m);break}}}finally{Jr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Fn(l):""}function vr(i){switch(i.tag){case 26:case 27:case 5:return Fn(i.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Fn("Activity");default:return""}}function xi(i){try{var a="";do a+=vr(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wl(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wm(i){var a=Wl(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,p.call(this,S)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function So(i){i._valueTracker||(i._valueTracker=wm(i))}function Zl(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Wl(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Ss(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Am=/[\n"\\]/g;function $t(i){return i.replace(Am,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zn(i,a,l,c,m,p,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),a!=null?S==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+dn(a)):i.value!==""+dn(a)&&(i.value=""+dn(a)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),a!=null?Ea(i,S,dn(a)):l!=null?Ea(i,S,dn(l)):c!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+dn(w):i.removeAttribute("name")}function Ts(i,a,l,c,m,p,S,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+dn(l):"",a=a!=null?""+dn(a):l,w||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Ea(i,a,l){a==="number"&&Ss(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Oi(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+dn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function St(i,a,l){if(a!=null&&(a=""+dn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+dn(l):""}function ws(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Fe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=dn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function _r(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||As.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Jl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&of(i,m,c)}else for(var p in a)a.hasOwnProperty(p)&&of(i,p,a[p])}function eu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return Cm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Di=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ni=null,Pi=null;function tu(i){var a=et(i);if(a&&(i=a.stateNode)){var l=i[me]||null;e:switch(i=a.stateNode,a.type){case"input":if(Zn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[me]||null;if(!m)throw Error(r(90));Zn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Zl(c)}break e;case"textarea":St(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Oi(i,!!l.multiple,a,!1)}}}var ei=!1;function lf(i,a,l){if(ei)return i(a,l);ei=!0;try{var c=i(a);return c}finally{if(ei=!1,(Ni!==null||Pi!==null)&&(th(),Ni&&(a=Ni,i=Pi,Pi=Ni=null,tu(a),i)))for(a=0;a<i.length;a++)tu(i[a])}}function Rs(i,a){var l=i.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(kr)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){br=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{br=!1}var ti=null,ba=null,Mi=null;function nu(){if(Mi)return Mi;var i,a=ba,l=a.length,c,m="value"in ti?ti.value:ti.textContent,p=m.length;for(i=0;i<l&&a[i]===m[i];i++);var S=l-i;for(c=1;c<=S&&a[l-c]===m[p-c];c++);return Mi=m.slice(i,1<c?1-c:void 0)}function ni(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function ru(){return!1}function sn(i){function a(l,c,m,p,S){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ri:ru,this.isPropagationStopped=ru,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),a}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=sn(yt),Is=y({},yt,{view:0,detail:0}),uf=sn(Is),Ao,Ro,ii,xs=y({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(Ao=i.screenX-ii.screenX,Ro=i.screenY-ii.screenY):Ro=Ao=0,ii=i),Ao)},movementY:function(i){return"movementY"in i?i.movementY:Ro}}),Sr=sn(xs),cf=y({},xs,{dataTransfer:0}),Im=sn(cf),Os=y({},Is,{relatedTarget:0}),Co=sn(Os),iu=y({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=sn(iu),ff=y({},yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xo=sn(ff),xm=y({},yt,{data:0}),au=sn(xm),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=df[i])?!!a[i]:!1}function Ns(){return su}var mf=y({},Is,{key:function(i){if(i.key){var a=Ds[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oo=sn(mf),gf=y({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=sn(gf),ki=y({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),pf=sn(ki),yf=y({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vf=sn(yf),_f=y({},xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=sn(_f),jn=y({},yt,{newState:0,oldState:0}),Ef=sn(jn),bf=[9,13,27,32],ai=kr&&"CompositionEvent"in window,h=null;kr&&"documentMode"in document&&(h=document.documentMode);var v=kr&&"TextEvent"in window&&!h,b=kr&&(!ai||h&&8<h&&11>=h),R=" ",G=!1;function ne(i,a){switch(i){case"keyup":return bf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ot=!1;function Xt(i,a){switch(i){case"compositionend":return pe(a);case"keypress":return a.which!==32?null:(G=!0,R);case"textInput":return i=a.data,i===R&&G?null:i;default:return null}}function lt(i,a){if(ot)return i==="compositionend"||!ai&&ne(i,a)?(i=nu(),Mi=ba=ti=null,ot=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!on[i.type]:a==="textarea"}function Li(i,a,l,c){Ni?Pi?Pi.push(c):Pi=[c]:Ni=c,a=oh(a,"onChange"),0<a.length&&(l=new wo("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var mn=null,si=null;function lu(i){wb(i,0)}function Sf(i){var a=pt(i);if(Zl(a))return i}function $_(i,a){if(i==="change")return a}var G_=!1;if(kr){var Om;if(kr){var Dm="oninput"in document;if(!Dm){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Dm=typeof K_.oninput=="function"}Om=Dm}else Om=!1;G_=Om&&(!document.documentMode||9<document.documentMode)}function Y_(){mn&&(mn.detachEvent("onpropertychange",Q_),si=mn=null)}function Q_(i){if(i.propertyName==="value"&&Sf(si)){var a=[];Li(a,si,i,Er(i)),lf(lu,a)}}function sx(i,a,l){i==="focusin"?(Y_(),mn=a,si=l,mn.attachEvent("onpropertychange",Q_)):i==="focusout"&&Y_()}function ox(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sf(si)}function lx(i,a){if(i==="click")return Sf(a)}function ux(i,a){if(i==="input"||i==="change")return Sf(a)}function cx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Jn=typeof Object.is=="function"?Object.is:cx;function uu(i,a){if(Jn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Gr.call(a,m)||!Jn(i[m],a[m]))return!1}return!0}function X_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function W_(i,a){var l=X_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=X_(l)}}function Z_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Z_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function J_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ss(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ss(i.document)}return a}function Nm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var fx=kr&&"documentMode"in document&&11>=document.documentMode,No=null,Pm=null,cu=null,Mm=!1;function e0(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mm||No==null||No!==Ss(c)||(c=No,"selectionStart"in c&&Nm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cu&&uu(cu,c)||(cu=c,c=oh(Pm,"onSelect"),0<c.length&&(a=new wo("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=No)))}function Ps(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Po={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},km={},t0={};kr&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Ms(i){if(km[i])return km[i];if(!Po[i])return i;var a=Po[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in t0)return km[i]=a[l];return i}var n0=Ms("animationend"),r0=Ms("animationiteration"),i0=Ms("animationstart"),hx=Ms("transitionrun"),dx=Ms("transitionstart"),mx=Ms("transitioncancel"),a0=Ms("transitionend"),s0=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lm.push("scrollEnd");function Lr(i,a){s0.set(i,a),Qt(a,[i])}var o0=new WeakMap;function Tr(i,a){if(typeof i=="object"&&i!==null){var l=o0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:xi(a)},o0.set(i,a),a)}return{value:i,source:a,stack:xi(a)}}var wr=[],Mo=0,Vm=0;function Tf(){for(var i=Mo,a=Vm=Mo=0;a<i;){var l=wr[a];wr[a++]=null;var c=wr[a];wr[a++]=null;var m=wr[a];wr[a++]=null;var p=wr[a];if(wr[a++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}p!==0&&l0(l,m,p)}}function wf(i,a,l,c){wr[Mo++]=i,wr[Mo++]=a,wr[Mo++]=l,wr[Mo++]=c,Vm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Um(i,a,l,c){return wf(i,a,l,c),Af(i)}function ko(i,a){return wf(i,null,null,a),Af(i)}function l0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=i.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&a!==null&&(m=31-Ht(l),i=p.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),p):null}function Af(i){if(50<ku)throw ku=0,qg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Lo={};function gx(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(i,a,l,c){return new gx(i,a,l,c)}function jm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vi(i,a){var l=i.alternate;return l===null?(l=er(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function u0(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Rf(i,a,l,c,m,p){var S=0;if(c=i,typeof i=="function")jm(i)&&(S=1);else if(typeof i=="string")S=y2(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=er(31,l,a,m),i.elementType=C,i.lanes=p,i;case A:return ks(l.children,m,p,a);case k:S=8,m|=24;break;case M:return i=er(12,l,a,m|2),i.elementType=M,i.lanes=p,i;case X:return i=er(13,l,a,m),i.elementType=X,i.lanes=p,i;case z:return i=er(19,l,a,m),i.elementType=z,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case Y:S=10;break e;case J:S=9;break e;case re:S=11;break e;case O:S=14;break e;case I:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=er(S,l,a,m),a.elementType=i,a.type=c,a.lanes=p,a}function ks(i,a,l,c){return i=er(7,i,c,a),i.lanes=l,i}function zm(i,a,l){return i=er(6,i,null,a),i.lanes=l,i}function Fm(i,a,l){return a=er(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Vo=[],Uo=0,Cf=null,If=0,Ar=[],Rr=0,Ls=null,Ui=1,ji="";function Vs(i,a){Vo[Uo++]=If,Vo[Uo++]=Cf,Cf=i,If=a}function c0(i,a,l){Ar[Rr++]=Ui,Ar[Rr++]=ji,Ar[Rr++]=Ls,Ls=i;var c=Ui;i=ji;var m=32-Ht(c)-1;c&=~(1<<m),l+=1;var p=32-Ht(a)+m;if(30<p){var S=m-m%5;p=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Ui=1<<32-Ht(a)+m|l<<m|c,ji=p+i}else Ui=1<<p|l<<m|c,ji=i}function Bm(i){i.return!==null&&(Vs(i,1),c0(i,1,0))}function Hm(i){for(;i===Cf;)Cf=Vo[--Uo],Vo[Uo]=null,If=Vo[--Uo],Vo[Uo]=null;for(;i===Ls;)Ls=Ar[--Rr],Ar[Rr]=null,ji=Ar[--Rr],Ar[Rr]=null,Ui=Ar[--Rr],Ar[Rr]=null}var zn=null,Vt=null,gt=!1,Us=null,oi=!1,qm=Error(r(519));function js(i){var a=Error(r(418,""));throw du(Tr(a,i)),qm}function f0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[oe]=i,a[me]=c,l){case"dialog":nt("cancel",a),nt("close",a);break;case"iframe":case"object":case"embed":nt("load",a);break;case"video":case"audio":for(l=0;l<Vu.length;l++)nt(Vu[l],a);break;case"source":nt("error",a);break;case"img":case"image":case"link":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"input":nt("invalid",a),Ts(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),So(a);break;case"select":nt("invalid",a);break;case"textarea":nt("invalid",a),ws(a,c.value,c.defaultValue,c.children),So(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Ib(a.textContent,l)?(c.popover!=null&&(nt("beforetoggle",a),nt("toggle",a)),c.onScroll!=null&&nt("scroll",a),c.onScrollEnd!=null&&nt("scrollend",a),c.onClick!=null&&(a.onclick=lh),a=!0):a=!1,a||js(i)}function h0(i){for(zn=i.return;zn;)switch(zn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:zn=zn.return}}function fu(i){if(i!==zn)return!1;if(!gt)return h0(i),gt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||sp(i.type,i.memoizedProps)),l=!l),l&&Vt&&js(i),h0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Vt=Ur(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Vt=null}}else a===27?(a=Vt,Va(i.type)?(i=cp,cp=null,Vt=i):Vt=a):Vt=zn?Ur(i.stateNode.nextSibling):null;return!0}function hu(){Vt=zn=null,gt=!1}function d0(){var i=Us;return i!==null&&(qn===null?qn=i:qn.push.apply(qn,i),Us=null),i}function du(i){Us===null?Us=[i]:Us.push(i)}var $m=ie(null),zs=null,zi=null;function Sa(i,a,l){ue($m,a._currentValue),a._currentValue=l}function Fi(i){i._currentValue=$m.current,de($m)}function Gm(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Km(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=m;for(var P=0;P<a.length;P++)if(w.context===a[P]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Gm(p.return,l,i),c||(S=null);break e}p=w.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Gm(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function mu(i,a,l,c){i=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var w=m.type;Jn(m.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(m===Bt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Hu):i=[Hu])}m=m.return}i!==null&&Km(a,i,l,c),a.flags|=262144}function xf(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fs(i){zs=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Cn(i){return m0(zs,i)}function Of(i,a){return zs===null&&Fs(i),m0(i,a)}function m0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},zi===null){if(i===null)throw Error(r(308));zi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else zi=zi.next=a;return l}var px=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},yx=n.unstable_scheduleCallback,vx=n.unstable_NormalPriority,Zt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ym(){return{controller:new px,data:new Map,refCount:0}}function gu(i){i.refCount--,i.refCount===0&&yx(vx,function(){i.controller.abort()})}var pu=null,Qm=0,jo=0,zo=null;function _x(i,a){if(pu===null){var l=pu=[];Qm=0,jo=Wg(),zo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Qm++,a.then(g0,g0),a}function g0(){if(--Qm===0&&pu!==null){zo!==null&&(zo.status="fulfilled");var i=pu;pu=null,jo=0,zo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Ex(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var p0=W.S;W.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&_x(i,a),p0!==null&&p0(i,a)};var Bs=ie(null);function Xm(){var i=Bs.current;return i!==null?i:It.pooledCache}function Df(i,a){a===null?ue(Bs,Bs.current):ue(Bs,a.pool)}function y0(){var i=Xm();return i===null?null:{parent:Zt._currentValue,pool:i}}var yu=Error(r(460)),v0=Error(r(474)),Nf=Error(r(542)),Wm={then:function(){}};function _0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pf(){}function E0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Pf,Pf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,S0(i),i;default:if(typeof a.status=="string")a.then(Pf,Pf);else{if(i=It,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,S0(i),i}throw vu=a,yu}}var vu=null;function b0(){if(vu===null)throw Error(r(459));var i=vu;return vu=null,i}function S0(i){if(i===yu||i===Nf)throw Error(r(483))}var Ta=!1;function Zm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Aa(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(_t&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Af(i),l0(i,null,l),a}return wf(i,c,a,l),Af(i)}function _u(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xr(i,l)}}function eg(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var tg=!1;function Eu(){if(tg){var i=zo;if(i!==null)throw i}}function bu(i,a,l,c){tg=!1;var m=i.updateQueue;Ta=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var P=w,Z=P.next;P.next=null,S===null?p=Z:S.next=Z,S=P;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,w=ae.lastBaseUpdate,w!==S&&(w===null?ae.firstBaseUpdate=Z:w.next=Z,ae.lastBaseUpdate=P))}if(p!==null){var le=m.baseState;S=0,ae=Z=P=null,w=p;do{var ee=w.lane&-536870913,te=ee!==w.lane;if(te?(ut&ee)===ee:(c&ee)===ee){ee!==0&&ee===jo&&(tg=!0),ae!==null&&(ae=ae.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ze=i,ke=w;ee=a;var At=l;switch(ke.tag){case 1:if(ze=ke.payload,typeof ze=="function"){le=ze.call(At,le,ee);break e}le=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=ke.payload,ee=typeof ze=="function"?ze.call(At,le,ee):ze,ee==null)break e;le=y({},le,ee);break e;case 2:Ta=!0}}ee=w.callback,ee!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ae===null?(Z=ae=te,P=le):ae=ae.next=te,S|=ee;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;te=w,w=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ae===null&&(P=le),m.baseState=P,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,p===null&&(m.shared.lanes=0),Pa|=S,i.lanes=S,i.memoizedState=le}}function T0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function w0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)T0(l[i],a)}var Fo=ie(null),Mf=ie(0);function A0(i,a){i=Yi,ue(Mf,i),ue(Fo,a),Yi=i|a.baseLanes}function ng(){ue(Mf,Yi),ue(Fo,Fo.current)}function rg(){Yi=Mf.current,de(Fo),de(Mf)}var Ra=0,Qe=null,Tt=null,Gt=null,kf=!1,Bo=!1,Hs=!1,Lf=0,Su=0,Ho=null,bx=0;function jt(){throw Error(r(321))}function ig(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Jn(i[l],a[l]))return!1;return!0}function ag(i,a,l,c,m,p){return Ra=p,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?lE:uE,Hs=!1,p=l(c,m),Hs=!1,Bo&&(p=C0(a,l,c,m)),R0(i),p}function R0(i){W.H=Bf;var a=Tt!==null&&Tt.next!==null;if(Ra=0,Gt=Tt=Qe=null,kf=!1,Su=0,Ho=null,a)throw Error(r(300));i===null||ln||(i=i.dependencies,i!==null&&xf(i)&&(ln=!0))}function C0(i,a,l,c){Qe=i;var m=0;do{if(Bo&&(Ho=null),Su=0,Bo=!1,25<=m)throw Error(r(301));if(m+=1,Gt=Tt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=Ix,p=a(l,c)}while(Bo);return p}function Sx(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?Tu(a):a,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Qe.flags|=1024),a}function sg(){var i=Lf!==0;return Lf=0,i}function og(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function lg(i){if(kf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}kf=!1}Ra=0,Gt=Tt=Qe=null,Bo=!1,Su=Lf=0,Ho=null}function Bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Qe.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Kt(){if(Tt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var a=Gt===null?Qe.memoizedState:Gt.next;if(a!==null)Gt=a,Tt=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Gt===null?Qe.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(i){var a=Su;return Su+=1,Ho===null&&(Ho=[]),i=E0(Ho,i,a),a=Qe,(Gt===null?a.memoizedState:Gt.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?lE:uE),i}function Vf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tu(i);if(i.$$typeof===Y)return Cn(i)}throw Error(r(438,String(i)))}function cg(i){var a=null,l=Qe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ug(),Qe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=D;return a.index++,l}function Bi(i,a){return typeof a=="function"?a(i):a}function Uf(i){var a=Kt();return fg(a,Tt,i)}function fg(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,p=c.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}a.baseQueue=m=p,c.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{a=m.next;var w=S=null,P=null,Z=a,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(ut&le)===le:(Ra&le)===le){var ee=Z.revertLane;if(ee===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===jo&&(ae=!0);else if((Ra&ee)===ee){Z=Z.next,ee===jo&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(w=P=le,S=p):P=P.next=le,Qe.lanes|=ee,Pa|=ee;le=Z.action,Hs&&l(p,le),p=Z.hasEagerState?Z.eagerState:l(p,le)}else ee={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(w=P=ee,S=p):P=P.next=ee,Qe.lanes|=le,Pa|=le;Z=Z.next}while(Z!==null&&Z!==a);if(P===null?S=p:P.next=w,!Jn(p,i.memoizedState)&&(ln=!0,ae&&(l=zo,l!==null)))throw l;i.memoizedState=p,i.baseState=S,i.baseQueue=P,c.lastRenderedState=p}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function hg(i){var a=Kt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=i(p,S.action),S=S.next;while(S!==m);Jn(p,a.memoizedState)||(ln=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function I0(i,a,l){var c=Qe,m=Kt(),p=gt;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=a();var S=!Jn((Tt||m).memoizedState,l);S&&(m.memoizedState=l,ln=!0),m=m.queue;var w=D0.bind(null,c,m,i);if(wu(2048,8,w,[i]),m.getSnapshot!==a||S||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,qo(9,jf(),O0.bind(null,c,m,l,a),null),It===null)throw Error(r(349));p||(Ra&124)!==0||x0(c,a,l)}return l}function x0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Qe.updateQueue,a===null?(a=ug(),Qe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function O0(i,a,l,c){a.value=l,a.getSnapshot=c,N0(a)&&P0(i)}function D0(i,a,l){return l(function(){N0(a)&&P0(i)})}function N0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Jn(i,l)}catch{return!0}}function P0(i){var a=ko(i,2);a!==null&&ar(a,i,2)}function dg(i){var a=Bn();if(typeof i=="function"){var l=i;if(i=l(),Hs){An(!0);try{l()}finally{An(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:i},a}function M0(i,a,l,c){return i.baseState=l,fg(i,Tt,typeof c=="function"?c:Bi)}function Tx(i,a,l,c,m){if(Ff(i))throw Error(r(485));if(i=a.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};W.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,k0(a,p)):(p.next=l.next,a.pending=l.next=p)}}function k0(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var p=W.T,S={};W.T=S;try{var w=l(m,c),P=W.S;P!==null&&P(S,w),L0(i,a,w)}catch(Z){mg(i,a,Z)}finally{W.T=p}}else try{p=l(m,c),L0(i,a,p)}catch(Z){mg(i,a,Z)}}function L0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){V0(i,a,c)},function(c){return mg(i,a,c)}):V0(i,a,l)}function V0(i,a,l){a.status="fulfilled",a.value=l,U0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,k0(i,l)))}function mg(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,U0(a),a=a.next;while(a!==c)}i.action=null}function U0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function j0(i,a){return a}function z0(i,a){if(gt){var l=It.formState;if(l!==null){e:{var c=Qe;if(gt){if(Vt){t:{for(var m=Vt,p=oi;m.nodeType!==8;){if(!p){m=null;break t}if(m=Ur(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Vt=Ur(m.nextSibling),c=m.data==="F!";break e}}js(c)}c=!1}c&&(a=l[0])}}return l=Bn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:a},l.queue=c,l=aE.bind(null,Qe,c),c.dispatch=l,c=dg(!1),p=_g.bind(null,Qe,!1,c.queue),c=Bn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=Tx.bind(null,Qe,m,p,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function F0(i){var a=Kt();return B0(a,Tt,i)}function B0(i,a,l){if(a=fg(i,a,j0)[0],i=Uf(Bi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Tu(a)}catch(S){throw S===yu?Nf:S}else c=a;a=Kt();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Qe.flags|=2048,qo(9,jf(),wx.bind(null,m,l),null)),[c,p,i]}function wx(i,a){i.action=a}function H0(i){var a=Kt(),l=Tt;if(l!==null)return B0(a,l,i);Kt(),a=a.memoizedState,l=Kt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function qo(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=ug(),Qe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function jf(){return{destroy:void 0,resource:void 0}}function q0(){return Kt().memoizedState}function zf(i,a,l,c){var m=Bn();c=c===void 0?null:c,Qe.flags|=i,m.memoizedState=qo(1|a,jf(),l,c)}function wu(i,a,l,c){var m=Kt();c=c===void 0?null:c;var p=m.memoizedState.inst;Tt!==null&&c!==null&&ig(c,Tt.memoizedState.deps)?m.memoizedState=qo(a,p,l,c):(Qe.flags|=i,m.memoizedState=qo(1|a,p,l,c))}function $0(i,a){zf(8390656,8,i,a)}function G0(i,a){wu(2048,8,i,a)}function K0(i,a){return wu(4,2,i,a)}function Y0(i,a){return wu(4,4,i,a)}function Q0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function X0(i,a,l){l=l!=null?l.concat([i]):null,wu(4,4,Q0.bind(null,a,i),l)}function gg(){}function W0(i,a){var l=Kt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ig(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function Z0(i,a){var l=Kt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ig(a,c[1]))return c[0];if(c=i(),Hs){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,a],c}function pg(i,a,l){return l===void 0||(Ra&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=tb(),Qe.lanes|=i,Pa|=i,l)}function J0(i,a,l,c){return Jn(l,a)?l:Fo.current!==null?(i=pg(i,l,c),Jn(i,a)||(ln=!0),i):(Ra&42)===0?(ln=!0,i.memoizedState=l):(i=tb(),Qe.lanes|=i,Pa|=i,a)}function eE(i,a,l,c,m){var p=fe.p;fe.p=p!==0&&8>p?p:8;var S=W.T,w={};W.T=w,_g(i,!1,a,l);try{var P=m(),Z=W.S;if(Z!==null&&Z(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=Ex(P,c);Au(i,a,ae,ir(i))}else Au(i,a,c,ir(i))}catch(le){Au(i,a,{then:function(){},status:"rejected",reason:le},ir())}finally{fe.p=p,W.T=S}}function Ax(){}function yg(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=tE(i).queue;eE(i,m,a,ye,l===null?Ax:function(){return nE(i),l(c)})}function tE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ye},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function nE(i){var a=tE(i).next.queue;Au(i,a,{},ir())}function vg(){return Cn(Hu)}function rE(){return Kt().memoizedState}function iE(){return Kt().memoizedState}function Rx(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ir();i=wa(l);var c=Aa(a,i,l);c!==null&&(ar(c,a,l),_u(c,a,l)),a={cache:Ym()},i.payload=a;return}a=a.return}}function Cx(i,a,l){var c=ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ff(i)?sE(a,l):(l=Um(i,a,l,c),l!==null&&(ar(l,i,c),oE(l,a,c)))}function aE(i,a,l){var c=ir();Au(i,a,l,c)}function Au(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ff(i))sE(a,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,w=p(S,l);if(m.hasEagerState=!0,m.eagerState=w,Jn(w,S))return wf(i,a,m,0),It===null&&Tf(),!1}catch{}finally{}if(l=Um(i,a,m,c),l!==null)return ar(l,i,c),oE(l,a,c),!0}return!1}function _g(i,a,l,c){if(c={lane:2,revertLane:Wg(),action:c,hasEagerState:!1,eagerState:null,next:null},Ff(i)){if(a)throw Error(r(479))}else a=Um(i,l,c,2),a!==null&&ar(a,i,2)}function Ff(i){var a=i.alternate;return i===Qe||a!==null&&a===Qe}function sE(i,a){Bo=kf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function oE(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xr(i,l)}}var Bf={readContext:Cn,use:Vf,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},lE={readContext:Cn,use:Vf,useCallback:function(i,a){return Bn().memoizedState=[i,a===void 0?null:a],i},useContext:Cn,useEffect:$0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,zf(4194308,4,Q0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return zf(4194308,4,i,a)},useInsertionEffect:function(i,a){zf(4,2,i,a)},useMemo:function(i,a){var l=Bn();a=a===void 0?null:a;var c=i();if(Hs){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Bn();if(l!==void 0){var m=l(a);if(Hs){An(!0);try{l(a)}finally{An(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=Cx.bind(null,Qe,i),[c.memoizedState,i]},useRef:function(i){var a=Bn();return i={current:i},a.memoizedState=i},useState:function(i){i=dg(i);var a=i.queue,l=aE.bind(null,Qe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:gg,useDeferredValue:function(i,a){var l=Bn();return pg(l,i,a)},useTransition:function(){var i=dg(!1);return i=eE.bind(null,Qe,i.queue,!0,!1),Bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Qe,m=Bn();if(gt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),It===null)throw Error(r(349));(ut&124)!==0||x0(c,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,$0(D0.bind(null,c,p,i),[i]),c.flags|=2048,qo(9,jf(),O0.bind(null,c,p,l,a),null),l},useId:function(){var i=Bn(),a=It.identifierPrefix;if(gt){var l=ji,c=Ui;l=(c&~(1<<32-Ht(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Lf++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=bx++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:vg,useFormState:z0,useActionState:z0,useOptimistic:function(i){var a=Bn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=_g.bind(null,Qe,!0,l),l.dispatch=a,[i,a]},useMemoCache:cg,useCacheRefresh:function(){return Bn().memoizedState=Rx.bind(null,Qe)}},uE={readContext:Cn,use:Vf,useCallback:W0,useContext:Cn,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:Z0,useReducer:Uf,useRef:q0,useState:function(){return Uf(Bi)},useDebugValue:gg,useDeferredValue:function(i,a){var l=Kt();return J0(l,Tt.memoizedState,i,a)},useTransition:function(){var i=Uf(Bi)[0],a=Kt().memoizedState;return[typeof i=="boolean"?i:Tu(i),a]},useSyncExternalStore:I0,useId:rE,useHostTransitionStatus:vg,useFormState:F0,useActionState:F0,useOptimistic:function(i,a){var l=Kt();return M0(l,Tt,i,a)},useMemoCache:cg,useCacheRefresh:iE},Ix={readContext:Cn,use:Vf,useCallback:W0,useContext:Cn,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:Z0,useReducer:hg,useRef:q0,useState:function(){return hg(Bi)},useDebugValue:gg,useDeferredValue:function(i,a){var l=Kt();return Tt===null?pg(l,i,a):J0(l,Tt.memoizedState,i,a)},useTransition:function(){var i=hg(Bi)[0],a=Kt().memoizedState;return[typeof i=="boolean"?i:Tu(i),a]},useSyncExternalStore:I0,useId:rE,useHostTransitionStatus:vg,useFormState:H0,useActionState:H0,useOptimistic:function(i,a){var l=Kt();return Tt!==null?M0(l,Tt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:cg,useCacheRefresh:iE},$o=null,Ru=0;function Hf(i){var a=Ru;return Ru+=1,$o===null&&($o=[]),E0($o,i,a)}function Cu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function qf(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function cE(i){var a=i._init;return a(i._payload)}function fE(i){function a(q,F){if(i){var K=q.deletions;K===null?(q.deletions=[F],q.flags|=16):K.push(F)}}function l(q,F){if(!i)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function c(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function m(q,F){return q=Vi(q,F),q.index=0,q.sibling=null,q}function p(q,F,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<F?(q.flags|=67108866,F):K):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,F,K,se){return F===null||F.tag!==6?(F=zm(K,q.mode,se),F.return=q,F):(F=m(F,K),F.return=q,F)}function P(q,F,K,se){var Se=K.type;return Se===A?ae(q,F,K.props.children,se,K.key):F!==null&&(F.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&cE(Se)===F.type)?(F=m(F,K.props),Cu(F,K),F.return=q,F):(F=Rf(K.type,K.key,K.props,null,q.mode,se),Cu(F,K),F.return=q,F)}function Z(q,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Fm(K,q.mode,se),F.return=q,F):(F=m(F,K.children||[]),F.return=q,F)}function ae(q,F,K,se,Se){return F===null||F.tag!==7?(F=ks(K,q.mode,se,Se),F.return=q,F):(F=m(F,K),F.return=q,F)}function le(q,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=zm(""+F,q.mode,K),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return K=Rf(F.type,F.key,F.props,null,q.mode,K),Cu(K,F),K.return=q,K;case T:return F=Fm(F,q.mode,K),F.return=q,F;case I:var se=F._init;return F=se(F._payload),le(q,F,K)}if(Fe(F)||B(F))return F=ks(F,q.mode,K,null),F.return=q,F;if(typeof F.then=="function")return le(q,Hf(F),K);if(F.$$typeof===Y)return le(q,Of(q,F),K);qf(q,F)}return null}function ee(q,F,K,se){var Se=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:w(q,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===Se?P(q,F,K,se):null;case T:return K.key===Se?Z(q,F,K,se):null;case I:return Se=K._init,K=Se(K._payload),ee(q,F,K,se)}if(Fe(K)||B(K))return Se!==null?null:ae(q,F,K,se,null);if(typeof K.then=="function")return ee(q,F,Hf(K),se);if(K.$$typeof===Y)return ee(q,F,Of(q,K),se);qf(q,K)}return null}function te(q,F,K,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(K)||null,w(F,q,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?K:se.key)||null,P(F,q,se,Se);case T:return q=q.get(se.key===null?K:se.key)||null,Z(F,q,se,Se);case I:var Ze=se._init;return se=Ze(se._payload),te(q,F,K,se,Se)}if(Fe(se)||B(se))return q=q.get(K)||null,ae(F,q,se,Se,null);if(typeof se.then=="function")return te(q,F,K,Hf(se),Se);if(se.$$typeof===Y)return te(q,F,K,Of(F,se),Se);qf(F,se)}return null}function ze(q,F,K,se){for(var Se=null,Ze=null,Ie=F,Ve=F=0,cn=null;Ie!==null&&Ve<K.length;Ve++){Ie.index>Ve?(cn=Ie,Ie=null):cn=Ie.sibling;var dt=ee(q,Ie,K[Ve],se);if(dt===null){Ie===null&&(Ie=cn);break}i&&Ie&&dt.alternate===null&&a(q,Ie),F=p(dt,F,Ve),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt,Ie=cn}if(Ve===K.length)return l(q,Ie),gt&&Vs(q,Ve),Se;if(Ie===null){for(;Ve<K.length;Ve++)Ie=le(q,K[Ve],se),Ie!==null&&(F=p(Ie,F,Ve),Ze===null?Se=Ie:Ze.sibling=Ie,Ze=Ie);return gt&&Vs(q,Ve),Se}for(Ie=c(Ie);Ve<K.length;Ve++)cn=te(Ie,q,Ve,K[Ve],se),cn!==null&&(i&&cn.alternate!==null&&Ie.delete(cn.key===null?Ve:cn.key),F=p(cn,F,Ve),Ze===null?Se=cn:Ze.sibling=cn,Ze=cn);return i&&Ie.forEach(function(Ba){return a(q,Ba)}),gt&&Vs(q,Ve),Se}function ke(q,F,K,se){if(K==null)throw Error(r(151));for(var Se=null,Ze=null,Ie=F,Ve=F=0,cn=null,dt=K.next();Ie!==null&&!dt.done;Ve++,dt=K.next()){Ie.index>Ve?(cn=Ie,Ie=null):cn=Ie.sibling;var Ba=ee(q,Ie,dt.value,se);if(Ba===null){Ie===null&&(Ie=cn);break}i&&Ie&&Ba.alternate===null&&a(q,Ie),F=p(Ba,F,Ve),Ze===null?Se=Ba:Ze.sibling=Ba,Ze=Ba,Ie=cn}if(dt.done)return l(q,Ie),gt&&Vs(q,Ve),Se;if(Ie===null){for(;!dt.done;Ve++,dt=K.next())dt=le(q,dt.value,se),dt!==null&&(F=p(dt,F,Ve),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt);return gt&&Vs(q,Ve),Se}for(Ie=c(Ie);!dt.done;Ve++,dt=K.next())dt=te(Ie,q,Ve,dt.value,se),dt!==null&&(i&&dt.alternate!==null&&Ie.delete(dt.key===null?Ve:dt.key),F=p(dt,F,Ve),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt);return i&&Ie.forEach(function(x2){return a(q,x2)}),gt&&Vs(q,Ve),Se}function At(q,F,K,se){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var Se=K.key;F!==null;){if(F.key===Se){if(Se=K.type,Se===A){if(F.tag===7){l(q,F.sibling),se=m(F,K.props.children),se.return=q,q=se;break e}}else if(F.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&cE(Se)===F.type){l(q,F.sibling),se=m(F,K.props),Cu(se,K),se.return=q,q=se;break e}l(q,F);break}else a(q,F);F=F.sibling}K.type===A?(se=ks(K.props.children,q.mode,se,K.key),se.return=q,q=se):(se=Rf(K.type,K.key,K.props,null,q.mode,se),Cu(se,K),se.return=q,q=se)}return S(q);case T:e:{for(Se=K.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){l(q,F.sibling),se=m(F,K.children||[]),se.return=q,q=se;break e}else{l(q,F);break}else a(q,F);F=F.sibling}se=Fm(K,q.mode,se),se.return=q,q=se}return S(q);case I:return Se=K._init,K=Se(K._payload),At(q,F,K,se)}if(Fe(K))return ze(q,F,K,se);if(B(K)){if(Se=B(K),typeof Se!="function")throw Error(r(150));return K=Se.call(K),ke(q,F,K,se)}if(typeof K.then=="function")return At(q,F,Hf(K),se);if(K.$$typeof===Y)return At(q,F,Of(q,K),se);qf(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(l(q,F.sibling),se=m(F,K),se.return=q,q=se):(l(q,F),se=zm(K,q.mode,se),se.return=q,q=se),S(q)):l(q,F)}return function(q,F,K,se){try{Ru=0;var Se=At(q,F,K,se);return $o=null,Se}catch(Ie){if(Ie===yu||Ie===Nf)throw Ie;var Ze=er(29,Ie,null,q.mode);return Ze.lanes=se,Ze.return=q,Ze}finally{}}}var Go=fE(!0),hE=fE(!1),Cr=ie(null),li=null;function Ca(i){var a=i.alternate;ue(Jt,Jt.current&1),ue(Cr,i),li===null&&(a===null||Fo.current!==null||a.memoizedState!==null)&&(li=i)}function dE(i){if(i.tag===22){if(ue(Jt,Jt.current),ue(Cr,i),li===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(li=i)}}else Ia()}function Ia(){ue(Jt,Jt.current),ue(Cr,Cr.current)}function Hi(i){de(Cr),li===i&&(li=null),de(Jt)}var Jt=ie(0);function $f(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||up(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Eg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var bg={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=ir(),m=wa(c);m.payload=a,l!=null&&(m.callback=l),a=Aa(i,m,c),a!==null&&(ar(a,i,c),_u(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=ir(),m=wa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Aa(i,m,c),a!==null&&(ar(a,i,c),_u(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ir(),c=wa(l);c.tag=2,a!=null&&(c.callback=a),a=Aa(i,c,l),a!==null&&(ar(a,i,l),_u(a,i,l))}};function mE(i,a,l,c,m,p,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,S):a.prototype&&a.prototype.isPureReactComponent?!uu(l,c)||!uu(m,p):!0}function gE(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&bg.enqueueReplaceState(a,a.state,null)}function qs(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Gf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function pE(i){Gf(i)}function yE(i){console.error(i)}function vE(i){Gf(i)}function Kf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function _E(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sg(i,a,l){return l=wa(l),l.tag=3,l.payload={element:null},l.callback=function(){Kf(i,a)},l}function EE(i){return i=wa(i),i.tag=3,i}function bE(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;i.payload=function(){return m(p)},i.callback=function(){_E(a,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){_E(a,l,c),typeof m!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function xx(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&mu(a,l,m,!0),l=Cr.current,l!==null){switch(l.tag){case 13:return li===null?Gg():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Wm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Yg(i,c,m)),!1;case 22:return l.flags|=65536,c===Wm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Yg(i,c,m)),!1}throw Error(r(435,l.tag))}return Yg(i,c,m),Gg(),!1}if(gt)return a=Cr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==qm&&(i=Error(r(422),{cause:c}),du(Tr(i,l)))):(c!==qm&&(a=Error(r(423),{cause:c}),du(Tr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Tr(c,l),m=Sg(i.stateNode,c,m),eg(i,m),Ut!==4&&(Ut=2)),!1;var p=Error(r(520),{cause:c});if(p=Tr(p,l),Mu===null?Mu=[p]:Mu.push(p),Ut!==4&&(Ut=2),a===null)return!0;c=Tr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Sg(l.stateNode,c,i),eg(l,i),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ma===null||!Ma.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=EE(m),bE(m,i,l,c),eg(l,m),!1}l=l.return}while(l!==null);return!1}var SE=Error(r(461)),ln=!1;function gn(i,a,l,c){a.child=i===null?hE(a,null,l,c):Go(a,i.child,l,c)}function TE(i,a,l,c,m){l=l.render;var p=a.ref;if("ref"in c){var S={};for(var w in c)w!=="ref"&&(S[w]=c[w])}else S=c;return Fs(a),c=ag(i,a,l,S,p,m),w=sg(),i!==null&&!ln?(og(i,a,m),qi(i,a,m)):(gt&&w&&Bm(a),a.flags|=1,gn(i,a,c,m),a.child)}function wE(i,a,l,c,m){if(i===null){var p=l.type;return typeof p=="function"&&!jm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,AE(i,a,p,c,m)):(i=Rf(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Og(i,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:uu,l(S,c)&&i.ref===a.ref)return qi(i,a,m)}return a.flags|=1,i=Vi(p,c),i.ref=a.ref,i.return=a,a.child=i}function AE(i,a,l,c,m){if(i!==null){var p=i.memoizedProps;if(uu(p,c)&&i.ref===a.ref)if(ln=!1,a.pendingProps=c=p,Og(i,m))(i.flags&131072)!==0&&(ln=!0);else return a.lanes=i.lanes,qi(i,a,m)}return Tg(i,a,l,c,m)}function RE(i,a,l){var c=a.pendingProps,m=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,i!==null){for(m=a.child=i.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return CE(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Df(a,p!==null?p.cachePool:null),p!==null?A0(a,p):ng(),dE(a);else return a.lanes=a.childLanes=536870912,CE(i,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Df(a,p.cachePool),A0(a,p),Ia(),a.memoizedState=null):(i!==null&&Df(a,null),ng(),Ia());return gn(i,a,m,l),a.child}function CE(i,a,l,c){var m=Xm();return m=m===null?null:{parent:Zt._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Df(a,null),ng(),dE(a),i!==null&&mu(i,a,c,!0),null}function Yf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Tg(i,a,l,c,m){return Fs(a),l=ag(i,a,l,c,void 0,m),c=sg(),i!==null&&!ln?(og(i,a,m),qi(i,a,m)):(gt&&c&&Bm(a),a.flags|=1,gn(i,a,l,m),a.child)}function IE(i,a,l,c,m,p){return Fs(a),a.updateQueue=null,l=C0(a,c,l,m),R0(i),c=sg(),i!==null&&!ln?(og(i,a,p),qi(i,a,p)):(gt&&c&&Bm(a),a.flags|=1,gn(i,a,l,p),a.child)}function xE(i,a,l,c,m){if(Fs(a),a.stateNode===null){var p=Lo,S=l.contextType;typeof S=="object"&&S!==null&&(p=Cn(S)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=bg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Zm(a),S=l.contextType,p.context=typeof S=="object"&&S!==null?Cn(S):Lo,p.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Eg(a,l,S,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&bg.enqueueReplaceState(p,p.state,null),bu(a,c,p,m),Eu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var w=a.memoizedProps,P=qs(l,w);p.props=P;var Z=p.context,ae=l.contextType;S=Lo,typeof ae=="object"&&ae!==null&&(S=Cn(ae));var le=l.getDerivedStateFromProps;ae=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,ae||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Z!==S)&&gE(a,p,c,S),Ta=!1;var ee=a.memoizedState;p.state=ee,bu(a,c,p,m),Eu(),Z=a.memoizedState,w||ee!==Z||Ta?(typeof le=="function"&&(Eg(a,l,le,c),Z=a.memoizedState),(P=Ta||mE(a,l,P,c,ee,Z,S))?(ae||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),p.props=c,p.state=Z,p.context=S,c=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Jm(i,a),S=a.memoizedProps,ae=qs(l,S),p.props=ae,le=a.pendingProps,ee=p.context,Z=l.contextType,P=Lo,typeof Z=="object"&&Z!==null&&(P=Cn(Z)),w=l.getDerivedStateFromProps,(Z=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==le||ee!==P)&&gE(a,p,c,P),Ta=!1,ee=a.memoizedState,p.state=ee,bu(a,c,p,m),Eu();var te=a.memoizedState;S!==le||ee!==te||Ta||i!==null&&i.dependencies!==null&&xf(i.dependencies)?(typeof w=="function"&&(Eg(a,l,w,c),te=a.memoizedState),(ae=Ta||mE(a,l,ae,c,ee,te,P)||i!==null&&i.dependencies!==null&&xf(i.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,te,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,te,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),p.props=c,p.state=te,p.context=P,c=ae):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,Yf(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Go(a,i.child,null,m),a.child=Go(a,null,l,m)):gn(i,a,l,m),a.memoizedState=p.state,i=a.child):i=qi(i,a,m),i}function OE(i,a,l,c){return hu(),a.flags|=256,gn(i,a,l,c),a.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(i){return{baseLanes:i,cachePool:y0()}}function Rg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ir),i}function DE(i,a,l){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=i!==null&&i.memoizedState===null?!1:(Jt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,i===null){if(gt){if(m?Ca(a):Ia(),gt){var w=Vt,P;if(P=w){e:{for(P=w,w=oi;P.nodeType!==8;){if(!w){w=null;break e}if(P=Ur(P.nextSibling),P===null){w=null;break e}}w=P}w!==null?(a.memoizedState={dehydrated:w,treeContext:Ls!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},P=er(18,null,null,0),P.stateNode=w,P.return=a,a.child=P,zn=a,Vt=null,P=!0):P=!1}P||js(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return up(w)?a.lanes=32:a.lanes=536870912,null;Hi(a)}return w=c.children,c=c.fallback,m?(Ia(),m=a.mode,w=Qf({mode:"hidden",children:w},m),c=ks(c,m,l,null),w.return=a,c.return=a,w.sibling=c,a.child=w,m=a.child,m.memoizedState=Ag(l),m.childLanes=Rg(i,S,l),a.memoizedState=wg,c):(Ca(a),Cg(a,w))}if(P=i.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(p)a.flags&256?(Ca(a),a.flags&=-257,a=Ig(i,a,l)):a.memoizedState!==null?(Ia(),a.child=i.child,a.flags|=128,a=null):(Ia(),m=c.fallback,w=a.mode,c=Qf({mode:"visible",children:c.children},w),m=ks(m,w,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Go(a,i.child,null,l),c=a.child,c.memoizedState=Ag(l),c.childLanes=Rg(i,S,l),a.memoizedState=wg,a=m);else if(Ca(a),up(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(r(419)),c.stack="",c.digest=S,du({value:c,source:null,stack:null}),a=Ig(i,a,l)}else if(ln||mu(i,a,l,!1),S=(l&i.childLanes)!==0,ln||S){if(S=It,S!==null&&(c=l&-l,c=(c&42)!==0?1:Wr(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,ko(i,c),ar(S,i,c),SE;w.data==="$?"||Gg(),a=Ig(i,a,l)}else w.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=P.treeContext,Vt=Ur(w.nextSibling),zn=a,gt=!0,Us=null,oi=!1,i!==null&&(Ar[Rr++]=Ui,Ar[Rr++]=ji,Ar[Rr++]=Ls,Ui=i.id,ji=i.overflow,Ls=a),a=Cg(a,c.children),a.flags|=4096);return a}return m?(Ia(),m=c.fallback,w=a.mode,P=i.child,Z=P.sibling,c=Vi(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Z!==null?m=Vi(Z,m):(m=ks(m,w,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,w=i.child.memoizedState,w===null?w=Ag(l):(P=w.cachePool,P!==null?(Z=Zt._currentValue,P=P.parent!==Z?{parent:Z,pool:Z}:P):P=y0(),w={baseLanes:w.baseLanes|l,cachePool:P}),m.memoizedState=w,m.childLanes=Rg(i,S,l),a.memoizedState=wg,c):(Ca(a),l=i.child,i=l.sibling,l=Vi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(S=a.deletions,S===null?(a.deletions=[i],a.flags|=16):S.push(i)),a.child=l,a.memoizedState=null,l)}function Cg(i,a){return a=Qf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Qf(i,a){return i=er(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ig(i,a,l){return Go(a,i.child,null,l),i=Cg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function NE(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Gm(i.return,a,l)}function xg(i,a,l,c,m){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function PE(i,a,l){var c=a.pendingProps,m=c.revealOrder,p=c.tail;if(gn(i,a,c.children,l),c=Jt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&NE(i,l,a);else if(i.tag===19)NE(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ue(Jt,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&$f(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),xg(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&$f(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}xg(a,!0,l,null,p);break;case"together":xg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Pa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(mu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Vi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Vi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Og(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&xf(i)))}function Ox(i,a,l){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),Sa(a,Zt,i.memoizedState.cache),hu();break;case 27:case 5:Ot(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:Sa(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ca(a),a.flags|=128,null):(l&a.child.childLanes)!==0?DE(i,a,l):(Ca(a),i=qi(i,a,l),i!==null?i.sibling:null);Ca(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(mu(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return PE(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Jt,Jt.current),c)break;return null;case 22:case 23:return a.lanes=0,RE(i,a,l);case 24:Sa(a,Zt,i.memoizedState.cache)}return qi(i,a,l)}function ME(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ln=!0;else{if(!Og(i,l)&&(a.flags&128)===0)return ln=!1,Ox(i,a,l);ln=(i.flags&131072)!==0}else ln=!1,gt&&(a.flags&1048576)!==0&&c0(a,If,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")jm(c)?(i=qs(c,i),a.tag=1,a=xE(null,a,c,i,l)):(a.tag=0,a=Tg(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===re){a.tag=11,a=TE(null,a,c,i,l);break e}else if(m===O){a.tag=14,a=wE(null,a,c,i,l);break e}}throw a=Re(c)||c,Error(r(306,a,""))}}return a;case 0:return Tg(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=qs(c,a.pendingProps),xE(i,a,c,m,l);case 3:e:{if(bt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,Jm(i,a),bu(a,c,null,l);var S=a.memoizedState;if(c=S.cache,Sa(a,Zt,c),c!==p.cache&&Km(a,[Zt],l,!0),Eu(),c=S.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=OE(i,a,c,l);break e}else if(c!==m){m=Tr(Error(r(424)),a),du(m),a=OE(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=Ur(i.firstChild),zn=a,gt=!0,Us=null,oi=!0,l=hE(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hu(),c===m){a=qi(i,a,l);break e}gn(i,a,c,l)}a=a.child}return a;case 26:return Yf(i,a),i===null?(l=Ub(a.type,null,a.pendingProps,null))?a.memoizedState=l:gt||(l=a.type,i=a.pendingProps,c=uh(Oe.current).createElement(l),c[oe]=a,c[me]=i,yn(c,l,i),st(c),a.stateNode=c):a.memoizedState=Ub(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ot(a),i===null&&gt&&(c=a.stateNode=kb(a.type,a.pendingProps,Oe.current),zn=a,oi=!0,m=Vt,Va(a.type)?(cp=m,Vt=Ur(c.firstChild)):Vt=m),gn(i,a,a.pendingProps.children,l),Yf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&gt&&((m=c=Vt)&&(c=i2(c,a.type,a.pendingProps,oi),c!==null?(a.stateNode=c,zn=a,Vt=Ur(c.firstChild),oi=!1,m=!0):m=!1),m||js(a)),Ot(a),m=a.type,p=a.pendingProps,S=i!==null?i.memoizedProps:null,c=p.children,sp(m,p)?c=null:S!==null&&sp(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=ag(i,a,Sx,null,null,l),Hu._currentValue=m),Yf(i,a),gn(i,a,c,l),a.child;case 6:return i===null&&gt&&((i=l=Vt)&&(l=a2(l,a.pendingProps,oi),l!==null?(a.stateNode=l,zn=a,Vt=null,i=!0):i=!1),i||js(a)),null;case 13:return DE(i,a,l);case 4:return bt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Go(a,null,c,l):gn(i,a,c,l),a.child;case 11:return TE(i,a,a.type,a.pendingProps,l);case 7:return gn(i,a,a.pendingProps,l),a.child;case 8:return gn(i,a,a.pendingProps.children,l),a.child;case 12:return gn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Sa(a,a.type,c.value),gn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Fs(a),m=Cn(m),c=c(m),a.flags|=1,gn(i,a,c,l),a.child;case 14:return wE(i,a,a.type,a.pendingProps,l);case 15:return AE(i,a,a.type,a.pendingProps,l);case 19:return PE(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Qf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Vi(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return RE(i,a,l);case 24:return Fs(a),c=Cn(Zt),i===null?(m=Xm(),m===null&&(m=It,p=Ym(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:c,cache:m},Zm(a),Sa(a,Zt,m)):((i.lanes&l)!==0&&(Jm(i,a),bu(a,null,null,l),Eu()),m=i.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Sa(a,Zt,c)):(c=p.cache,Sa(a,Zt,c),c!==m.cache&&Km(a,[Zt],l,!0))),gn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function $i(i){i.flags|=4}function kE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Hb(a)){if(a=Cr.current,a!==null&&((ut&4194048)===ut?li!==null:(ut&62914560)!==ut&&(ut&536870912)===0||a!==li))throw vu=Wm,v0;i.flags|=8192}}function Xf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?bs():536870912,i.lanes|=a,Xo|=a)}function Iu(i,a){if(!gt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Mt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function Dx(i,a,l){var c=a.pendingProps;switch(Hm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Fi(Zt),hr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(fu(a)?$i(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,d0())),Mt(a),null;case 26:return l=a.memoizedState,i===null?($i(a),l!==null?(Mt(a),kE(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==i.memoizedState?($i(a),Mt(a),kE(a,l)):(Mt(a),a.flags&=-16777217):(i.memoizedProps!==c&&$i(a),Mt(a),a.flags&=-16777217),null;case 27:wn(a),l=Oe.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&$i(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}i=be.current,fu(a)?f0(a):(i=kb(m,c,l),a.stateNode=i,$i(a))}return Mt(a),null;case 5:if(wn(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&$i(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}if(i=be.current,fu(a))f0(a);else{switch(m=uh(Oe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[oe]=a,i[me]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(yn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&$i(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&$i(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Oe.current,fu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=zn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[oe]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Ib(i.nodeValue,l)),i||js(a)}else i=uh(i).createTextNode(c),i[oe]=a,a.stateNode=i}return Mt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=fu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[oe]=a}else hu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),m=!1}else m=d0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Hi(a),a):(Hi(a),null)}if(Hi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Xf(a,a.updateQueue),Mt(a),null;case 4:return hr(),i===null&&tp(a.stateNode.containerInfo),Mt(a),null;case 10:return Fi(a.type),Mt(a),null;case 19:if(de(Jt),m=a.memoizedState,m===null)return Mt(a),null;if(c=(a.flags&128)!==0,p=m.rendering,p===null)if(c)Iu(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=$f(i),p!==null){for(a.flags|=128,Iu(m,!1),i=p.updateQueue,a.updateQueue=i,Xf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)u0(l,i),l=l.sibling;return ue(Jt,Jt.current&1|2),a.child}i=i.sibling}m.tail!==null&&kn()>Jf&&(a.flags|=128,c=!0,Iu(m,!1),a.lanes=4194304)}else{if(!c)if(i=$f(p),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Xf(a,i),Iu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!gt)return Mt(a),null}else 2*kn()-m.renderingStartTime>Jf&&l!==536870912&&(a.flags|=128,c=!0,Iu(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(i=m.last,i!==null?i.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=kn(),a.sibling=null,i=Jt.current,ue(Jt,c?i&1|2:i&1),a):(Mt(a),null);case 22:case 23:return Hi(a),rg(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&Xf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&de(Bs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Fi(Zt),Mt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Nx(i,a){switch(Hm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Fi(Zt),hr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return wn(a),null;case 13:if(Hi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return de(Jt),null;case 4:return hr(),null;case 10:return Fi(a.type),null;case 22:case 23:return Hi(a),rg(),i!==null&&de(Bs),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Fi(Zt),null;case 25:return null;default:return null}}function LE(i,a){switch(Hm(a),a.tag){case 3:Fi(Zt),hr();break;case 26:case 27:case 5:wn(a);break;case 4:hr();break;case 13:Hi(a);break;case 19:de(Jt);break;case 10:Fi(a.type);break;case 22:case 23:Hi(a),rg(),i!==null&&de(Bs);break;case 24:Fi(Zt)}}function xu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var p=l.create,S=l.inst;c=p(),S.destroy=c}l=l.next}while(l!==m)}}catch(w){Ct(a,a.return,w)}}function xa(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&i)===i){var S=c.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,m=a;var P=l,Z=w;try{Z()}catch(ae){Ct(m,P,ae)}}}c=c.next}while(c!==p)}}catch(ae){Ct(a,a.return,ae)}}function VE(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{w0(a,l)}catch(c){Ct(i,i.return,c)}}}function UE(i,a,l){l.props=qs(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Ct(i,a,c)}}function Ou(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Ct(i,a,m)}}function ui(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Ct(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ct(i,a,m)}else l.current=null}function jE(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Ct(i,i.return,m)}}function Dg(i,a,l){try{var c=i.stateNode;Jx(c,i.type,l,a),c[me]=a}catch(m){Ct(i,i.return,m)}}function zE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Va(i.type)||i.tag===4}function Ng(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Va(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pg(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=lh));else if(c!==4&&(c===27&&Va(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Pg(i,a,l),i=i.sibling;i!==null;)Pg(i,a,l),i=i.sibling}function Wf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Va(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Wf(i,a,l),i=i.sibling;i!==null;)Wf(i,a,l),i=i.sibling}function FE(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);yn(a,c,l),a[oe]=i,a[me]=l}catch(p){Ct(i,i.return,p)}}var Gi=!1,zt=!1,Mg=!1,BE=typeof WeakSet=="function"?WeakSet:Set,un=null;function Px(i,a){if(i=i.containerInfo,ip=gh,i=J_(i),Nm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,w=-1,P=-1,Z=0,ae=0,le=i,ee=null;t:for(;;){for(var te;le!==l||m!==0&&le.nodeType!==3||(w=S+m),le!==p||c!==0&&le.nodeType!==3||(P=S+c),le.nodeType===3&&(S+=le.nodeValue.length),(te=le.firstChild)!==null;)ee=le,le=te;for(;;){if(le===i)break t;if(ee===l&&++Z===m&&(w=S),ee===p&&++ae===c&&(P=S),(te=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=te}l=w===-1||P===-1?null:{start:w,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(ap={focusedElem:i,selectionRange:l},gh=!1,un=a;un!==null;)if(a=un,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,un=i;else for(;un!==null;){switch(a=un,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var ze=qs(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ze,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){Ct(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)lp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,un=i;break}un=a.return}}function HE(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(i,l),c&4&&xu(5,l);break;case 1:if(Oa(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(S){Ct(l,l.return,S)}else{var m=qs(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(l,l.return,S)}}c&64&&VE(l),c&512&&Ou(l,l.return);break;case 3:if(Oa(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{w0(i,a)}catch(S){Ct(l,l.return,S)}}break;case 27:a===null&&c&4&&FE(l);case 26:case 5:Oa(i,l),a===null&&c&4&&jE(l),c&512&&Ou(l,l.return);break;case 12:Oa(i,l);break;case 13:Oa(i,l),c&4&&GE(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Bx.bind(null,l),s2(i,l))));break;case 22:if(c=l.memoizedState!==null||Gi,!c){a=a!==null&&a.memoizedState!==null||zt,m=Gi;var p=zt;Gi=c,(zt=a)&&!p?Da(i,l,(l.subtreeFlags&8772)!==0):Oa(i,l),Gi=m,zt=p}break;case 30:break;default:Oa(i,l)}}function qE(i){var a=i.alternate;a!==null&&(i.alternate=null,qE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&we(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,Hn=!1;function Ki(i,a,l){for(l=l.child;l!==null;)$E(i,a,l),l=l.sibling}function $E(i,a,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:zt||ui(l,a),Ki(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||ui(l,a);var c=Dt,m=Hn;Va(l.type)&&(Dt=l.stateNode,Hn=!1),Ki(i,a,l),ju(l.stateNode),Dt=c,Hn=m;break;case 5:zt||ui(l,a);case 6:if(c=Dt,m=Hn,Dt=null,Ki(i,a,l),Dt=c,Hn=m,Dt!==null)if(Hn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(p){Ct(l,a,p)}else try{Dt.removeChild(l.stateNode)}catch(p){Ct(l,a,p)}break;case 18:Dt!==null&&(Hn?(i=Dt,Pb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ku(i)):Pb(Dt,l.stateNode));break;case 4:c=Dt,m=Hn,Dt=l.stateNode.containerInfo,Hn=!0,Ki(i,a,l),Dt=c,Hn=m;break;case 0:case 11:case 14:case 15:zt||xa(2,l,a),zt||xa(4,l,a),Ki(i,a,l);break;case 1:zt||(ui(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&UE(l,a,c)),Ki(i,a,l);break;case 21:Ki(i,a,l);break;case 22:zt=(c=zt)||l.memoizedState!==null,Ki(i,a,l),zt=c;break;default:Ki(i,a,l)}}function GE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ku(i)}catch(l){Ct(a,a.return,l)}}function Mx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new BE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new BE),a;default:throw Error(r(435,i.tag))}}function kg(i,a){var l=Mx(i);a.forEach(function(c){var m=Hx.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function tr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=i,S=a,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(Va(w.type)){Dt=w.stateNode,Hn=!1;break e}break;case 5:Dt=w.stateNode,Hn=!1;break e;case 3:case 4:Dt=w.stateNode.containerInfo,Hn=!0;break e}w=w.return}if(Dt===null)throw Error(r(160));$E(p,S,m),Dt=null,Hn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)KE(a,i),a=a.sibling}var Vr=null;function KE(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tr(a,i),nr(i),c&4&&(xa(3,i,i.return),xu(3,i),xa(5,i,i.return));break;case 1:tr(a,i),nr(i),c&512&&(zt||l===null||ui(l,l.return)),c&64&&Gi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Vr;if(tr(a,i),nr(i),c&512&&(zt||l===null||ui(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Me]||p[oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),yn(p,c,l),p[oe]=i,st(p),c=p;break e;case"link":var S=Fb("link","href",m).get(c+(l.href||""));if(S){for(var w=0;w<S.length;w++)if(p=S[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(w,1);break t}}p=m.createElement(c),yn(p,c,l),m.head.appendChild(p);break;case"meta":if(S=Fb("meta","content",m).get(c+(l.content||""))){for(w=0;w<S.length;w++)if(p=S[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(w,1);break t}}p=m.createElement(c),yn(p,c,l),m.head.appendChild(p);break;default:throw Error(r(468,c))}p[oe]=i,st(p),c=p}i.stateNode=c}else Bb(m,i.type,i.stateNode);else i.stateNode=zb(m,c,i.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?Bb(m,i.type,i.stateNode):zb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Dg(i,i.memoizedProps,l.memoizedProps)}break;case 27:tr(a,i),nr(i),c&512&&(zt||l===null||ui(l,l.return)),l!==null&&c&4&&Dg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(tr(a,i),nr(i),c&512&&(zt||l===null||ui(l,l.return)),i.flags&32){m=i.stateNode;try{_r(m,"")}catch(te){Ct(i,i.return,te)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Dg(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Mg=!0);break;case 6:if(tr(a,i),nr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(te){Ct(i,i.return,te)}}break;case 3:if(hh=null,m=Vr,Vr=ch(a.containerInfo),tr(a,i),Vr=m,nr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ku(a.containerInfo)}catch(te){Ct(i,i.return,te)}Mg&&(Mg=!1,YE(i));break;case 4:c=Vr,Vr=ch(i.stateNode.containerInfo),tr(a,i),nr(i),Vr=c;break;case 12:tr(a,i),nr(i);break;case 13:tr(a,i),nr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fg=kn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kg(i,c)));break;case 22:m=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Z=Gi,ae=zt;if(Gi=Z||m,zt=ae||P,tr(a,i),zt=ae,Gi=Z,nr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||P||Gi||zt||$s(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(p=P.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=P.stateNode;var le=P.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Ct(P,P.return,te)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(te){Ct(P,P.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,kg(i,l))));break;case 19:tr(a,i),nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kg(i,c)));break;case 30:break;case 21:break;default:tr(a,i),nr(i)}}function nr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(zE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,p=Ng(i);Wf(i,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(_r(S,""),l.flags&=-33);var w=Ng(i);Wf(i,w,S);break;case 3:case 4:var P=l.stateNode.containerInfo,Z=Ng(i);Pg(i,Z,P);break;default:throw Error(r(161))}}catch(ae){Ct(i,i.return,ae)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function YE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;YE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Oa(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)HE(i,a.alternate,a),a=a.sibling}function $s(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:xa(4,a,a.return),$s(a);break;case 1:ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&UE(a,a.return,l),$s(a);break;case 27:ju(a.stateNode);case 26:case 5:ui(a,a.return),$s(a);break;case 22:a.memoizedState===null&&$s(a);break;case 30:$s(a);break;default:$s(a)}i=i.sibling}}function Da(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:Da(m,p,l),xu(4,p);break;case 1:if(Da(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Ct(c,c.return,Z)}if(c=p,m=c.updateQueue,m!==null){var w=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)T0(P[m],w)}catch(Z){Ct(c,c.return,Z)}}l&&S&64&&VE(p),Ou(p,p.return);break;case 27:FE(p);case 26:case 5:Da(m,p,l),l&&c===null&&S&4&&jE(p),Ou(p,p.return);break;case 12:Da(m,p,l);break;case 13:Da(m,p,l),l&&S&4&&GE(m,p);break;case 22:p.memoizedState===null&&Da(m,p,l),Ou(p,p.return);break;case 30:break;default:Da(m,p,l)}a=a.sibling}}function Lg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&gu(l))}function Vg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&gu(i))}function ci(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)QE(i,a,l,c),a=a.sibling}function QE(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ci(i,a,l,c),m&2048&&xu(9,a);break;case 1:ci(i,a,l,c);break;case 3:ci(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&gu(i)));break;case 12:if(m&2048){ci(i,a,l,c),i=a.stateNode;try{var p=a.memoizedProps,S=p.id,w=p.onPostCommit;typeof w=="function"&&w(S,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ct(a,a.return,P)}}else ci(i,a,l,c);break;case 13:ci(i,a,l,c);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?ci(i,a,l,c):Du(i,a):p._visibility&2?ci(i,a,l,c):(p._visibility|=2,Ko(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Lg(S,a);break;case 24:ci(i,a,l,c),m&2048&&Vg(a.alternate,a);break;default:ci(i,a,l,c)}}function Ko(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,S=a,w=l,P=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Ko(p,S,w,P,m),xu(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?Ko(p,S,w,P,m):Du(p,S):(ae._visibility|=2,Ko(p,S,w,P,m)),m&&Z&2048&&Lg(S.alternate,S);break;case 24:Ko(p,S,w,P,m),m&&Z&2048&&Vg(S.alternate,S);break;default:Ko(p,S,w,P,m)}a=a.sibling}}function Du(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Du(l,c),m&2048&&Lg(c.alternate,c);break;case 24:Du(l,c),m&2048&&Vg(c.alternate,c);break;default:Du(l,c)}a=a.sibling}}var Nu=8192;function Yo(i){if(i.subtreeFlags&Nu)for(i=i.child;i!==null;)XE(i),i=i.sibling}function XE(i){switch(i.tag){case 26:Yo(i),i.flags&Nu&&i.memoizedState!==null&&_2(Vr,i.memoizedState,i.memoizedProps);break;case 5:Yo(i);break;case 3:case 4:var a=Vr;Vr=ch(i.stateNode.containerInfo),Yo(i),Vr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Nu,Nu=16777216,Yo(i),Nu=a):Yo(i));break;default:Yo(i)}}function WE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Pu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,JE(c,i)}WE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ZE(i),i=i.sibling}function ZE(i){switch(i.tag){case 0:case 11:case 15:Pu(i),i.flags&2048&&xa(9,i,i.return);break;case 3:Pu(i);break;case 12:Pu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Zf(i)):Pu(i);break;default:Pu(i)}}function Zf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,JE(c,i)}WE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:xa(8,a,a.return),Zf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zf(a));break;default:Zf(a)}i=i.sibling}}function JE(i,a){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:xa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=i;un!==null;){c=un;var m=c.sibling,p=c.return;if(qE(c),c===l){un=null;break e}if(m!==null){m.return=p,un=m;break e}un=p}}}var kx={getCacheForType:function(i){var a=Cn(Zt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},Lx=typeof WeakMap=="function"?WeakMap:Map,_t=0,It=null,tt=null,ut=0,Et=0,rr=null,Na=!1,Qo=!1,Ug=!1,Yi=0,Ut=0,Pa=0,Gs=0,jg=0,Ir=0,Xo=0,Mu=null,qn=null,zg=!1,Fg=0,Jf=1/0,eh=null,Ma=null,pn=0,ka=null,Wo=null,Zo=0,Bg=0,Hg=null,eb=null,ku=0,qg=null;function ir(){if((_t&2)!==0&&ut!==0)return ut&-ut;if(W.T!==null){var i=jo;return i!==0?i:Wg()}return V()}function tb(){Ir===0&&(Ir=(ut&536870912)===0||gt?Ii():536870912);var i=Cr.current;return i!==null&&(i.flags|=32),Ir}function ar(i,a,l){(i===It&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(Jo(i,0),La(i,ut,Ir,!1)),Mr(i,l),((_t&2)===0||i!==It)&&(i===It&&((_t&2)===0&&(Gs|=l),Ut===4&&La(i,ut,Ir,!1)),fi(i))}function nb(i,a,l){if((_t&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||gr(i,a),m=c?jx(i,a):Kg(i,a,!0),p=c;do{if(m===0){Qo&&!c&&La(i,a,0,!1);break}else{if(l=i.current.alternate,p&&!Vx(l)){m=Kg(i,a,!1),p=!1;continue}if(m===2){if(p=a,i.errorRecoveryDisabledLanes&p)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var w=i;m=Mu;var P=w.current.memoizedState.isDehydrated;if(P&&(Jo(w,S).flags|=256),S=Kg(w,S,!1),S!==2){if(Ug&&!P){w.errorRecoveryDisabledLanes|=p,Gs|=p,m=4;break e}p=qn,qn=m,p!==null&&(qn===null?qn=p:qn.push.apply(qn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){Jo(i,0),La(i,a,0,!0);break}e:{switch(c=i,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:La(c,a,Ir,!Na);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Fg+300-kn(),10<m)){if(La(c,a,Ir,!Na),Ci(c,0,!0)!==0)break e;c.timeoutHandle=Db(rb.bind(null,c,l,qn,eh,zg,a,Ir,Gs,Xo,Na,p,2,-0,0),m);break e}rb(c,l,qn,eh,zg,a,Ir,Gs,Xo,Na,p,0,-0,0)}}break}while(!0);fi(i)}function rb(i,a,l,c,m,p,S,w,P,Z,ae,le,ee,te){if(i.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:v2},XE(a),le=E2(),le!==null)){i.cancelPendingCommit=le(cb.bind(null,i,a,p,l,c,m,S,w,P,ae,1,ee,te)),La(i,p,S,!Z);return}cb(i,a,p,l,c,m,S,w,P)}function Vx(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!Jn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function La(i,a,l,c){a&=~jg,a&=~Gs,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var p=31-Ht(m),S=1<<p;c[p]=-1,m&=~S}l!==0&&Ln(i,l,a)}function th(){return(_t&6)===0?(Lu(0),!1):!0}function $g(){if(tt!==null){if(Et===0)var i=tt.return;else i=tt,zi=zs=null,lg(i),$o=null,Ru=0,i=tt;for(;i!==null;)LE(i.alternate,i),i=i.return;tt=null}}function Jo(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,t2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),$g(),It=i,tt=l=Vi(i.current,null),ut=a,Et=0,rr=null,Na=!1,Qo=gr(i,a),Ug=!1,Xo=Ir=jg=Gs=Pa=Ut=0,qn=Mu=null,zg=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-Ht(c),p=1<<m;a|=i[m],c&=~p}return Yi=a,Tf(),l}function ib(i,a){Qe=null,W.H=Bf,a===yu||a===Nf?(a=b0(),Et=3):a===v0?(a=b0(),Et=4):Et=a===SE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rr=a,tt===null&&(Ut=1,Kf(i,Tr(a,i.current)))}function ab(){var i=W.H;return W.H=Bf,i===null?Bf:i}function sb(){var i=W.A;return W.A=kx,i}function Gg(){Ut=4,Na||(ut&4194048)!==ut&&Cr.current!==null||(Qo=!0),(Pa&134217727)===0&&(Gs&134217727)===0||It===null||La(It,ut,Ir,!1)}function Kg(i,a,l){var c=_t;_t|=2;var m=ab(),p=sb();(It!==i||ut!==a)&&(eh=null,Jo(i,a)),a=!1;var S=Ut;e:do try{if(Et!==0&&tt!==null){var w=tt,P=rr;switch(Et){case 8:$g(),S=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(a=!0);var Z=Et;if(Et=0,rr=null,el(i,w,P,Z),l&&Qo){S=0;break e}break;default:Z=Et,Et=0,rr=null,el(i,w,P,Z)}}Ux(),S=Ut;break}catch(ae){ib(i,ae)}while(!0);return a&&i.shellSuspendCounter++,zi=zs=null,_t=c,W.H=m,W.A=p,tt===null&&(It=null,ut=0,Tf()),S}function Ux(){for(;tt!==null;)ob(tt)}function jx(i,a){var l=_t;_t|=2;var c=ab(),m=sb();It!==i||ut!==a?(eh=null,Jf=kn()+500,Jo(i,a)):Qo=gr(i,a);e:do try{if(Et!==0&&tt!==null){a=tt;var p=rr;t:switch(Et){case 1:Et=0,rr=null,el(i,a,p,1);break;case 2:case 9:if(_0(p)){Et=0,rr=null,lb(a);break}a=function(){Et!==2&&Et!==9||It!==i||(Et=7),fi(i)},p.then(a,a);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:_0(p)?(Et=0,rr=null,lb(a)):(Et=0,rr=null,el(i,a,p,7));break;case 5:var S=null;switch(tt.tag){case 26:S=tt.memoizedState;case 5:case 27:var w=tt;if(!S||Hb(S)){Et=0,rr=null;var P=w.sibling;if(P!==null)tt=P;else{var Z=w.return;Z!==null?(tt=Z,nh(Z)):tt=null}break t}}Et=0,rr=null,el(i,a,p,5);break;case 6:Et=0,rr=null,el(i,a,p,6);break;case 8:$g(),Ut=6;break e;default:throw Error(r(462))}}zx();break}catch(ae){ib(i,ae)}while(!0);return zi=zs=null,W.H=c,W.A=m,_t=l,tt!==null?0:(It=null,ut=0,Tf(),Ut)}function zx(){for(;tt!==null&&!_s();)ob(tt)}function ob(i){var a=ME(i.alternate,i,Yi);i.memoizedProps=i.pendingProps,a===null?nh(i):tt=a}function lb(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=IE(l,a,a.pendingProps,a.type,void 0,ut);break;case 11:a=IE(l,a,a.pendingProps,a.type.render,a.ref,ut);break;case 5:lg(a);default:LE(l,a),a=tt=u0(a,Yi),a=ME(l,a,Yi)}i.memoizedProps=i.pendingProps,a===null?nh(i):tt=a}function el(i,a,l,c){zi=zs=null,lg(a),$o=null,Ru=0;var m=a.return;try{if(xx(i,m,a,l,ut)){Ut=1,Kf(i,Tr(l,i.current)),tt=null;return}}catch(p){if(m!==null)throw tt=m,p;Ut=1,Kf(i,Tr(l,i.current)),tt=null;return}a.flags&32768?(gt||c===1?i=!0:Qo||(ut&536870912)!==0?i=!1:(Na=i=!0,(c===2||c===9||c===3||c===6)&&(c=Cr.current,c!==null&&c.tag===13&&(c.flags|=16384))),ub(a,i)):nh(a)}function nh(i){var a=i;do{if((a.flags&32768)!==0){ub(a,Na);return}i=a.return;var l=Dx(a.alternate,a,Yi);if(l!==null){tt=l;return}if(a=a.sibling,a!==null){tt=a;return}tt=a=i}while(a!==null);Ut===0&&(Ut=5)}function ub(i,a){do{var l=Nx(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);Ut=6,tt=null}function cb(i,a,l,c,m,p,S,w,P){i.cancelPendingCommit=null;do rh();while(pn!==0);if((_t&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=Vm,ya(i,l,p,S,w,P),i===It&&(tt=It=null,ut=0),Wo=a,ka=i,Zo=l,Bg=p,Hg=m,eb=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qx(Ri,function(){return gb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=fe.p,fe.p=2,S=_t,_t|=4;try{Px(i,a,l)}finally{_t=S,fe.p=m,W.T=c}}pn=1,fb(),hb(),db()}}function fb(){if(pn===1){pn=0;var i=ka,a=Wo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{KE(a,i);var p=ap,S=J_(i.containerInfo),w=p.focusedElem,P=p.selectionRange;if(S!==w&&w&&w.ownerDocument&&Z_(w.ownerDocument.documentElement,w)){if(P!==null&&Nm(w)){var Z=P.start,ae=P.end;if(ae===void 0&&(ae=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(ae,w.value.length);else{var le=w.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),ze=w.textContent.length,ke=Math.min(P.start,ze),At=P.end===void 0?ke:Math.min(P.end,ze);!te.extend&&ke>At&&(S=At,At=ke,ke=S);var q=W_(w,ke),F=W_(w,At);if(q&&F&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var K=le.createRange();K.setStart(q.node,q.offset),te.removeAllRanges(),ke>At?(te.addRange(K),te.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),te.addRange(K))}}}}for(le=[],te=w;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var se=le[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}gh=!!ip,ap=ip=null}finally{_t=m,fe.p=c,W.T=l}}i.current=a,pn=2}}function hb(){if(pn===2){pn=0;var i=ka,a=Wo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{HE(i,a.alternate,a)}finally{_t=m,fe.p=c,W.T=l}}pn=3}}function db(){if(pn===4||pn===3){pn=0,Eo();var i=ka,a=Wo,l=Zo,c=eb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,Wo=ka=null,mb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ma=null),va(l),a=a.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(mt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=W.T,m=fe.p,fe.p=2,W.T=null;try{for(var p=i.onRecoverableError,S=0;S<c.length;S++){var w=c[S];p(w.value,{componentStack:w.stack})}}finally{W.T=a,fe.p=m}}(Zo&3)!==0&&rh(),fi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===qg?ku++:(ku=0,qg=i):ku=0,Lu(0)}}function mb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,gu(a)))}function rh(i){return fb(),hb(),db(),gb()}function gb(){if(pn!==5)return!1;var i=ka,a=Bg;Bg=0;var l=va(Zo),c=W.T,m=fe.p;try{fe.p=32>l?32:l,W.T=null,l=Hg,Hg=null;var p=ka,S=Zo;if(pn=0,Wo=ka=null,Zo=0,(_t&6)!==0)throw Error(r(331));var w=_t;if(_t|=4,ZE(p.current),QE(p,p.current,S,l),_t=w,Lu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(mt,p)}catch{}return!0}finally{fe.p=m,W.T=c,mb(i,a)}}function pb(i,a,l){a=Tr(l,a),a=Sg(i.stateNode,a,2),i=Aa(i,a,2),i!==null&&(Mr(i,2),fi(i))}function Ct(i,a,l){if(i.tag===3)pb(i,i,l);else for(;a!==null;){if(a.tag===3){pb(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ma===null||!Ma.has(c))){i=Tr(l,i),l=EE(2),c=Aa(a,l,2),c!==null&&(bE(l,c,a,i),Mr(c,2),fi(c));break}}a=a.return}}function Yg(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Lx;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Ug=!0,m.add(l),i=Fx.bind(null,i,a,l),a.then(i,i))}function Fx(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,It===i&&(ut&l)===l&&(Ut===4||Ut===3&&(ut&62914560)===ut&&300>kn()-Fg?(_t&2)===0&&Jo(i,0):jg|=l,Xo===ut&&(Xo=0)),fi(i)}function yb(i,a){a===0&&(a=bs()),i=ko(i,a),i!==null&&(Mr(i,a),fi(i))}function Bx(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),yb(i,l)}function Hx(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),yb(i,l)}function qx(i,a){return Ai(i,a)}var ih=null,tl=null,Qg=!1,ah=!1,Xg=!1,Ks=0;function fi(i){i!==tl&&i.next===null&&(tl===null?ih=tl=i:tl=tl.next=i),ah=!0,Qg||(Qg=!0,Gx())}function Lu(i,a){if(!Xg&&ah){Xg=!0;do for(var l=!1,c=ih;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var S=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-Ht(42|i)+1)-1,p&=m&~(S&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,bb(c,p))}else p=ut,p=Ci(c,c===It?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||gr(c,p)||(l=!0,bb(c,p));c=c.next}while(l);Xg=!1}}function $x(){vb()}function vb(){ah=Qg=!1;var i=0;Ks!==0&&(e2()&&(i=Ks),Ks=0);for(var a=kn(),l=null,c=ih;c!==null;){var m=c.next,p=_b(c,a);p===0?(c.next=null,l===null?ih=m:l.next=m,m===null&&(tl=l)):(l=c,(i!==0||(p&3)!==0)&&(ah=!0)),c=m}Lu(i)}function _b(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var S=31-Ht(p),w=1<<S,P=m[S];P===-1?((w&l)===0||(w&c)!==0)&&(m[S]=pa(w,a)):P<=a&&(i.expiredLanes|=w),p&=~w}if(a=It,l=ut,l=Ci(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Mn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||gr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Mn(c),va(l)){case 2:case 8:l=da;break;case 32:l=Ri;break;case 268435456:l=dr;break;default:l=Ri}return c=Eb.bind(null,i),l=Ai(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Mn(c),i.callbackPriority=2,i.callbackNode=null,2}function Eb(i,a){if(pn!==0&&pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(rh()&&i.callbackNode!==l)return null;var c=ut;return c=Ci(i,i===It?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(nb(i,c,a),_b(i,kn()),i.callbackNode!=null&&i.callbackNode===l?Eb.bind(null,i):null)}function bb(i,a){if(rh())return null;nb(i,a,!0)}function Gx(){n2(function(){(_t&6)!==0?Ai(Es,$x):vb()})}function Wg(){return Ks===0&&(Ks=Ii()),Ks}function Sb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function Tb(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Kx(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var p=Sb((m[me]||null).action),S=c.submitter;S&&(a=(a=S[me]||null)?Sb(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var w=new wo("action","action",null,c,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ks!==0){var P=S?Tb(m,S):new FormData(m);yg(l,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(w.preventDefault(),P=S?Tb(m,S):new FormData(m),yg(l,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var Zg=0;Zg<Lm.length;Zg++){var Jg=Lm[Zg],Yx=Jg.toLowerCase(),Qx=Jg[0].toUpperCase()+Jg.slice(1);Lr(Yx,"on"+Qx)}Lr(n0,"onAnimationEnd"),Lr(r0,"onAnimationIteration"),Lr(i0,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(hx,"onTransitionRun"),Lr(dx,"onTransitionStart"),Lr(mx,"onTransitionCancel"),Lr(a0,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function wb(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var S=c.length-1;0<=S;S--){var w=c[S],P=w.instance,Z=w.currentTarget;if(w=w.listener,P!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(ae){Gf(ae)}m.currentTarget=null,p=P}else for(S=0;S<c.length;S++){if(w=c[S],P=w.instance,Z=w.currentTarget,w=w.listener,P!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(ae){Gf(ae)}m.currentTarget=null,p=P}}}}function nt(i,a){var l=a[De];l===void 0&&(l=a[De]=new Set);var c=i+"__bubble";l.has(c)||(Ab(a,i,2,!1),l.add(c))}function ep(i,a,l){var c=0;a&&(c|=4),Ab(l,i,c,a)}var sh="_reactListening"+Math.random().toString(36).slice(2);function tp(i){if(!i[sh]){i[sh]=!0,We.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||ep(l,!1,i),ep(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[sh]||(a[sh]=!0,ep("selectionchange",!1,a))}}function Ab(i,a,l,c){switch(Qb(a)){case 2:var m=T2;break;case 8:m=w2;break;default:m=gp}l=m.bind(null,a,l,i),m=void 0,!br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function np(i,a,l,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var w=c.stateNode.containerInfo;if(w===m)break;if(S===4)for(S=c.return;S!==null;){var P=S.tag;if((P===3||P===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;w!==null;){if(S=Le(w),S===null)return;if(P=S.tag,P===5||P===6||P===26||P===27){c=p=S;continue e}w=w.parentNode}}c=c.return}lf(function(){var Z=p,ae=Er(l),le=[];e:{var ee=s0.get(i);if(ee!==void 0){var te=wo,ze=i;switch(i){case"keypress":if(ni(l)===0)break e;case"keydown":case"keyup":te=Oo;break;case"focusin":ze="focus",te=Co;break;case"focusout":ze="blur",te=Co;break;case"beforeblur":case"afterblur":te=Co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=pf;break;case n0:case r0:case i0:te=Io;break;case a0:te=vf;break;case"scroll":case"scrollend":te=uf;break;case"wheel":te=Do;break;case"copy":case"cut":case"paste":te=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ou;break;case"toggle":case"beforetoggle":te=Ef}var ke=(a&4)!==0,At=!ke&&(i==="scroll"||i==="scrollend"),q=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var F=Z,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||q===null||(se=Rs(F,q),se!=null&&ke.push(Uu(F,se,K))),At)break;F=F.return}0<ke.length&&(ee=new te(ee,ze,null,l,ae),le.push({event:ee,listeners:ke}))}}if((a&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",ee&&l!==Di&&(ze=l.relatedTarget||l.fromElement)&&(Le(ze)||ze[ve]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(ze=l.relatedTarget||l.toElement,te=Z,ze=ze?Le(ze):null,ze!==null&&(At=o(ze),ke=ze.tag,ze!==At||ke!==5&&ke!==27&&ke!==6)&&(ze=null)):(te=null,ze=Z),te!==ze)){if(ke=Sr,se="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ke=ou,se="onPointerLeave",q="onPointerEnter",F="pointer"),At=te==null?ee:pt(te),K=ze==null?ee:pt(ze),ee=new ke(se,F+"leave",te,l,ae),ee.target=At,ee.relatedTarget=K,se=null,Le(ae)===Z&&(ke=new ke(q,F+"enter",ze,l,ae),ke.target=K,ke.relatedTarget=At,se=ke),At=se,te&&ze)t:{for(ke=te,q=ze,F=0,K=ke;K;K=nl(K))F++;for(K=0,se=q;se;se=nl(se))K++;for(;0<F-K;)ke=nl(ke),F--;for(;0<K-F;)q=nl(q),K--;for(;F--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=nl(ke),q=nl(q)}ke=null}else ke=null;te!==null&&Rb(le,ee,te,ke,!1),ze!==null&&At!==null&&Rb(le,At,ze,ke,!0)}}e:{if(ee=Z?pt(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=$_;else if(Wt(ee))if(G_)Se=ux;else{Se=ox;var Ze=sx}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&eu(Z.elementType)&&(Se=$_):Se=lx;if(Se&&(Se=Se(i,Z))){Li(le,Se,l,ae);break e}Ze&&Ze(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ea(ee,"number",ee.value)}switch(Ze=Z?pt(Z):window,i){case"focusin":(Wt(Ze)||Ze.contentEditable==="true")&&(No=Ze,Pm=Z,cu=null);break;case"focusout":cu=Pm=No=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,e0(le,l,ae);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":e0(le,l,ae)}var Ie;if(ai)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ot?ne(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(b&&l.locale!=="ko"&&(ot||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ot&&(Ie=nu()):(ti=ae,ba="value"in ti?ti.value:ti.textContent,ot=!0)),Ze=oh(Z,Ve),0<Ze.length&&(Ve=new au(Ve,i,null,l,ae),le.push({event:Ve,listeners:Ze}),Ie?Ve.data=Ie:(Ie=pe(l),Ie!==null&&(Ve.data=Ie)))),(Ie=v?Xt(i,l):lt(i,l))&&(Ve=oh(Z,"onBeforeInput"),0<Ve.length&&(Ze=new au("onBeforeInput","beforeinput",null,l,ae),le.push({event:Ze,listeners:Ve}),Ze.data=Ie)),Kx(le,i,Z,l,ae)}wb(le,a)})}function Uu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function oh(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Rs(i,l),m!=null&&c.unshift(Uu(i,m,p)),m=Rs(i,a),m!=null&&c.push(Uu(i,m,p))),i.tag===3)return c;i=i.return}return[]}function nl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Rb(i,a,l,c,m){for(var p=a._reactName,S=[];l!==null&&l!==c;){var w=l,P=w.alternate,Z=w.stateNode;if(w=w.tag,P!==null&&P===c)break;w!==5&&w!==26&&w!==27||Z===null||(P=Z,m?(Z=Rs(l,p),Z!=null&&S.unshift(Uu(l,Z,P))):m||(Z=Rs(l,p),Z!=null&&S.push(Uu(l,Z,P)))),l=l.return}S.length!==0&&i.push({event:a,listeners:S})}var Wx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Cb(i){return(typeof i=="string"?i:""+i).replace(Wx,`
`).replace(Zx,"")}function Ib(i,a){return a=Cb(a),Cb(i)===a}function lh(){}function wt(i,a,l,c,m,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||_r(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&_r(i,""+c);break;case"className":Un(i,"class",c);break;case"tabIndex":Un(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(i,l,c);break;case"style":Jl(i,c,p);break;case"data":if(a!=="object"){Un(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=To(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&wt(i,a,"name",m.name,m,null),wt(i,a,"formEncType",m.formEncType,m,null),wt(i,a,"formMethod",m.formMethod,m,null),wt(i,a,"formTarget",m.formTarget,m,null)):(wt(i,a,"encType",m.encType,m,null),wt(i,a,"method",m.method,m,null),wt(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=To(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=lh);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Rn(i,"popover",c);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Rn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Rm.get(l)||l,Rn(i,l,c))}}function rp(i,a,l,c,m,p){switch(l){case"style":Jl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?_r(i,c):(typeof c=="number"||typeof c=="bigint")&&_r(i,""+c);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=i[me]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Rn(i,l,c)}}}function yn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,p,S,l,null)}}m&&wt(i,a,"srcSet",l.srcSet,l,null),c&&wt(i,a,"src",l.src,l,null);return;case"input":nt("invalid",i);var w=p=S=m=null,P=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":S=ae;break;case"checked":P=ae;break;case"defaultChecked":Z=ae;break;case"value":p=ae;break;case"defaultValue":w=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:wt(i,a,c,ae,l,null)}}Ts(i,p,w,P,Z,S,m,!1),So(i);return;case"select":nt("invalid",i),c=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":S=w;break;case"multiple":c=w;default:wt(i,a,m,w,l,null)}a=p,l=S,i.multiple=!!c,a!=null?Oi(i,!!c,a,!1):l!=null&&Oi(i,!!c,l,!0);return;case"textarea":nt("invalid",i),p=m=c=null;for(S in l)if(l.hasOwnProperty(S)&&(w=l[S],w!=null))switch(S){case"value":c=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:wt(i,a,S,w,l,null)}ws(i,c,m,p),So(i);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,a,P,c,l,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(c=0;c<Vu.length;c++)nt(Vu[c],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,Z,c,l,null)}return;default:if(eu(a)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&rp(i,a,ae,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&wt(i,a,w,c,l,null))}function Jx(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,w=null,P=null,Z=null,ae=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":P=le;default:c.hasOwnProperty(te)||wt(i,a,te,null,c,le)}}for(var ee in c){var te=c[ee];if(le=l[ee],c.hasOwnProperty(ee)&&(te!=null||le!=null))switch(ee){case"type":p=te;break;case"name":m=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":S=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==le&&wt(i,a,ee,te,c,le)}}Zn(i,S,w,P,Z,ae,p,m);return;case"select":te=S=w=ee=null;for(p in l)if(P=l[p],l.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":te=P;default:c.hasOwnProperty(p)||wt(i,a,p,null,c,P)}for(m in c)if(p=c[m],P=l[m],c.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":ee=p;break;case"defaultValue":w=p;break;case"multiple":S=p;default:p!==P&&wt(i,a,m,p,c,P)}a=w,l=S,c=te,ee!=null?Oi(i,!!l,ee,!1):!!c!=!!l&&(a!=null?Oi(i,!!l,a,!0):Oi(i,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:wt(i,a,w,null,c,m)}for(S in c)if(m=c[S],p=l[S],c.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":ee=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&wt(i,a,S,m,c,p)}St(i,ee,te);return;case"option":for(var ze in l)if(ee=l[ze],l.hasOwnProperty(ze)&&ee!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:wt(i,a,ze,null,c,ee)}for(P in c)if(ee=c[P],te=l[P],c.hasOwnProperty(P)&&ee!==te&&(ee!=null||te!=null))switch(P){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(i,a,P,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)ee=l[ke],l.hasOwnProperty(ke)&&ee!=null&&!c.hasOwnProperty(ke)&&wt(i,a,ke,null,c,ee);for(Z in c)if(ee=c[Z],te=l[Z],c.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:wt(i,a,Z,ee,c,te)}return;default:if(eu(a)){for(var At in l)ee=l[At],l.hasOwnProperty(At)&&ee!==void 0&&!c.hasOwnProperty(At)&&rp(i,a,At,void 0,c,ee);for(ae in c)ee=c[ae],te=l[ae],!c.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||rp(i,a,ae,ee,c,te);return}}for(var q in l)ee=l[q],l.hasOwnProperty(q)&&ee!=null&&!c.hasOwnProperty(q)&&wt(i,a,q,null,c,ee);for(le in c)ee=c[le],te=l[le],!c.hasOwnProperty(le)||ee===te||ee==null&&te==null||wt(i,a,le,ee,c,te)}var ip=null,ap=null;function uh(i){return i.nodeType===9?i:i.ownerDocument}function xb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function sp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var op=null;function e2(){var i=window.event;return i&&i.type==="popstate"?i===op?!1:(op=i,!0):(op=null,!1)}var Db=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(i){return Nb.resolve(null).then(i).catch(r2)}:Db;function r2(i){setTimeout(function(){throw i})}function Va(i){return i==="head"}function Pb(i,a){var l=a,c=0,m=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&ju(S.documentElement),l&2&&ju(S.body),l&4)for(l=S.head,ju(l),S=l.firstChild;S;){var w=S.nextSibling,P=S.nodeName;S[Me]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=w}}if(m===0){i.removeChild(p),Ku(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);Ku(a)}function lp(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lp(l),we(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function i2(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Me])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Ur(i.nextSibling),i===null)break}return null}function a2(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ur(i.nextSibling),i===null))return null;return i}function up(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function s2(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ur(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var cp=null;function Mb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function kb(i,a,l){switch(a=uh(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ju(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);we(i)}var xr=new Map,Lb=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qi=fe.d;fe.d={f:o2,r:l2,D:u2,C:c2,L:f2,m:h2,X:m2,S:d2,M:g2};function o2(){var i=Qi.f(),a=th();return i||a}function l2(i){var a=et(i);a!==null&&a.tag===5&&a.type==="form"?nE(a):Qi.r(i)}var rl=typeof document>"u"?null:document;function Vb(i,a,l){var c=rl;if(c&&typeof a=="string"&&a){var m=$t(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Lb.has(m)||(Lb.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),yn(a,"link",i),st(a),c.head.appendChild(a)))}}function u2(i){Qi.D(i),Vb("dns-prefetch",i,null)}function c2(i,a){Qi.C(i,a),Vb("preconnect",i,a)}function f2(i,a,l){Qi.L(i,a,l);var c=rl;if(c&&i&&a){var m='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+$t(l.imageSizes)+'"]')):m+='[href="'+$t(i)+'"]';var p=m;switch(a){case"style":p=il(i);break;case"script":p=al(i)}xr.has(p)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),xr.set(p,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(zu(p))||a==="script"&&c.querySelector(Fu(p))||(a=c.createElement("link"),yn(a,"link",i),st(a),c.head.appendChild(a)))}}function h2(i,a){Qi.m(i,a);var l=rl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+$t(c)+'"][href="'+$t(i)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=al(i)}if(!xr.has(p)&&(i=y({rel:"modulepreload",href:i},a),xr.set(p,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fu(p)))return}c=l.createElement("link"),yn(c,"link",i),st(c),l.head.appendChild(c)}}}function d2(i,a,l){Qi.S(i,a,l);var c=rl;if(c&&i){var m=ht(c).hoistableStyles,p=il(i);a=a||"default";var S=m.get(p);if(!S){var w={loading:0,preload:null};if(S=c.querySelector(zu(p)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=xr.get(p))&&fp(i,l);var P=S=c.createElement("link");st(P),yn(P,"link",i),P._p=new Promise(function(Z,ae){P.onload=Z,P.onerror=ae}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,fh(S,a,c)}S={type:"stylesheet",instance:S,count:1,state:w},m.set(p,S)}}}function m2(i,a){Qi.X(i,a);var l=rl;if(l&&i){var c=ht(l).hoistableScripts,m=al(i),p=c.get(m);p||(p=l.querySelector(Fu(m)),p||(i=y({src:i,async:!0},a),(a=xr.get(m))&&hp(i,a),p=l.createElement("script"),st(p),yn(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function g2(i,a){Qi.M(i,a);var l=rl;if(l&&i){var c=ht(l).hoistableScripts,m=al(i),p=c.get(m);p||(p=l.querySelector(Fu(m)),p||(i=y({src:i,async:!0,type:"module"},a),(a=xr.get(m))&&hp(i,a),p=l.createElement("script"),st(p),yn(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function Ub(i,a,l,c){var m=(m=Oe.current)?ch(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=il(l.href),l=ht(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=il(l.href);var p=ht(m).hoistableStyles,S=p.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,S),(p=m.querySelector(zu(i)))&&!p._p&&(S.instance=p,S.state.loading=5),xr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xr.set(i,l),p||p2(m,i,l,S.state))),a&&c===null)throw Error(r(528,""));return S}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(l),l=ht(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function il(i){return'href="'+$t(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function jb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),yn(a,"link",l),st(a),i.head.appendChild(a))}function al(i){return'[src="'+$t(i)+'"]'}function Fu(i){return"script[async]"+i}function zb(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+$t(l.href)+'"]');if(c)return a.instance=c,st(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),st(c),yn(c,"style",m),fh(c,l.precedence,i),a.instance=c;case"stylesheet":m=il(l.href);var p=i.querySelector(zu(m));if(p)return a.state.loading|=4,a.instance=p,st(p),p;c=jb(l),(m=xr.get(m))&&fp(c,m),p=(i.ownerDocument||i).createElement("link"),st(p);var S=p;return S._p=new Promise(function(w,P){S.onload=w,S.onerror=P}),yn(p,"link",c),a.state.loading|=4,fh(p,l.precedence,i),a.instance=p;case"script":return p=al(l.src),(m=i.querySelector(Fu(p)))?(a.instance=m,st(m),m):(c=l,(m=xr.get(p))&&(c=y({},l),hp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),st(m),yn(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,fh(c,l.precedence,i));return a.instance}function fh(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,S=0;S<c.length;S++){var w=c[S];if(w.dataset.precedence===a)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function fp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function hp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var hh=null;function Fb(i,a,l){if(hh===null){var c=new Map,m=hh=new Map;m.set(l,c)}else m=hh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var p=l[m];if(!(p[Me]||p[oe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=i+S;var w=c.get(S);w?w.push(p):c.set(S,[p])}}return c}function Bb(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function y2(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Hb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Bu=null;function v2(){}function _2(i,a,l){if(Bu===null)throw Error(r(475));var c=Bu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=il(l.href),p=i.querySelector(zu(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=dh.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=p,st(p);return}p=i.ownerDocument||i,l=jb(l),(m=xr.get(m))&&fp(l,m),p=p.createElement("link"),st(p);var S=p;S._p=new Promise(function(w,P){S.onload=w,S.onerror=P}),yn(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=dh.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function E2(){if(Bu===null)throw Error(r(475));var i=Bu;return i.stylesheets&&i.count===0&&dp(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&dp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function dh(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mh=null;function dp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mh=new Map,a.forEach(b2,i),mh=null,dh.call(i))}function b2(i,a){if(!(a.state.loading&4)){var l=mh.get(i);if(l)var c=l.get(null);else{l=new Map,mh.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}m=a.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||c,p===c&&l.set(null,m),l.set(S,m),this.count++,c=dh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Hu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function S2(i,a,l,c,m,p,S,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function qb(i,a,l,c,m,p,S,w,P,Z,ae,le){return i=new S2(i,a,l,S,w,P,Z,le),a=1,p===!0&&(a|=24),p=er(3,null,null,a),i.current=p,p.stateNode=i,a=Ym(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},Zm(p),i}function $b(i){return i?(i=Lo,i):Lo}function Gb(i,a,l,c,m,p){m=$b(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Aa(i,c,a),l!==null&&(ar(l,i,a),_u(l,i,a))}function Kb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function mp(i,a){Kb(i,a),(i=i.alternate)&&Kb(i,a)}function Yb(i){if(i.tag===13){var a=ko(i,67108864);a!==null&&ar(a,i,67108864),mp(i,67108864)}}var gh=!0;function T2(i,a,l,c){var m=W.T;W.T=null;var p=fe.p;try{fe.p=2,gp(i,a,l,c)}finally{fe.p=p,W.T=m}}function w2(i,a,l,c){var m=W.T;W.T=null;var p=fe.p;try{fe.p=8,gp(i,a,l,c)}finally{fe.p=p,W.T=m}}function gp(i,a,l,c){if(gh){var m=pp(c);if(m===null)np(i,a,c,ph,l),Xb(i,c);else if(R2(m,i,a,l,c))c.stopPropagation();else if(Xb(i,c),a&4&&-1<A2.indexOf(i)){for(;m!==null;){var p=et(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Qn(p.pendingLanes);if(S!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var P=1<<31-Ht(S);w.entanglements[1]|=P,S&=~P}fi(p),(_t&6)===0&&(Jf=kn()+500,Lu(0))}}break;case 13:w=ko(p,2),w!==null&&ar(w,p,2),th(),mp(p,2)}if(p=pp(c),p===null&&np(i,a,c,ph,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else np(i,a,c,null,l)}}function pp(i){return i=Er(i),yp(i)}var ph=null;function yp(i){if(ph=null,i=Le(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ph=i,null}function Qb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xl()){case Es:return 2;case da:return 8;case Ri:case Pr:return 32;case dr:return 268435456;default:return 32}default:return 32}}var vp=!1,Ua=null,ja=null,za=null,qu=new Map,$u=new Map,Fa=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(i,a){switch(i){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":qu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(a.pointerId)}}function Gu(i,a,l,c,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=et(a),a!==null&&Yb(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function R2(i,a,l,c,m){switch(a){case"focusin":return Ua=Gu(Ua,i,a,l,c,m),!0;case"dragenter":return ja=Gu(ja,i,a,l,c,m),!0;case"mouseover":return za=Gu(za,i,a,l,c,m),!0;case"pointerover":var p=m.pointerId;return qu.set(p,Gu(qu.get(p)||null,i,a,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,$u.set(p,Gu($u.get(p)||null,i,a,l,c,m)),!0}return!1}function Wb(i){var a=Le(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,$(i.priority,function(){if(l.tag===13){var c=ir();c=Wr(c);var m=ko(l,c);m!==null&&ar(m,l,c),mp(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=pp(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Di=c,l.target.dispatchEvent(c),Di=null}else return a=et(l),a!==null&&Yb(a),i.blockedOn=l,!1;a.shift()}return!0}function Zb(i,a,l){yh(i)&&l.delete(a)}function C2(){vp=!1,Ua!==null&&yh(Ua)&&(Ua=null),ja!==null&&yh(ja)&&(ja=null),za!==null&&yh(za)&&(za=null),qu.forEach(Zb),$u.forEach(Zb)}function vh(i,a){i.blockedOn===a&&(i.blockedOn=null,vp||(vp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,C2)))}var _h=null;function Jb(i){_h!==i&&(_h=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_h===i&&(_h=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(yp(c||l)===null)continue;break}var p=et(l);p!==null&&(i.splice(a,3),a-=3,yg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Ku(i){function a(P){return vh(P,i)}Ua!==null&&vh(Ua,i),ja!==null&&vh(ja,i),za!==null&&vh(za,i),qu.forEach(a),$u.forEach(a);for(var l=0;l<Fa.length;l++){var c=Fa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Fa.length&&(l=Fa[0],l.blockedOn===null);)Wb(l),l.blockedOn===null&&Fa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],S=m[me]||null;if(typeof p=="function")S||Jb(l);else if(S){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[me]||null)w=S.formAction;else if(yp(m)!==null)continue}else w=S.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),Jb(l)}}}function _p(i){this._internalRoot=i}Eh.prototype.render=_p.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=ir();Gb(l,c,i,a,null,null)},Eh.prototype.unmount=_p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Gb(i.current,2,null,i,null,null),th(),a[ve]=null}};function Eh(i){this._internalRoot=i}Eh.prototype.unstable_scheduleHydration=function(i){if(i){var a=V();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Fa.length&&a!==0&&a<Fa[l].priority;l++);Fa.splice(l,0,i),l===0&&Wb(i)}};var eS=e.version;if(eS!=="19.1.0")throw Error(r(527,eS,"19.1.0"));fe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var I2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{mt=bh.inject(I2),Ye=bh}catch{}}return Qu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=pE,p=yE,S=vE,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=qb(i,1,!1,null,null,l,c,m,p,S,w,null),i[ve]=a.current,tp(i),new _p(a)},Qu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",p=pE,S=yE,w=vE,P=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=qb(i,1,!0,a,l??null,c,m,p,S,w,P,Z),a.context=$b(null),l=a.current,c=ir(),c=Wr(c),m=wa(c),m.callback=null,Aa(l,m,c),l=c,a.current.lanes=l,Mr(a,l),fi(a),i[ve]=a.current,tp(i),new Eh(a)},Qu.version="19.1.0",Qu}var cS;function j2(){if(cS)return Tp.exports;cS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=U2(),Tp.exports}var z2=j2(),Cp={exports:{}},Ip={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function F2(){if(fS)return Ip;fS=1;var n=Fd();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,u=n.useMemo,f=n.useDebugValue;return Ip.useSyncExternalStoreWithSelector=function(d,g,y,_,E){var T=s(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=u(function(){function M(X){if(!U){if(U=!0,J=X,X=_(X),E!==void 0&&A.hasValue){var z=A.value;if(E(z,X))return Y=z}return Y=X}if(z=Y,t(J,X))return z;var O=_(X);return E!==void 0&&E(z,O)?(J=X,z):(J=X,Y=O)}var U=!1,J,Y,re=y===void 0?null:y;return[function(){return M(g())},re===null?void 0:function(){return M(re())}]},[g,y,_,E]);var k=r(d,T[0],T[1]);return o(function(){A.hasValue=!0,A.value=k},[k]),f(k),k},Ip}var hS;function B2(){return hS||(hS=1,Cp.exports=F2()),Cp.exports}var H2=B2();function q2(n){n()}function $2(){let n=null,e=null;return{clear(){n=null,e=null},notify(){q2(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var dS={notify(){},get:()=>[]};function G2(n,e){let t,r=dS,s=0,o=!1;function u(k){y();const M=r.subscribe(k);let U=!1;return()=>{U||(U=!0,M(),_())}}function f(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function g(){return o}function y(){s++,t||(t=n.subscribe(d),r=$2())}function _(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=dS)}function E(){o||(o=!0,y())}function T(){o&&(o=!1,_())}const A={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:g,trySubscribe:E,tryUnsubscribe:T,getListeners:()=>r};return A}var K2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y2=K2(),Q2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X2=Q2(),W2=()=>Y2||X2?x.useLayoutEffect:x.useEffect,Z2=W2(),xp=Symbol.for("react-redux-context"),Op=typeof globalThis<"u"?globalThis:{};function J2(){if(!x.createContext)return{};const n=Op[xp]??(Op[xp]=new Map);let e=n.get(x.createContext);return e||(e=x.createContext(null),n.set(x.createContext,e)),e}var is=J2();function eO(n){const{children:e,context:t,serverState:r,store:s}=n,o=x.useMemo(()=>{const d=G2(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),u=x.useMemo(()=>s.getState(),[s]);Z2(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const f=t||is;return x.createElement(f.Provider,{value:o},e)}var tO=eO;function Sv(n=is){return function(){return x.useContext(n)}}var Pw=Sv();function Mw(n=is){const e=n===is?Pw:Sv(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var nO=Mw();function rO(n=is){const e=n===is?nO:Mw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var jl=rO(),iO=(n,e)=>n===e;function aO(n=is){const e=n===is?Pw:Sv(n),t=(r,s={})=>{const{equalityFn:o=iO}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:f,subscription:d,getServerState:g}=u;x.useRef(!0);const y=x.useCallback({[r.name](E){return r(E)}}[r.name],[r]),_=H2.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,g||f.getState,y,o);return x.useDebugValue(_),_};return Object.assign(t,{withTypes:()=>t}),t}var Gn=aO();const sO=()=>{};var mS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],f=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,f=u?n[s+1]:0,d=s+2<n.length,g=d?n[s+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let E=(f&15)<<2|g>>6,T=g&63;d||(T=64,u||(E=64)),r.push(t[y],t[_],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||f==null||g==null||_==null)throw new lO;const E=o<<2|f>>4;if(r.push(E),g!==64){const T=f<<4&240|g>>2;if(r.push(T),_!==64){const A=g<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uO=function(n){const e=kw(n);return Lw.encodeByteArray(e,!0)},rd=function(n){return uO(n).replace(/\./g,"")},Vw=function(n){try{return Lw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=()=>cO().__FIREBASE_DEFAULTS__,hO=()=>{if(typeof process>"u"||typeof mS>"u")return;const n=mS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vw(n[1]);return e&&JSON.parse(e)},Bd=()=>{try{return sO()||fO()||hO()||dO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uw=n=>{var e,t;return(t=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mO=n=>{const e=Uw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},jw=()=>{var n;return(n=Bd())===null||n===void 0?void 0:n.config},zw=n=>{var e;return(e=Bd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){return n.endsWith(".cloudworkstations.dev")}async function Fw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rd(JSON.stringify(t)),rd(JSON.stringify(u)),""].join(".")}const fc={};function yO(){const n={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function vO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gS=!1;function Bw(n,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||fc[n]===e||fc[n]||gS)return;fc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=yO().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{gS=!0,u()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=vO(r),T=t("text"),A=document.getElementById(T)||document.createElement("span"),k=t("learnmore"),M=document.getElementById(k)||document.createElement("a"),U=t("preprendIcon"),J=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Y=E.element;f(Y),y(M,k);const re=g();d(J,U),Y.append(J,A,M,re),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function EO(){var n;const e=(n=Bd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wO(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AO(){return!EO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RO(){try{return typeof indexedDB=="object"}catch{return!1}}function CO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FirebaseError";class la extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IO,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?xO(o,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new la(s,f,r)}}function xO(n,e){return n.replace(OO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const OO=/\{\$([^}]+)}/g;function DO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function to(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(pS(o)&&pS(u)){if(!to(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function pS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function nc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function NO(n,e){const t=new PO(n,e);return t.subscribe.bind(t)}class PO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Dp),s.error===void 0&&(s.error=Dp),s.complete===void 0&&(s.complete=Dp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(n){return n&&n._delegate?n._delegate:n}class no{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VO(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LO(n){return n===Ys?void 0:n}function VO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const jO={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},zO=it.INFO,FO={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},BO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=FO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Tv=class{constructor(e){this.name=e,this._logLevel=zO,this._logHandler=BO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}};const HO=(n,e)=>e.some(t=>n instanceof t);let yS,vS;function qO(){return yS||(yS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return vS||(vS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hw=new WeakMap,fy=new WeakMap,qw=new WeakMap,Np=new WeakMap,wv=new WeakMap;function GO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Za(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Hw.set(t,n)}).catch(()=>{}),wv.set(e,n),e}function KO(n){if(fy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});fy.set(n,e)}let hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Za(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YO(n){hy=n(hy)}function QO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pp(this),e,...t);return qw.set(r,e.sort?e.sort():[e]),Za(r)}:$O().includes(n)?function(...e){return n.apply(Pp(this),e),Za(Hw.get(this))}:function(...e){return Za(n.apply(Pp(this),e))}}function XO(n){return typeof n=="function"?QO(n):(n instanceof IDBTransaction&&KO(n),HO(n,qO())?new Proxy(n,hy):n)}function Za(n){if(n instanceof IDBRequest)return GO(n);if(Np.has(n))return Np.get(n);const e=XO(n);return e!==n&&(Np.set(n,e),wv.set(e,n)),e}const Pp=n=>wv.get(n);function WO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),f=Za(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Za(u.result),d.oldVersion,d.newVersion,Za(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const ZO=["get","getKey","getAll","getAllKeys","count"],JO=["put","add","delete","clear"],Mp=new Map;function _S(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=JO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZO.includes(t)))return;const o=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),s&&d.done]))[0]};return Mp.set(e,o),o}YO(n=>({...n,get:(e,t,r)=>_S(e,t)||n.get(e,t,r),has:(e,t)=>!!_S(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function tD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",ES="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Tv("@firebase/app"),nD="@firebase/app-compat",rD="@firebase/analytics-compat",iD="@firebase/analytics",aD="@firebase/app-check-compat",sD="@firebase/app-check",oD="@firebase/auth",lD="@firebase/auth-compat",uD="@firebase/database",cD="@firebase/data-connect",fD="@firebase/database-compat",hD="@firebase/functions",dD="@firebase/functions-compat",mD="@firebase/installations",gD="@firebase/installations-compat",pD="@firebase/messaging",yD="@firebase/messaging-compat",vD="@firebase/performance",_D="@firebase/performance-compat",ED="@firebase/remote-config",bD="@firebase/remote-config-compat",SD="@firebase/storage",TD="@firebase/storage-compat",wD="@firebase/firestore",AD="@firebase/ai",RD="@firebase/firestore-compat",CD="firebase",ID="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="[DEFAULT]",xD={[dy]:"fire-core",[nD]:"fire-core-compat",[iD]:"fire-analytics",[rD]:"fire-analytics-compat",[sD]:"fire-app-check",[aD]:"fire-app-check-compat",[oD]:"fire-auth",[lD]:"fire-auth-compat",[uD]:"fire-rtdb",[cD]:"fire-data-connect",[fD]:"fire-rtdb-compat",[hD]:"fire-fn",[dD]:"fire-fn-compat",[mD]:"fire-iid",[gD]:"fire-iid-compat",[pD]:"fire-fcm",[yD]:"fire-fcm-compat",[vD]:"fire-perf",[_D]:"fire-perf-compat",[ED]:"fire-rc",[bD]:"fire-rc-compat",[SD]:"fire-gcs",[TD]:"fire-gcs-compat",[wD]:"fire-fst",[RD]:"fire-fst-compat",[AD]:"fire-vertex","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,OD=new Map,gy=new Map;function bS(n,e){try{n.container.addComponent(e)}catch(t){ta.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Al(n){const e=n.name;if(gy.has(e))return ta.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,n);for(const t of id.values())bS(t,n);for(const t of OD.values())bS(t,n);return!0}function Av(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Bc("app","Firebase",DD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=ID;function $w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:my,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ja.create("bad-app-name",{appName:String(s)});if(t||(t=jw()),!t)throw Ja.create("no-options");const o=id.get(s);if(o){if(to(t,o.options)&&to(r,o.config))return o;throw Ja.create("duplicate-app",{appName:s})}const u=new UO(s);for(const d of gy.values())u.addComponent(d);const f=new ND(t,r,u);return id.set(s,f),f}function Gw(n=my){const e=id.get(n);if(!e&&n===my&&jw())return $w();if(!e)throw Ja.create("no-app",{appName:n});return e}function es(n,e,t){var r;let s=(r=xD[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ta.warn(f.join(" "));return}Al(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebase-heartbeat-database",MD=1,bc="firebase-heartbeat-store";let kp=null;function Kw(){return kp||(kp=WO(PD,MD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ja.create("idb-open",{originalErrorMessage:n.message})})),kp}async function kD(n){try{const t=(await Kw()).transaction(bc),r=await t.objectStore(bc).get(Yw(n));return await t.done,r}catch(e){if(e instanceof la)ta.warn(e.message);else{const t=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ta.warn(t.message)}}}async function SS(n,e){try{const r=(await Kw()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,Yw(n)),await r.done}catch(t){if(t instanceof la)ta.warn(t.message);else{const r=Ja.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ta.warn(r.message)}}}function Yw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,VD=30;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>VD){const u=FD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ta.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TS(),{heartbeatsToSend:r,unsentEntries:s}=jD(this._heartbeatsCache.heartbeats),o=rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ta.warn(t),""}}}function TS(){return new Date().toISOString().substring(0,10)}function jD(n,e=LD){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),wS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RO()?CO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return SS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return SS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wS(n){return rd(JSON.stringify({version:2,heartbeats:n})).length}function FD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){Al(new no("platform-logger",e=>new eD(e),"PRIVATE")),Al(new no("heartbeat",e=>new UD(e),"PRIVATE")),es(dy,ES,n),es(dy,ES,"esm2017"),es("fire-js","")}BD("");function Rv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HD=Qw,Xw=new Bc("auth","Firebase",Qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Tv("@firebase/auth");function qD(n,...e){ad.logLevel<=it.WARN&&ad.warn(`Auth (${Fl}): ${n}`,...e)}function kh(n,...e){ad.logLevel<=it.ERROR&&ad.error(`Auth (${Fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw Cv(n,...e)}function yi(n,...e){return Cv(n,...e)}function Ww(n,e,t){const r=Object.assign(Object.assign({},HD()),{[e]:t});return new Bc("auth","Firebase",r).create(e,{appName:n.name})}function Zi(n){return Ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xw.create(n,...e)}function Ue(n,e,...t){if(!n)throw Cv(e,...t)}function Xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kh(e),new Error(e)}function na(n,e){n||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $D(){return AS()==="http:"||AS()==="https:"}function AS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($D()||SO()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,na(t>e,"Short delay should be less than long delay!"),this.isMobile=_O()||TO()}get(){return GD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e){na(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new qc(3e4,6e4);function ys(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function vs(n,e,t,r,s={}){return Jw(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Hc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:d},o);return bO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&zl(n.emulatorConfig.host)&&(g.credentials="include"),Zw.fetch()(await eA(n,n.config.apiHost,t,f),g)})}async function Jw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YD),e);try{const s=new ZD(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Sh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,g]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Sh(n,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ww(n,y,g);Hr(n,y)}}catch(s){if(s instanceof la)throw s;Hr(n,"network-request-failed",{message:String(s)})}}async function $c(n,e,t,r,s={}){const o=await vs(n,e,t,r,s);return"mfaPendingCredential"in o&&Hr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function eA(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Iv(n.config,s):`${n.config.apiScheme}://${s}`;return QD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function WD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),XD.get())})}}function Sh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=yi(n,e,r);return s.customData._tokenResponse=t,s}function RS(n){return n!==void 0&&n.enterprise!==void 0}class JD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eN(n,e){return vs(n,"GET","/v2/recaptchaConfig",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e){return vs(n,"POST","/v1/accounts:delete",e)}async function sd(n,e){return vs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(n,e=!1){const t=Kn(n),r=await t.getIdToken(e),s=xv(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:hc(Lp(s.auth_time)),issuedAtTime:hc(Lp(s.iat)),expirationTime:hc(Lp(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lp(n){return Number(n)*1e3}function xv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vw(t);return s?JSON.parse(s):(kh("Failed to decode base64 JWT payload"),null)}catch(s){return kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CS(n){const e=xv(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof la&&rN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Sc(n,sd(t,{idToken:r}));Ue(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tA(o.providerUserInfo):[],f=sN(n.providerData,u),d=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=d?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new yy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function aN(n){const e=Kn(n);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function tA(n){return n.map(e=>{var{providerId:t}=e,r=Rv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e){const t=await Jw(n,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await eA(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:r};return n.emulatorConfig&&zl(n.emulatorConfig.host)&&(d.credentials="include"),Zw.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lN(n,e){return vs(n,"POST","/v2/accounts:revokeToken",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=CS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await oN(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new vl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nN(this,e)}reload(){return aN(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Sc(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,f,d,g,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,k=(f=t.tenantId)!==null&&f!==void 0?f:void 0,M=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Y,emailVerified:re,isAnonymous:X,providerData:z,stsTokenManager:O}=t;Ue(Y&&O,e,"internal-error");const I=vl.fromJSON(this.name,O);Ue(typeof Y=="string",e,"internal-error"),Ha(_,e.name),Ha(E,e.name),Ue(typeof re=="boolean",e,"internal-error"),Ue(typeof X=="boolean",e,"internal-error"),Ha(T,e.name),Ha(A,e.name),Ha(k,e.name),Ha(M,e.name),Ha(U,e.name),Ha(J,e.name);const C=new Fr({uid:Y,auth:e,email:E,emailVerified:re,displayName:_,isAnonymous:X,photoURL:A,phoneNumber:T,tenantId:k,stsTokenManager:I,createdAt:U,lastLoginAt:J});return z&&Array.isArray(z)&&(C.providerData=z.map(D=>Object.assign({},D))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new vl;s.updateFromServerResponse(t);const o=new Fr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await od(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?tA(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new vl;f.updateFromIdToken(r);const d=new Fr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function Wi(n){na(n instanceof Function,"Expected a class definition");let e=IS.get(n);return e?(na(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nA.type="NONE";const xS=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n,e,t){return`firebase:${n}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Lh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Lh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sd(this.auth,{idToken:e}).catch(()=>{});return t?Fr._fromGetAccountInfoResponse(this.auth,t,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(Wi(xS),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||Wi(xS);const u=Lh(r,e.config.apiKey,e.name);let f=null;for(const g of t)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const E=await sd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Fr._fromGetAccountInfoResponse(e,E,y)}else _=Fr._fromJSON(e,y);g!==o&&(f=_),o=g;break}}catch{}const d=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new _l(o,e,r):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new _l(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lA(e))return"Blackberry";if(uA(e))return"Webos";if(iA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rA(n=Nn()){return/firefox\//i.test(n)}function iA(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(n=Nn()){return/crios\//i.test(n)}function sA(n=Nn()){return/iemobile/i.test(n)}function oA(n=Nn()){return/android/i.test(n)}function lA(n=Nn()){return/blackberry/i.test(n)}function uA(n=Nn()){return/webos/i.test(n)}function Ov(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uN(n=Nn()){var e;return Ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cN(){return wO()&&document.documentMode===10}function cA(n=Nn()){return Ov(n)||oA(n)||uA(n)||lA(n)||/windows phone/i.test(n)||sA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e=[]){let t;switch(n){case"Browser":t=OS(Nn());break;case"Worker":t=`${OS(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,f)=>{try{const d=e(o);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e={}){return vs(n,"GET","/v2/passwordPolicy",ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=6;class mN{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:dN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DS(this),this.idTokenSubscription=new DS(this),this.beforeStateQueue=new fN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Zi(this));const t=e?Kn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hN(this),t=new mN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await lN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ho(n){return Kn(n)}class DS{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pN(n){Hd=n}function hA(n){return Hd.loadJS(n)}function yN(){return Hd.recaptchaEnterpriseScript}function vN(){return Hd.gapiScript}function _N(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class EN{constructor(){this.enterprise=new bN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SN="recaptcha-enterprise",dA="NO_RECAPTCHA";class TN{constructor(e){this.type=SN,this.auth=ho(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{eN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new JD(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(d=>{f(d)})})}function s(o,u,f){const d=window.grecaptcha;RS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(dA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!t&&RS(window.grecaptcha))s(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=yN();d.length!==0&&(d+=f),hA(d).then(()=>{s(f,o,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function NS(n,e,t,r=!1,s=!1){const o=new TN(n);let u;if(s)u=dA;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function vy(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await NS(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await NS(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n,e){const t=Av(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(to(o,e??{}))return s;Hr(s,"already-initialized")}return t.initialize({options:e})}function AN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RN(n,e,t){const r=ho(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=mA(e),{host:u,port:f}=CN(e),d=f===null?"":`:${f}`,g={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(to(g,r.config.emulator)&&to(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,zl(u)?(Fw(`${o}//${u}${d}`),Bw("Auth",!0)):IN()}function mA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CN(n){const e=mA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:PS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:PS(u)}}}function PS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function xN(n,e){return vs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e){return $c(n,"POST","/v1/accounts:signInWithPassword",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){return $c(n,"POST","/v1/accounts:signInWithEmailLink",ys(n,e))}async function NN(n,e){return $c(n,"POST","/v1/accounts:signInWithEmailLink",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Dv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Tc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,t,"signInWithPassword",ON);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,r,"signUpPassword",xN);case"emailLink":return NN(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e){return $c(n,"POST","/v1/accounts:signInWithIdp",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="http://localhost";class ro extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Rv(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ro(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return El(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,El(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,El(e,t)}buildRequest(){const e={requestUri:PN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kN(n){const e=tc(nc(n)).link,t=e?tc(nc(e)).deep_link_id:null,r=tc(nc(n)).deep_link_id;return(r?tc(nc(r)).link:null)||r||t||e||n}class Nv{constructor(e){var t,r,s,o,u,f;const d=tc(nc(e)),g=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=MN((s=d.mode)!==null&&s!==void 0?s:null);Ue(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=kN(e);try{return new Nv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,t){return Tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Nv.parseLink(t);return Ue(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends gA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Gc{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ka.credential(t,r)}catch{return null}}}Ka.GOOGLE_SIGN_IN_METHOD="google.com";Ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Gc{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Gc{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Qa.credential(t,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,e){return $c(n,"POST","/v1/accounts:signUp",ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Fr._fromIdTokenResponse(e,r,s),u=MS(r);return new io({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=MS(r);return new io({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function MS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends la{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ld(e,t,r,s)}}function pA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(n,o,e,r):o})}async function VN(n,e,t=!1){const r=await Sc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return io._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e,t=!1){const{auth:r}=n;if(Dr(r.app))return Promise.reject(Zi(r));const s="reauthenticate";try{const o=await Sc(n,pA(r,s,e,n),t);Ue(o.idToken,r,"internal-error");const u=xv(o.idToken);Ue(u,r,"internal-error");const{sub:f}=u;return Ue(n.uid===f,r,"user-mismatch"),io._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(n,e,t=!1){if(Dr(n.app))return Promise.reject(Zi(n));const r="signIn",s=await pA(n,r,e),o=await io._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function jN(n,e){return yA(ho(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n){const e=ho(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(n,e,t){if(Dr(n.app))return Promise.reject(Zi(n));const r=ho(n),u=await vy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&vA(n),d}),f=await io._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function FN(n,e,t){return Dr(n.app)?Promise.reject(Zi(n)):jN(Kn(n),Bl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vA(n),r})}function BN(n,e,t,r){return Kn(n).onIdTokenChanged(e,t,r)}function HN(n,e,t){return Kn(n).beforeAuthStateChanged(e,t)}function qN(n,e,t,r){return Kn(n).onAuthStateChanged(e,t,r)}function $N(n){return Kn(n).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,KN=10;class EA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);cN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const YN=EA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bA.type="SESSION";const SA=bA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async g=>g(t.origin,o)),d=await QN(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const g=Pv("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function WN(n){vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function ZN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eP(){return TA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebaseLocalStorageDb",tP=1,cd="firebaseLocalStorage",AA="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(n,e){return n.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function nP(){const n=indexedDB.deleteDatabase(wA);return new Kc(n).toPromise()}function _y(){const n=indexedDB.open(wA,tP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(cd,{keyPath:AA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await nP(),e(await _y()))})})}async function kS(n,e,t){const r=$d(n,!0).put({[AA]:e,value:t});return new Kc(r).toPromise()}async function rP(n,e){const t=$d(n,!1).get(e),r=await new Kc(t).toPromise();return r===void 0?null:r.value}function LS(n,e){const t=$d(n,!0).delete(e);return new Kc(t).toPromise()}const iP=800,aP=3;class RA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>aP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(eP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ZN(),!this.activeServiceWorker)return;this.sender=new XN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await kS(e,ud,"1"),await LS(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>rP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=$d(s,!1).getAll();return new Kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RA.type="LOCAL";const sP=RA;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n,e){return e?Wi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,t){return El(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lP(n){return yA(n.auth,new Mv(n),n.bypassAuthState)}function uP(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),UN(t,new Mv(n),n.bypassAuthState)}async function cP(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),VN(t,new Mv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lP;case"linkViaPopup":case"linkViaRedirect":return cP;case"reauthViaPopup":case"reauthViaRedirect":return uP;default:Hr(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new qc(2e3,1e4);class gl extends CA{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fP.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="pendingRedirect",Vh=new Map;class dP extends CA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const r=await mP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mP(n,e){const t=yP(e),r=pP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function gP(n,e){Vh.set(n._key(),e)}function pP(n){return Wi(n._redirectPersistence)}function yP(n){return Lh(hP,n.config.apiKey,n.name)}async function vP(n,e,t=!1){if(Dr(n.app))return Promise.reject(Zi(n));const r=ho(n),s=oP(r,e),u=await new dP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=10*60*1e3;class EP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!IA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_P&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}}function VS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e={}){return vs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function AP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SP(n);for(const t of e)try{if(RP(t))return}catch{}Hr(n,"unauthorized-domain")}function RP(n){const e=py(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!wP.test(t))return!1;if(TP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new qc(3e4,6e4);function US(){const n=vi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IP(n){return new Promise((e,t)=>{var r,s,o;function u(){US(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{US(),t(yi(n,"network-request-failed"))},timeout:CP.get()})}if(!((s=(r=vi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=vi().gapi)===null||o===void 0)&&o.load)u();else{const f=_N("iframefcb");return vi()[f]=()=>{gapi.load?u():t(yi(n,"network-request-failed"))},hA(`${vN()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function xP(n){return Uh=Uh||IP(n),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new qc(5e3,15e3),DP="__/auth/iframe",NP="emulator/auth/iframe",PP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kP(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Iv(e,NP):`https://${n.config.authDomain}/${DP}`,r={apiKey:e.apiKey,appName:n.name,v:Fl},s=MP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hc(r).slice(1)}`}async function LP(n){const e=await xP(n),t=vi().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:kP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=yi(n,"network-request-failed"),f=vi().setTimeout(()=>{o(u)},OP.get());function d(){vi().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UP=500,jP=600,zP="_blank",FP="http://localhost";class jS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BP(n,e,t,r=UP,s=jP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},VP),{width:r.toString(),height:s.toString(),top:o,left:u}),g=Nn().toLowerCase();t&&(f=aA(g)?zP:t),rA(g)&&(e=e||FP,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[T,A])=>`${E}${T}=${A},`,"");if(uN(g)&&f!=="_self")return HP(e||"",f),new jS(null);const _=window.open(e||"",f,y);Ue(_,n,"popup-blocked");try{_.focus()}catch{}return new jS(_)}function HP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="__/auth/handler",$P="emulator/auth/handler",GP=encodeURIComponent("fac");async function zS(n,e,t,r,s,o){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fl,eventId:s};if(e instanceof gA){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",DO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Gc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await n._getAppCheckToken(),g=d?`#${GP}=${encodeURIComponent(d)}`:"";return`${KP(n)}?${Hc(f).slice(1)}${g}`}function KP({config:n}){return n.emulator?Iv(n,$P):`https://${n.authDomain}/${qP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class YP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=vP,this._overrideRedirectResult=gP}async _openPopup(e,t,r,s){var o;na((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await zS(e,t,r,py(),s);return BP(e,u,Pv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await zS(e,t,r,py(),s);return WN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(na(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await LP(e),r=new EP(e);return t.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vp,{type:Vp},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Vp];u!==void 0&&t(!!u),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cA()||iA()||Ov()}}const QP=YP;var FS="@firebase/auth",BS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZP(n){Al(new no("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(n)},g=new gN(r,s,o,d);return AN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Al(new no("auth-internal",e=>{const t=ho(e.getProvider("auth").getImmediate());return(r=>new XP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(FS,BS,WP(n)),es(FS,BS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=5*60,eM=zw("authIdTokenMaxAge")||JP;let HS=null;const tM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>eM)return;const s=t==null?void 0:t.token;HS!==s&&(HS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nM(n=Gw()){const e=Av(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wN(n,{popupRedirectResolver:QP,persistence:[sP,YN,SA]}),r=zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=tM(o.toString());HN(t,u,()=>u(t.currentUser)),BN(t,f=>u(f))}}const s=Uw("auth");return s&&RN(t,`http://${s}`),t}function rM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=yi("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",rM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZP("Browser");var Xu={},qS;function iM(){if(qS)return Xu;qS=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.parse=u,Xu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,T){const A=new o,k=E.length;if(k<2)return A;const M=(T==null?void 0:T.decode)||y;let U=0;do{const J=E.indexOf("=",U);if(J===-1)break;const Y=E.indexOf(";",U),re=Y===-1?k:Y;if(J>re){U=E.lastIndexOf(";",J-1)+1;continue}const X=f(E,U,J),z=d(E,J,X),O=E.slice(X,z);if(A[O]===void 0){let I=f(E,J+1,re),C=d(E,re,I);const D=M(E.slice(I,C));A[O]=D}U=re+1}while(U<k);return A}function f(E,T,A){do{const k=E.charCodeAt(T);if(k!==32&&k!==9)return T}while(++T<A);return A}function d(E,T,A){for(;T>A;){const k=E.charCodeAt(--T);if(k!==32&&k!==9)return T+1}return A}function g(E,T,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const M=k(T);if(!e.test(M))throw new TypeError(`argument val is invalid: ${T}`);let U=E+"="+M;if(!A)return U;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);U+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);U+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);U+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);U+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(U+="; HttpOnly"),A.secure&&(U+="; Secure"),A.partitioned&&(U+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return U}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return Xu}iM();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xA=n=>{throw TypeError(n)},aM=(n,e,t)=>e.has(n)||xA("Cannot "+t),Up=(n,e,t)=>(aM(n,e,"read from private field"),t?t.call(n):e.get(n)),sM=(n,e,t)=>e.has(n)?xA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$S="popstate";function oM(n={}){function e(s,o){let{pathname:u="/",search:f="",hash:d=""}=ua(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),wc("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let u=s.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=s.location.href,g=d.indexOf("#");f=g===-1?d:d.slice(0,g)}return f+"#"+(typeof o=="string"?o:as(o))}function r(s,o){kt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return uM(e,t,r,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lM(){return Math.random().toString(36).substring(2,10)}function GS(n,e){return{usr:n.state,key:n.key,idx:e}}function wc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:t,key:e&&e.key||r||lM()}}function as({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ua(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function uM(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,f="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let M=y(),U=M==null?null:M-g;g=M,d&&d({action:f,location:k.location,delta:U})}function E(M,U){f="PUSH";let J=wc(k.location,M,U);t&&t(J,M),g=y()+1;let Y=GS(J,g),re=k.createHref(J);try{u.pushState(Y,"",re)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(re)}o&&d&&d({action:f,location:k.location,delta:1})}function T(M,U){f="REPLACE";let J=wc(k.location,M,U);t&&t(J,M),g=y();let Y=GS(J,g),re=k.createHref(J);u.replaceState(Y,"",re),o&&d&&d({action:f,location:k.location,delta:0})}function A(M){return OA(M)}let k={get action(){return f},get location(){return n(s,u)},listen(M){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener($S,_),d=M,()=>{s.removeEventListener($S,_),d=null}},createHref(M){return e(s,M)},createURL:A,encodeLocation(M){let U=A(M);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:T,go(M){return u.go(M)}};return k}function OA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:as(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var rc,KS=class{constructor(n){if(sM(this,rc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Up(this,rc).has(n))return Up(this,rc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Up(this,rc).set(n,e)}};rc=new WeakMap;var cM=new Set(["lazy","caseSensitive","path","id","index","children"]);function fM(n){return cM.has(n)}var hM=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function dM(n){return hM.has(n)}function mM(n){return n.index===!0}function fd(n,e,t=[],r={}){return n.map((s,o)=>{let u=[...t,String(o)],f=typeof s.id=="string"?s.id:u.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),mM(s)){let d={...s,...e(s),id:f};return r[f]=d,d}else{let d={...s,...e(s),id:f,children:void 0};return r[f]=d,s.children&&(d.children=fd(s.children,e,u,r)),d}})}function Xa(n,e,t="/"){return jh(n,e,t,!1)}function jh(n,e,t,r){let s=typeof e=="string"?ua(e):e,o=Yn(s.pathname||"/",t);if(o==null)return null;let u=DA(n);pM(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let g=CM(o);f=AM(u[d],g,r)}return f}function gM(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function DA(n,e=[],t=[],r=""){let s=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Je(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=_i([r,d.relativePath]),y=t.concat(d);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DA(o.children,e,y,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:TM(g,o.index),routesMeta:y})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,u);else for(let d of NA(o.path))s(o,u,d)}),e}function NA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=NA(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function pM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yM=/^:[\w-]+$/,vM=3,_M=2,EM=1,bM=10,SM=-2,YS=n=>n==="*";function TM(n,e){let t=n.split("/"),r=t.length;return t.some(YS)&&(r+=SM),e&&(r+=_M),t.filter(s=>!YS(s)).reduce((s,o)=>s+(yM.test(o)?vM:o===""?EM:bM),r)}function wM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function AM(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),E=d.route;if(!_&&g&&t&&!r[r.length-1].route.index&&(_=hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:_i([o,_.pathname]),pathnameBase:OM(_i([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=_i([o,_.pathnameBase]))}return u}function hd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=f[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[E];return _&&!T?g[y]=void 0:g[y]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function RM(n,e=!1,t=!0){kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Yn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function IM(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ua(n):n;return{pathname:t?t.startsWith("/")?t:xM(t,e):e,search:DM(r),hash:NM(s)}}function xM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function jp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gd(n){let e=PA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Kd(n,e,t,r=!1){let s;typeof n=="string"?s=ua(n):(s={...n},Je(!s.pathname||!s.pathname.includes("?"),jp("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),jp("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),jp("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}f=_>=0?e[_]:"/"}let d=IM(s,f),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),OM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dd=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ac(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var MA=["POST","PUT","PATCH","DELETE"],PM=new Set(MA),MM=["GET",...MA],kM=new Set(MM),LM=new Set([301,302,303,307,308]),VM=new Set([307,308]),zp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},UM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),kA="remix-router-transitions",LA=Symbol("ResetLoaderData");function zM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||jM,o={},u=fd(n.routes,s,void 0,o),f,d=n.basename||"/",g=n.dataStrategy||$M,y={unstable_middleware:!1,...n.future},_=null,E=new Set,T=null,A=null,k=null,M=n.hydrationData!=null,U=Xa(u,n.history.location,d),J=!1,Y=null,re;if(U==null&&!n.patchRoutesOnNavigation){let V=Or(404,{pathname:n.history.location.pathname}),{matches:$,route:Q}=s1(u);re=!0,U=$,Y={[Q.id]:V}}else if(U&&!n.hydrationData&&Ln(U,u,n.history.location.pathname).active&&(U=null),U)if(U.some(V=>V.route.lazy))re=!1;else if(!U.some(V=>V.route.loader))re=!0;else{let V=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let Q=U.findIndex(oe=>$[oe.route.id]!==void 0);re=U.slice(0,Q+1).every(oe=>!by(oe.route,V,$))}else re=U.every(Q=>!by(Q.route,V,$))}else{re=!1,U=[];let V=Ln(null,u,n.history.location.pathname);V.active&&V.matches&&(J=!0,U=V.matches)}let X,z={historyAction:n.history.action,location:n.history.location,matches:U,initialized:re,navigation:zp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Y,fetchers:new Map,blockers:new Map},O="POP",I=!1,C,D=!1,j=new Map,B=null,N=!1,Re=!1,Fe=new Set,W=new Map,fe=0,ye=-1,Ne=new Map,L=new Set,ie=new Map,de=new Map,ue=new Set,be=new Map,Be,Oe=null;function Bt(){if(_=n.history.listen(({action:V,location:$,delta:Q})=>{if(Be){Be(),Be=void 0;return}kt(be.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=pa({currentLocation:z.location,nextLocation:$,historyAction:V});if(oe&&Q!=null){let me=new Promise(ve=>{Be=ve});n.history.go(Q*-1),gr(oe,{state:"blocked",location:$,proceed(){gr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>n.history.go(Q))},reset(){let ve=new Map(z.blockers);ve.set(oe,ul),Ot({blockers:ve})}});return}return Mn(V,$)}),t){nk(e,j);let V=()=>rk(e,j);e.addEventListener("pagehide",V),B=()=>e.removeEventListener("pagehide",V)}return z.initialized||Mn("POP",z.location,{initialHydration:!0}),X}function bt(){_&&_(),B&&B(),E.clear(),C&&C.abort(),z.fetchers.forEach((V,$)=>Ht($)),z.blockers.forEach((V,$)=>Ci($))}function hr(V){return E.add(V),()=>E.delete(V)}function Ot(V,$={}){z={...z,...V};let Q=[],oe=[];z.fetchers.forEach((me,ve)=>{me.state==="idle"&&(ue.has(ve)?Q.push(ve):oe.push(ve))}),ue.forEach(me=>{!z.fetchers.has(me)&&!W.has(me)&&Q.push(me)}),[...E].forEach(me=>me(z,{deletedFetchers:Q,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),Q.forEach(me=>Ht(me)),oe.forEach(me=>z.fetchers.delete(me))}function wn(V,$,{flushSync:Q}={}){var Ce,Me;let oe=z.actionData!=null&&z.navigation.formMethod!=null&&or(z.navigation.formMethod)&&z.navigation.state==="loading"&&((Ce=V.state)==null?void 0:Ce._isRedirect)!==!0,me;$.actionData?Object.keys($.actionData).length>0?me=$.actionData:me=null:oe?me=z.actionData:me=null;let ve=$.loaderData?i1(z.loaderData,$.loaderData,$.matches||[],$.errors):z.loaderData,De=z.blockers;De.size>0&&(De=new Map(De),De.forEach((we,Le)=>De.set(Le,ul)));let Ee=I===!0||z.navigation.formMethod!=null&&or(z.navigation.formMethod)&&((Me=V.state)==null?void 0:Me._isRedirect)!==!0;f&&(u=f,f=void 0),N||O==="POP"||(O==="PUSH"?n.history.push(V,V.state):O==="REPLACE"&&n.history.replace(V,V.state));let Te;if(O==="POP"){let we=j.get(z.location.pathname);we&&we.has(V.pathname)?Te={currentLocation:z.location,nextLocation:V}:j.has(V.pathname)&&(Te={currentLocation:V,nextLocation:z.location})}else if(D){let we=j.get(z.location.pathname);we?we.add(V.pathname):(we=new Set([V.pathname]),j.set(z.location.pathname,we)),Te={currentLocation:z.location,nextLocation:V}}Ot({...$,actionData:me,loaderData:ve,historyAction:O,location:V,initialized:!0,navigation:zp,revalidation:"idle",restoreScrollPosition:ya(V,$.matches||z.matches),preventScrollReset:Ee,blockers:De},{viewTransitionOpts:Te,flushSync:Q===!0}),O="POP",I=!1,D=!1,N=!1,Re=!1,Oe==null||Oe.resolve(),Oe=null}async function Gr(V,$){if(typeof V=="number"){n.history.go(V);return}let Q=Ey(z.location,z.matches,d,V,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:oe,submission:me,error:ve}=QS(!1,Q,$),De=z.location,Ee=wc(z.location,oe,$&&$.state);Ee={...Ee,...n.history.encodeLocation(Ee)};let Te=$&&$.replace!=null?$.replace:void 0,Ce="PUSH";Te===!0?Ce="REPLACE":Te===!1||me!=null&&or(me.formMethod)&&me.formAction===z.location.pathname+z.location.search&&(Ce="REPLACE");let Me=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,we=($&&$.flushSync)===!0,Le=pa({currentLocation:De,nextLocation:Ee,historyAction:Ce});if(Le){gr(Le,{state:"blocked",location:Ee,proceed(){gr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Gr(V,$)},reset(){let et=new Map(z.blockers);et.set(Le,ul),Ot({blockers:et})}});return}await Mn(Ce,Ee,{submission:me,pendingError:ve,preventScrollReset:Me,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:we})}function Ai(){Oe||(Oe=ik()),ga(),Ot({revalidation:"loading"});let V=Oe.promise;return z.navigation.state==="submitting"?V:z.navigation.state==="idle"?(Mn(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),V):(Mn(O||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:D===!0}),V)}async function Mn(V,$,Q){C&&C.abort(),C=null,O=V,N=(Q&&Q.startUninterruptedRevalidation)===!0,Mr(z.location,z.matches),I=(Q&&Q.preventScrollReset)===!0,D=(Q&&Q.enableViewTransition)===!0;let oe=f||u,me=Q&&Q.overrideNavigation,ve=Q!=null&&Q.initialHydration&&z.matches&&z.matches.length>0&&!J?z.matches:Xa(oe,$,d),De=(Q&&Q.flushSync)===!0;if(ve&&z.initialized&&!Re&&WM(z.location,$)&&!(Q&&Q.submission&&or(Q.submission.formMethod))){wn($,{matches:ve},{flushSync:De});return}let Ee=Ln(ve,oe,$.pathname);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){let{error:ht,notFoundMatches:st,route:We}=Ii($.pathname);wn($,{matches:st,loaderData:{},errors:{[We.id]:ht}},{flushSync:De});return}C=new AbortController;let Te=cl(n.history,$,C.signal,Q&&Q.submission),Ce=new KS(n.unstable_getContext?await n.unstable_getContext():void 0),Me;if(Q&&Q.pendingError)Me=[Xs(ve).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&or(Q.submission.formMethod)){let ht=await _s(Te,$,Q.submission,ve,Ce,Ee.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:De});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[st,We]=ht.pendingActionResult;if(sr(We)&&Ac(We.error)&&We.error.status===404){C=null,wn($,{matches:ht.matches,loaderData:{},errors:{[st]:We.error}});return}}ve=ht.matches||ve,Me=ht.pendingActionResult,me=Fp($,Q.submission),De=!1,Ee.active=!1,Te=cl(n.history,Te.url,Te.signal)}let{shortCircuited:we,matches:Le,loaderData:et,errors:pt}=await Eo(Te,$,ve,Ce,Ee.active,me,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,De,Me);we||(C=null,wn($,{matches:Le||ve,...a1(Me),loaderData:et,errors:pt}))}async function _s(V,$,Q,oe,me,ve,De,Ee={}){ga();let Te=ek($,Q);if(Ot({navigation:Te},{flushSync:Ee.flushSync===!0}),ve){let we=await Xr(oe,$.pathname,V.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Le=Xs(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Le,{type:"error",error:we.error}]}}else if(we.matches)oe=we.matches;else{let{notFoundMatches:Le,error:et,route:pt}=Ii($.pathname);return{matches:Le,pendingActionResult:[pt.id,{type:"error",error:et}]}}}let Ce,Me=ic(oe,$);if(!Me.route.action&&!Me.route.lazy)Ce={type:"error",error:Or(405,{method:V.method,pathname:$.pathname,routeId:Me.route.id})};else{let we=bl(s,o,V,oe,Me,De?[]:r,me),Le=await dr(V,we,me,null);if(Ce=Le[Me.route.id],!Ce){for(let et of oe)if(Le[et.route.id]){Ce=Le[et.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(Ws(Ce)){let we;return Ee&&Ee.replace!=null?we=Ee.replace:we=t1(Ce.response.headers.get("Location"),new URL(V.url),d)===z.location.pathname+z.location.search,await Pr(V,Ce,!0,{submission:Q,replace:we}),{shortCircuited:!0}}if(sr(Ce)){let we=Xs(oe,Me.route.id);return(Ee&&Ee.replace)!==!0&&(O="PUSH"),{matches:oe,pendingActionResult:[we.route.id,Ce,Me.route.id]}}return{matches:oe,pendingActionResult:[Me.route.id,Ce]}}async function Eo(V,$,Q,oe,me,ve,De,Ee,Te,Ce,Me,we){let Le=ve||Fp($,De),et=De||Ee||l1(Le),pt=!N&&!Ce;if(me){if(pt){let qt=kn(we);Ot({navigation:Le,...qt!==void 0?{actionData:qt}:{}},{flushSync:Me})}let He=await Xr(Q,$.pathname,V.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let qt=Xs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[qt]:He.error}}}else if(He.matches)Q=He.matches;else{let{error:qt,notFoundMatches:Wn,route:Fn}=Ii($.pathname);return{matches:Wn,loaderData:{},errors:{[Fn.id]:qt}}}}let ht=f||u,{dsMatches:st,revalidatingFetchers:We}=XS(V,oe,s,o,n.history,z,Q,et,$,Ce?[]:r,Ce===!0,Re,Fe,ue,ie,L,ht,d,n.patchRoutesOnNavigation!=null,we);if(ye=++fe,!n.dataStrategy&&!st.some(He=>He.shouldLoad)&&We.length===0){let He=Yr();return wn($,{matches:Q,loaderData:{},errors:we&&sr(we[1])?{[we[0]]:we[1].error}:null,...a1(we),...He?{fetchers:new Map(z.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(pt){let He={};if(!me){He.navigation=Le;let qt=kn(we);qt!==void 0&&(He.actionData=qt)}We.length>0&&(He.fetchers=Xl(We)),Ot(He,{flushSync:Me})}We.forEach(He=>{mr(He.key),He.controller&&W.set(He.key,He.controller)});let yr=()=>We.forEach(He=>mr(He.key));C&&C.signal.addEventListener("abort",yr);let{loaderResults:Qt,fetcherResults:Vn}=await ma(st,We,V,oe);if(V.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",yr),We.forEach(He=>W.delete(He.key));let hn=Th(Qt);if(hn)return await Pr(V,hn.result,!0,{replace:Te}),{shortCircuited:!0};if(hn=Th(Vn),hn)return L.add(hn.key),await Pr(V,hn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Zr,errors:Xn}=r1(z,Q,Qt,we,We,Vn);Ce&&z.errors&&(Xn={...z.errors,...Xn});let _a=Yr(),Rn=Qr(ye),Un=_a||Rn||We.length>0;return{matches:Q,loaderData:Zr,errors:Xn,...Un?{fetchers:new Map(z.fetchers)}:{}}}function kn(V){if(V&&!sr(V[1]))return{[V[0]]:V[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Xl(V){return V.forEach($=>{let Q=z.fetchers.get($.key),oe=Wu(void 0,Q?Q.data:void 0);z.fetchers.set($.key,oe)}),new Map(z.fetchers)}async function Es(V,$,Q,oe){mr(V);let me=(oe&&oe.flushSync)===!0,ve=f||u,De=Ey(z.location,z.matches,d,Q,$,oe==null?void 0:oe.relative),Ee=Xa(ve,De,d),Te=Ln(Ee,ve,De);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){Ye(V,$,Or(404,{pathname:De}),{flushSync:me});return}let{path:Ce,submission:Me,error:we}=QS(!0,De,oe);if(we){Ye(V,$,we,{flushSync:me});return}let Le=ic(Ee,Ce),et=new KS(n.unstable_getContext?await n.unstable_getContext():void 0),pt=(oe&&oe.preventScrollReset)===!0;if(Me&&or(Me.formMethod)){await da(V,$,Ce,Le,Ee,et,Te.active,me,pt,Me);return}ie.set(V,{routeId:$,path:Ce}),await Ri(V,$,Ce,Le,Ee,et,Te.active,me,pt,Me)}async function da(V,$,Q,oe,me,ve,De,Ee,Te,Ce){ga(),ie.delete(V);function Me(Rt){if(!Rt.route.action&&!Rt.route.lazy){let vr=Or(405,{method:Ce.formMethod,pathname:Q,routeId:$});return Ye(V,$,vr,{flushSync:Ee}),!0}return!1}if(!De&&Me(oe))return;let we=z.fetchers.get(V);mt(V,tk(Ce,we),{flushSync:Ee});let Le=new AbortController,et=cl(n.history,Q,Le.signal,Ce);if(De){let Rt=await Xr(me,Q,et.signal,V);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ye(V,$,Rt.error,{flushSync:Ee});return}else if(Rt.matches){if(me=Rt.matches,oe=ic(me,Q),Me(oe))return}else{Ye(V,$,Or(404,{pathname:Q}),{flushSync:Ee});return}}W.set(V,Le);let pt=fe,ht=bl(s,o,et,me,oe,r,ve),We=(await dr(et,ht,ve,V))[oe.route.id];if(et.signal.aborted){W.get(V)===Le&&W.delete(V);return}if(ue.has(V)){if(Ws(We)||sr(We)){mt(V,$a(void 0));return}}else{if(Ws(We))if(W.delete(V),ye>pt){mt(V,$a(void 0));return}else return L.add(V),mt(V,Wu(Ce)),Pr(et,We,!1,{fetcherSubmission:Ce,preventScrollReset:Te});if(sr(We)){Ye(V,$,We.error);return}}let yr=z.navigation.location||z.location,Qt=cl(n.history,yr,Le.signal),Vn=f||u,hn=z.navigation.state!=="idle"?Xa(Vn,z.navigation.location,d):z.matches;Je(hn,"Didn't find any matches after fetcher action");let Zr=++fe;Ne.set(V,Zr);let Xn=Wu(Ce,We.data);z.fetchers.set(V,Xn);let{dsMatches:_a,revalidatingFetchers:Rn}=XS(Qt,ve,s,o,n.history,z,hn,Ce,yr,r,!1,Re,Fe,ue,ie,L,Vn,d,n.patchRoutesOnNavigation!=null,[oe.route.id,We]);Rn.filter(Rt=>Rt.key!==V).forEach(Rt=>{let vr=Rt.key,xi=z.fetchers.get(vr),dn=Wu(void 0,xi?xi.data:void 0);z.fetchers.set(vr,dn),mr(vr),Rt.controller&&W.set(vr,Rt.controller)}),Ot({fetchers:new Map(z.fetchers)});let Un=()=>Rn.forEach(Rt=>mr(Rt.key));Le.signal.addEventListener("abort",Un);let{loaderResults:He,fetcherResults:qt}=await ma(_a,Rn,Qt,ve);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",Un),Ne.delete(V),W.delete(V),Rn.forEach(Rt=>W.delete(Rt.key)),z.fetchers.has(V)){let Rt=$a(We.data);z.fetchers.set(V,Rt)}let Wn=Th(He);if(Wn)return Pr(Qt,Wn.result,!1,{preventScrollReset:Te});if(Wn=Th(qt),Wn)return L.add(Wn.key),Pr(Qt,Wn.result,!1,{preventScrollReset:Te});let{loaderData:Fn,errors:Jr}=r1(z,hn,He,void 0,Rn,qt);Qr(Zr),z.navigation.state==="loading"&&Zr>ye?(Je(O,"Expected pending action"),C&&C.abort(),wn(z.navigation.location,{matches:hn,loaderData:Fn,errors:Jr,fetchers:new Map(z.fetchers)})):(Ot({errors:Jr,loaderData:i1(z.loaderData,Fn,hn,Jr),fetchers:new Map(z.fetchers)}),Re=!1)}async function Ri(V,$,Q,oe,me,ve,De,Ee,Te,Ce){let Me=z.fetchers.get(V);mt(V,Wu(Ce,Me?Me.data:void 0),{flushSync:Ee});let we=new AbortController,Le=cl(n.history,Q,we.signal);if(De){let We=await Xr(me,Q,Le.signal,V);if(We.type==="aborted")return;if(We.type==="error"){Ye(V,$,We.error,{flushSync:Ee});return}else if(We.matches)me=We.matches,oe=ic(me,Q);else{Ye(V,$,Or(404,{pathname:Q}),{flushSync:Ee});return}}W.set(V,we);let et=fe,pt=bl(s,o,Le,me,oe,r,ve),st=(await dr(Le,pt,ve,V))[oe.route.id];if(W.get(V)===we&&W.delete(V),!Le.signal.aborted){if(ue.has(V)){mt(V,$a(void 0));return}if(Ws(st))if(ye>et){mt(V,$a(void 0));return}else{L.add(V),await Pr(Le,st,!1,{preventScrollReset:Te});return}if(sr(st)){Ye(V,$,st.error);return}mt(V,$a(st.data))}}async function Pr(V,$,Q,{submission:oe,fetcherSubmission:me,preventScrollReset:ve,replace:De}={}){$.response.headers.has("X-Remix-Revalidate")&&(Re=!0);let Ee=$.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=t1(Ee,new URL(V.url),d);let Te=wc(z.location,Ee,{_isRedirect:!0});if(t){let pt=!1;if($.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(kv.test(Ee)){const ht=OA(Ee,!0);pt=ht.origin!==e.location.origin||Yn(ht.pathname,d)==null}if(pt){De?e.location.replace(Ee):e.location.assign(Ee);return}}C=null;let Ce=De===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:we,formEncType:Le}=z.navigation;!oe&&!me&&Me&&we&&Le&&(oe=l1(z.navigation));let et=oe||me;if(VM.has($.response.status)&&et&&or(et.formMethod))await Mn(Ce,Te,{submission:{...et,formAction:Ee},preventScrollReset:ve||I,enableViewTransition:Q?D:void 0});else{let pt=Fp(Te,oe);await Mn(Ce,Te,{overrideNavigation:pt,fetcherSubmission:me,preventScrollReset:ve||I,enableViewTransition:Q?D:void 0})}}async function dr(V,$,Q,oe){let me,ve={};try{me=await GM(g,V,$,oe,Q,!1)}catch(De){return $.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{ve[Ee.route.id]={type:"error",error:De}}),ve}if(V.signal.aborted)return ve;for(let[De,Ee]of Object.entries(me))if(ZM(Ee)){let Te=Ee.result;ve[De]={type:"redirect",response:QM(Te,V,De,$,d)}}else ve[De]=await YM(Ee);return ve}async function ma(V,$,Q,oe){let me=dr(Q,V,oe,null),ve=Promise.all($.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let Me=(await dr(Te.request,Te.matches,oe,Te.key))[Te.match.route.id];return{[Te.key]:Me}}else return Promise.resolve({[Te.key]:{type:"error",error:Or(404,{pathname:Te.path})}})})),De=await me,Ee=(await ve).reduce((Te,Ce)=>Object.assign(Te,Ce),{});return{loaderResults:De,fetcherResults:Ee}}function ga(){Re=!0,ie.forEach((V,$)=>{W.has($)&&Fe.add($),mr($)})}function mt(V,$,Q={}){z.fetchers.set(V,$),Ot({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Ye(V,$,Q,oe={}){let me=Xs(z.matches,$);Ht(V),Ot({errors:{[me.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function An(V){return de.set(V,(de.get(V)||0)+1),ue.has(V)&&ue.delete(V),z.fetchers.get(V)||UM}function Ht(V){let $=z.fetchers.get(V);W.has(V)&&!($&&$.state==="loading"&&Ne.has(V))&&mr(V),ie.delete(V),Ne.delete(V),L.delete(V),ue.delete(V),Fe.delete(V),z.fetchers.delete(V)}function bo(V){let $=(de.get(V)||0)-1;$<=0?(de.delete(V),ue.add(V)):de.set(V,$),Ot({fetchers:new Map(z.fetchers)})}function mr(V){let $=W.get(V);$&&($.abort(),W.delete(V))}function Kr(V){for(let $ of V){let Q=An($),oe=$a(Q.data);z.fetchers.set($,oe)}}function Yr(){let V=[],$=!1;for(let Q of L){let oe=z.fetchers.get(Q);Je(oe,`Expected fetcher: ${Q}`),oe.state==="loading"&&(L.delete(Q),V.push(Q),$=!0)}return Kr(V),$}function Qr(V){let $=[];for(let[Q,oe]of Ne)if(oe<V){let me=z.fetchers.get(Q);Je(me,`Expected fetcher: ${Q}`),me.state==="loading"&&(mr(Q),Ne.delete(Q),$.push(Q))}return Kr($),$.length>0}function Qn(V,$){let Q=z.blockers.get(V)||ul;return be.get(V)!==$&&be.set(V,$),Q}function Ci(V){z.blockers.delete(V),be.delete(V)}function gr(V,$){let Q=z.blockers.get(V)||ul;Je(Q.state==="unblocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="proceeding"||Q.state==="blocked"&&$.state==="unblocked"||Q.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${$.state}`);let oe=new Map(z.blockers);oe.set(V,$),Ot({blockers:oe})}function pa({currentLocation:V,nextLocation:$,historyAction:Q}){if(be.size===0)return;be.size>1&&kt(!1,"A router only supports one blocker at a time");let oe=Array.from(be.entries()),[me,ve]=oe[oe.length-1],De=z.blockers.get(me);if(!(De&&De.state==="proceeding")&&ve({currentLocation:V,nextLocation:$,historyAction:Q}))return me}function Ii(V){let $=Or(404,{pathname:V}),Q=f||u,{matches:oe,route:me}=s1(Q);return{notFoundMatches:oe,route:me,error:$}}function bs(V,$,Q){if(T=V,k=$,A=Q||null,!M&&z.navigation===zp){M=!0;let oe=ya(z.location,z.matches);oe!=null&&Ot({restoreScrollPosition:oe})}return()=>{T=null,k=null,A=null}}function pr(V,$){return A&&A(V,$.map(oe=>gM(oe,z.loaderData)))||V.key}function Mr(V,$){if(T&&k){let Q=pr(V,$);T[Q]=k()}}function ya(V,$){if(T){let Q=pr(V,$),oe=T[Q];if(typeof oe=="number")return oe}return null}function Ln(V,$,Q){if(n.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:jh($,Q,d,!0)}}else return{active:!0,matches:jh($,Q,d,!0)||[]};return{active:!1,matches:null}}async function Xr(V,$,Q,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:V};let me=V;for(;;){let ve=f==null,De=f||u,Ee=o;try{await n.patchRoutesOnNavigation({signal:Q,path:$,matches:me,fetcherKey:oe,patch:(Me,we)=>{Q.aborted||WS(Me,we,De,Ee,s)}})}catch(Me){return{type:"error",error:Me,partialMatches:me}}finally{ve&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let Te=Xa(De,$,d);if(Te)return{type:"success",matches:Te};let Ce=jh(De,$,d,!0);if(!Ce||me.length===Ce.length&&me.every((Me,we)=>Me.route.id===Ce[we].route.id))return{type:"success",matches:null};me=Ce}}function Wr(V){o={},f=fd(V,s,void 0,o)}function va(V,$){let Q=f==null;WS(V,$,f||u,o,s),Q&&(u=[...u],Ot({}))}return X={get basename(){return d},get future(){return y},get state(){return z},get routes(){return u},get window(){return e},initialize:Bt,subscribe:hr,enableScrollRestoration:bs,navigate:Gr,fetch:Es,revalidate:Ai,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:An,deleteFetcher:bo,dispose:bt,getBlocker:Qn,deleteBlocker:Ci,patchRoutes:va,_internalFetchControllers:W,_internalSetRoutes:Wr},X}function FM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ey(n,e,t,r,s,o){let u,f;if(s){u=[];for(let g of e)if(u.push(g),g.route.id===s){f=g;break}}else u=e,f=e[e.length-1];let d=Kd(r||".",Gd(u),Yn(n.pathname,t)||n.pathname,o==="path");if(r==null&&(d.search=n.search,d.hash=n.hash),(r==null||r===""||r===".")&&f){let g=Lv(d.search);if(f.route.index&&!g)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(T=>T).forEach(T=>y.append("index",T));let E=y.toString();d.search=E?`?${E}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:_i([t,d.pathname])),as(d)}function QS(n,e,t){if(!t||!FM(t))return{path:e};if(t.formMethod&&!JM(t.formMethod))return{path:e,error:Or(405,{method:t.formMethod})};let r=()=>({path:e,error:Or(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=BA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!or(o))return r();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[T,A])=>`${E}${T}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!or(o))return r();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let f,d;if(t.formData)f=Ty(t.formData),d=t.formData;else if(t.body instanceof FormData)f=Ty(t.body),d=t.body;else if(t.body instanceof URLSearchParams)f=t.body,d=n1(f);else if(t.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(t.body),d=n1(f)}catch{return r()}let g={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(or(g.formMethod))return{path:e,submission:g};let y=ua(e);return n&&y.search&&Lv(y.search)&&f.append("index",""),y.search=`?${f}`,{path:as(y),submission:g}}function XS(n,e,t,r,s,o,u,f,d,g,y,_,E,T,A,k,M,U,J,Y){var N;let re=Y?sr(Y[1])?Y[1].error:Y[1].data:void 0,X=s.createURL(o.location),z=s.createURL(d),O;if(y&&o.errors){let Re=Object.keys(o.errors)[0];O=u.findIndex(Fe=>Fe.route.id===Re)}else if(Y&&sr(Y[1])){let Re=Y[0];O=u.findIndex(Fe=>Fe.route.id===Re)-1}let I=Y?Y[1].statusCode:void 0,C=I&&I>=400,D={currentUrl:X,currentParams:((N=o.matches[0])==null?void 0:N.params)||{},nextUrl:z,nextParams:u[0].params,...f,actionResult:re,actionStatus:I},j=u.map((Re,Fe)=>{let{route:W}=Re,fe=null;if(O!=null&&Fe>O?fe=!1:W.lazy?fe=!0:W.loader==null?fe=!1:y?fe=by(W,o.loaderData,o.errors):BM(o.loaderData,o.matches[Fe],Re)&&(fe=!0),fe!==null)return Sy(t,r,n,Re,g,e,fe);let ye=C?!1:_||X.pathname+X.search===z.pathname+z.search||X.search!==z.search||HM(o.matches[Fe],Re),Ne={...D,defaultShouldRevalidate:ye},L=md(Re,Ne);return Sy(t,r,n,Re,g,e,L,Ne)}),B=[];return A.forEach((Re,Fe)=>{if(y||!u.some(ue=>ue.route.id===Re.routeId)||T.has(Fe))return;let W=o.fetchers.get(Fe),fe=W&&W.state!=="idle"&&W.data===void 0,ye=Xa(M,Re.path,U);if(!ye){if(J&&fe)return;B.push({key:Fe,routeId:Re.routeId,path:Re.path,matches:null,match:null,request:null,controller:null});return}if(k.has(Fe))return;let Ne=ic(ye,Re.path),L=new AbortController,ie=cl(s,Re.path,L.signal),de=null;if(E.has(Fe))E.delete(Fe),de=bl(t,r,ie,ye,Ne,g,e);else if(fe)_&&(de=bl(t,r,ie,ye,Ne,g,e));else{let ue={...D,defaultShouldRevalidate:C?!1:_};md(Ne,ue)&&(de=bl(t,r,ie,ye,Ne,g,e,ue))}de&&B.push({key:Fe,routeId:Re.routeId,path:Re.path,matches:de,match:Ne,request:ie,controller:L})}),{dsMatches:j,revalidatingFetchers:B}}function by(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function BM(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function HM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function md(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function WS(n,e,t,r,s){let o;if(n){let d=r[n];Je(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),o=d.children}else o=t;let u=e.filter(d=>!o.some(g=>VA(d,g))),f=fd(u,s,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...f)}function VA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>VA(t,o))}):!1}var ZS=new WeakMap,UA=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(Je(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=ZS.get(s);u||(u={},ZS.set(s,u));let f=u[n];if(f)return f;let d=(async()=>{let g=fM(n),_=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)kt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(_)kt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=d,d},JS=new WeakMap;function qM(n,e,t,r,s){let o=t[n.id];if(Je(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=JS.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Je(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),T={};for(let A in E){let k=E[A];if(k===void 0)continue;let M=dM(A),J=o[A]!==void 0&&A!=="hasErrorBoundary";M?kt(!M,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):J?kt(!J,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=k}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return JS.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(n.lazy),f=[],d;for(let y of u){if(s&&s.includes(y))continue;let _=UA({key:y,route:n,manifest:t,mapRouteProperties:r});_&&(f.push(_),y===e&&(d=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g==null||g.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:d}}async function e1(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function $M(n){return n.matches.some(e=>e.route.unstable_middleware)?jA(n,!1,()=>e1(n),(e,t)=>({[t]:{type:"error",result:e}})):e1(n)}async function jA(n,e,t,r){let{matches:s,request:o,params:u,context:f}=n,d={handlerResult:void 0};try{let g=s.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await zA({request:o,params:u,context:f},g,e,d,t);return e?y:d.handlerResult}catch(g){if(!d.middlewareError)throw g;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function zA(n,e,t,r,s,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[o];if(!f)return r.handlerResult=await s(),r.handlerResult;let[d,g]=f,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await zA(n,e,t,r,s,o+1)};try{let T=await g({request:n.request,params:n.params,context:n.context},E);return y?T===void 0?_:T:E()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}function FA(n,e,t,r,s){let o=UA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=qM(r.route,or(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Sy(n,e,t,r,s,o,u,f=null){let d=!1,g=FA(n,e,t,r,s);return{...r,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return d=!0,f?typeof y=="boolean"?md(r,{...f,defaultShouldRevalidate:y}):md(r,f):u},resolve(y){return d||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?KM({request:t,match:r,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function bl(n,e,t,r,s,o,u,f=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:FA(n,e,t,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Sy(n,e,t,d,o,u,!0,f))}async function GM(n,e,t,r,s,o){t.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:s,matches:t},d=await n({...u,fetcherKey:r,unstable_runClientMiddleware:g=>{let y=u;return jA(y,!1,()=>g({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(g=>{var y,_;return[(y=g._lazyPromises)==null?void 0:y.handler,(_=g._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function KM({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let u,f,d=or(n.method),g=d?"action":"loader",y=_=>{let E,T=new Promise((M,U)=>E=U);f=()=>E(),n.signal.addEventListener("abort",f);let A=M=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:o},...M!==void 0?[M]:[]),k=(async()=>{try{return{type:"data",result:await(s?s(U=>A(U)):A())}}catch(M){return{type:"error",result:M}}})();return Promise.race([k,T])};try{let _=d?e.route.action:e.route.loader;if(t||r)if(_){let E,[T]=await Promise.all([y(_).catch(A=>{E=A}),t,r]);if(E!==void 0)throw E;u=T}else{await t;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([y(E),r]);else if(g==="action"){let T=new URL(n.url),A=T.pathname+T.search;throw Or(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let E=new URL(n.url),T=E.pathname+E.search;throw Or(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{f&&n.signal.removeEventListener("abort",f)}return u}async function YM(n){var r,s,o,u,f,d;let{result:e,type:t}=n;if(HA(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new dd(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?o1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new dd(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Ac(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ac(e)?e.status:void 0}:o1(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function QM(n,e,t,r,s){let o=n.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!kv.test(o)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);o=Ey(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function t1(n,e,t){if(kv.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Yn(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function cl(n,e,t,r){let s=n.createURL(BA(e)).toString(),o={signal:t};if(r&&or(r.formMethod)){let{formMethod:u,formEncType:f}=r;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(r.json)):f==="text/plain"?o.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?o.body=Ty(r.formData):o.body=r.formData}return new Request(s,o)}function Ty(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function n1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function XM(n,e,t,r=!1,s=!1){let o={},u=null,f,d=!1,g={},y=t&&sr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,T=e[E];if(Je(!Ws(T),"Cannot handle redirect results in processLoaderData"),sr(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},s)u[E]=A;else{let k=Xs(n,E);u[k.route.id]==null&&(u[k.route.id]=A)}r||(o[E]=LA),d||(d=!0,f=Ac(T.error)?T.error.status:500),T.headers&&(g[E]=T.headers)}else o[E]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(f=T.statusCode),T.headers&&(g[E]=T.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:g}}function r1(n,e,t,r,s,o){let{loaderData:u,errors:f}=XM(e,t,r);return s.filter(d=>!d.matches||d.matches.some(g=>g.shouldLoad)).forEach(d=>{let{key:g,match:y,controller:_}=d,E=o[g];if(Je(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(sr(E)){let T=Xs(n.matches,y==null?void 0:y.route.id);f&&f[T.route.id]||(f={...f,[T.route.id]:E.error}),n.fetchers.delete(g)}else if(Ws(E))Je(!1,"Unhandled fetcher revalidation redirect");else{let T=$a(E.data);n.fetchers.set(g,T)}}),{loaderData:u,errors:f}}function i1(n,e,t,r){let s=Object.entries(e).filter(([,o])=>o!==LA).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function a1(n){return n?sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xs(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function s1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Or(n,{pathname:e,routeId:t,method:r,type:s,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",f=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new dd(n||500,u,new Error(f),!0)}function Th(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Ws(s))return{key:r,result:s}}}function BA(n){let e=typeof n=="string"?ua(n):n;return as({...e,hash:""})}function WM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ZM(n){return HA(n.result)&&LM.has(n.result.status)}function sr(n){return n.type==="error"}function Ws(n){return(n&&n.type)==="redirect"}function o1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function HA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function JM(n){return kM.has(n.toUpperCase())}function or(n){return PM.has(n.toUpperCase())}function Lv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ic(n,e){let t=typeof e=="string"?ua(e).search:e.search;if(n[n.length-1].route.index&&Lv(t||""))return n[n.length-1];let r=PA(n);return r[r.length-1]}function l1(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:o,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Fp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ek(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tk(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function $a(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function nk(n,e){try{let t=n.sessionStorage.getItem(kA);if(t){let r=JSON.parse(t);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function rk(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(kA,JSON.stringify(t))}catch(r){kt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ik(){let n,e,t=new Promise((r,s)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var mo=x.createContext(null);mo.displayName="DataRouter";var Yc=x.createContext(null);Yc.displayName="DataRouterState";var Vv=x.createContext({isTransitioning:!1});Vv.displayName="ViewTransition";var qA=x.createContext(new Map);qA.displayName="Fetchers";var ak=x.createContext(null);ak.displayName="Await";var qr=x.createContext(null);qr.displayName="Navigation";var Yd=x.createContext(null);Yd.displayName="Location";var $r=x.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Uv=x.createContext(null);Uv.displayName="RouteError";function sk(n,{relative:e}={}){Je(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(qr),{hash:s,pathname:o,search:u}=Qc(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:_i([t,o])),r.createHref({pathname:f,search:u,hash:s})}function Hl(){return x.useContext(Yd)!=null}function ca(){return Je(Hl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Yd).location}var $A="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GA(n){x.useContext(qr).static||x.useLayoutEffect(n)}function jv(){let{isDataRoute:n}=x.useContext($r);return n?bk():ok()}function ok(){Je(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(mo),{basename:e,navigator:t}=x.useContext(qr),{matches:r}=x.useContext($r),{pathname:s}=ca(),o=JSON.stringify(Gd(r)),u=x.useRef(!1);return GA(()=>{u.current=!0}),x.useCallback((d,g={})=>{if(kt(u.current,$A),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=Kd(d,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_i([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,o,s,n])}var lk=x.createContext(null);function uk(n){let e=x.useContext($r).outlet;return e&&x.createElement(lk.Provider,{value:n},e)}function Qc(n,{relative:e}={}){let{matches:t}=x.useContext($r),{pathname:r}=ca(),s=JSON.stringify(Gd(t));return x.useMemo(()=>Kd(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function ck(n,e,t,r){Je(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(qr),{matches:o}=x.useContext($r),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let U=y&&y.path||"";QA(d,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=ca(),E;E=_;let T=E.pathname||"/",A=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=Xa(n,{pathname:A});return kt(y||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gk(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:_i([g,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:_i([g,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,t,r)}function fk(){let n=vk(),e=Ac(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:s},t):null,u)}var hk=x.createElement(fk,null),dk=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement($r.Provider,{value:this.props.routeContext},x.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mk({routeContext:n,match:e,children:t}){let r=x.useContext(mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement($r.Provider,{value:n},t)}function gk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:y,errors:_}=t,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,g,y)=>{let _,E=!1,T=null,A=null;t&&(_=o&&g.route.id?o[g.route.id]:void 0,T=g.route.errorElement||hk,u&&(f<0&&y===0?(QA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===y&&(E=!0,A=g.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),M=()=>{let U;return _?U=T:E?U=A:g.route.Component?U=x.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=d,x.createElement(mk,{match:g,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:U})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?x.createElement(dk,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):M()},null)}function zv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(n){let e=x.useContext(mo);return Je(e,zv(n)),e}function YA(n){let e=x.useContext(Yc);return Je(e,zv(n)),e}function pk(n){let e=x.useContext($r);return Je(e,zv(n)),e}function Fv(n){let e=pk(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function yk(){return Fv("useRouteId")}function vk(){var r;let n=x.useContext(Uv),e=YA("useRouteError"),t=Fv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}var _k=0;function Ek(n){let{router:e,basename:t}=KA("useBlocker"),r=YA("useBlocker"),[s,o]=x.useState(""),u=x.useCallback(f=>{if(typeof n!="function")return!!n;if(t==="/")return n(f);let{currentLocation:d,nextLocation:g,historyAction:y}=f;return n({currentLocation:{...d,pathname:Yn(d.pathname,t)||d.pathname},nextLocation:{...g,pathname:Yn(g.pathname,t)||g.pathname},historyAction:y})},[t,n]);return x.useEffect(()=>{let f=String(++_k);return o(f),()=>e.deleteBlocker(f)},[e]),x.useEffect(()=>{s!==""&&e.getBlocker(s,u)},[e,s,u]),s&&r.blockers.has(s)?r.blockers.get(s):ul}function bk(){let{router:n}=KA("useNavigate"),e=Fv("useNavigate"),t=x.useRef(!1);return GA(()=>{t.current=!0}),x.useCallback(async(s,o={})=>{kt(t.current,$A),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var u1={};function QA(n,e,t){!e&&!u1[n]&&(u1[n]=!0,kt(!1,t))}var c1={};function f1(n,e){!n&&!c1[e]&&(c1[e]=!0,console.warn(e))}function Sk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:x.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:x.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:x.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Tk=["HydrateFallback","hydrateFallbackElement"],wk=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function Ak({router:n,flushSync:e}){let[t,r]=x.useState(n.state),[s,o]=x.useState(),[u,f]=x.useState({isTransitioning:!1}),[d,g]=x.useState(),[y,_]=x.useState(),[E,T]=x.useState(),A=x.useRef(new Map),k=x.useCallback((Y,{deletedFetchers:re,flushSync:X,viewTransitionOpts:z})=>{Y.fetchers.forEach((I,C)=>{I.data!==void 0&&A.current.set(C,I.data)}),re.forEach(I=>A.current.delete(I)),f1(X===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(f1(z==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!O){e&&X?e(()=>r(Y)):x.startTransition(()=>r(Y));return}if(e&&X){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(Y))});I.finished.finally(()=>{e(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>_(I));return}y?(d&&d.resolve(),y.skipTransition(),T({state:Y,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(o(Y),f({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,e,y,d]);x.useLayoutEffect(()=>n.subscribe(k),[n,k]),x.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new wk)},[u]),x.useEffect(()=>{if(d&&s&&n.window){let Y=s,re=d.promise,X=n.window.document.startViewTransition(async()=>{x.startTransition(()=>r(Y)),await re});X.finished.finally(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})}),_(X)}},[s,d,n.window]),x.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,y,t.location,s]),x.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),T(void 0))},[u.isTransitioning,E]);let M=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Y=>n.navigate(Y),push:(Y,re,X)=>n.navigate(Y,{state:re,preventScrollReset:X==null?void 0:X.preventScrollReset}),replace:(Y,re,X)=>n.navigate(Y,{replace:!0,state:re,preventScrollReset:X==null?void 0:X.preventScrollReset})}),[n]),U=n.basename||"/",J=x.useMemo(()=>({router:n,navigator:M,static:!1,basename:U}),[n,M,U]);return x.createElement(x.Fragment,null,x.createElement(mo.Provider,{value:J},x.createElement(Yc.Provider,{value:t},x.createElement(qA.Provider,{value:A.current},x.createElement(Vv.Provider,{value:u},x.createElement(xk,{basename:U,location:t.location,navigationType:t.historyAction,navigator:M},x.createElement(Rk,{routes:n.routes,future:n.future,state:t})))))),null)}var Rk=x.memo(Ck);function Ck({routes:n,future:e,state:t}){return ck(n,void 0,t,e)}function Bv({to:n,replace:e,state:t,relative:r}){Je(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(qr);kt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext($r),{pathname:u}=ca(),f=jv(),d=Kd(n,Gd(o),u,r==="path"),g=JSON.stringify(d);return x.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:r})},[f,g,r,e,t]),null}function Ik(n){return uk(n.context)}function xk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Je(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=ua(t));let{pathname:d="/",search:g="",hash:y="",state:_=null,key:E="default"}=t,T=x.useMemo(()=>{let A=Yn(d,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:_,key:E},navigationType:r}},[u,d,g,y,_,E,r]);return kt(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:x.createElement(qr.Provider,{value:f},x.createElement(Yd.Provider,{children:e,value:T}))}var zh="get",Fh="application/x-www-form-urlencoded";function Qd(n){return n!=null&&typeof n.tagName=="string"}function Ok(n){return Qd(n)&&n.tagName.toLowerCase()==="button"}function Dk(n){return Qd(n)&&n.tagName.toLowerCase()==="form"}function Nk(n){return Qd(n)&&n.tagName.toLowerCase()==="input"}function Pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Mk(n,e){return n.button===0&&(!e||e==="_self")&&!Pk(n)}function wy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function kk(n,e){let t=wy(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var wh=null;function Lk(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var Vk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bp(n){return n!=null&&!Vk.has(n)?(kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):n}function Uk(n,e){let t,r,s,o,u;if(Dk(n)){let f=n.getAttribute("action");r=f?Yn(f,e):null,t=n.getAttribute("method")||zh,s=Bp(n.getAttribute("enctype"))||Fh,o=new FormData(n)}else if(Ok(n)||Nk(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Yn(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||zh,s=Bp(n.getAttribute("formenctype"))||Bp(f.getAttribute("enctype"))||Fh,o=new FormData(f,n),!Lk()){let{name:g,type:y,value:_}=n;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(Qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,r=null,s=Fh,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function Hv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Fk(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await jk(o,t);return u.links?u.links():[]}return[]}));return $k(r.flat(1).filter(zk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h1(n,e,t,r,s,o){let u=(d,g)=>t[g]?d.route.id!==t[g].route.id:!0,f=(d,g)=>{var y;return t[g].pathname!==d.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,g)=>u(d,g)||f(d,g)):o==="data"?e.filter((d,g)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Bk(n,e,{includeHydrateFallback:t}={}){return Hk(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Hk(n){return[...new Set(n)]}function qk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $k(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(qk(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gk=new Set([100,101,204,205]);function Kk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Yn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XA(){let n=x.useContext(mo);return Hv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Yk(){let n=x.useContext(Yc);return Hv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qv=x.createContext(void 0);qv.displayName="FrameworkContext";function WA(){let n=x.useContext(qv);return Hv(n,"You must render this element inside a <HydratedRouter> element"),n}function Qk(n,e){let t=x.useContext(qv),[r,s]=x.useState(!1),[o,u]=x.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,E=x.useRef(null);x.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let k=U=>{U.forEach(J=>{u(J.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),x.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{s(!0)},A=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Zu(f,T),onBlur:Zu(d,A),onMouseEnter:Zu(g,T),onMouseLeave:Zu(y,A),onTouchStart:Zu(_,T)}]:[!1,E,{}]}function Zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Xk({page:n,...e}){let{router:t}=XA(),r=x.useMemo(()=>Xa(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(Zk,{page:n,matches:r,...e}):null}function Wk(n){let{manifest:e,routeModules:t}=WA(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return Fk(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function Zk({page:n,matches:e,...t}){let r=ca(),{manifest:s,routeModules:o}=WA(),{basename:u}=XA(),{loaderData:f,matches:d}=Yk(),g=x.useMemo(()=>h1(n,e,d,s,r,"data"),[n,e,d,s,r]),y=x.useMemo(()=>h1(n,e,d,s,r,"assets"),[n,e,d,s,r]),_=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,k=!1;if(e.forEach(U=>{var Y;let J=s.routes[U.route.id];!J||!J.hasLoader||(!g.some(re=>re.route.id===U.route.id)&&U.route.id in f&&((Y=o[U.route.id])!=null&&Y.shouldRevalidate)||J.hasClientLoader?k=!0:A.add(U.route.id))}),A.size===0)return[];let M=Kk(n,u);return k&&A.size>0&&M.searchParams.set("_routes",e.filter(U=>A.has(U.route.id)).map(U=>U.route.id).join(",")),[M.pathname+M.search]},[u,f,r,s,g,e,n,o]),E=x.useMemo(()=>Bk(y,s),[y,s]),T=Wk(y);return x.createElement(x.Fragment,null,_.map(A=>x.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>x.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),T.map(({key:A,link:k})=>x.createElement("link",{key:A,...k})))}function Jk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZA&&(window.__reactRouterVersion="7.6.2")}catch{}function JA(n,e){return zM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:oM({window:e==null?void 0:e.window}),hydrationData:eL(),routes:n,mapRouteProperties:Sk,hydrationRouteProperties:Tk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function eL(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:tL(n.errors)}),n}function tL(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new dd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(s.message);o.stack="",t[r]=o}}else t[r]=s;return t}var eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$v=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:f,target:d,to:g,preventScrollReset:y,viewTransition:_,...E},T){let{basename:A}=x.useContext(qr),k=typeof g=="string"&&eR.test(g),M,U=!1;if(typeof g=="string"&&k&&(M=g,ZA))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),j=Yn(D.pathname,A);D.origin===C.origin&&j!=null?g=j+D.search+D.hash:U=!0}catch{kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=sk(g,{relative:s}),[Y,re,X]=Qk(r,E),z=aL(g,{replace:u,state:f,target:d,preventScrollReset:y,relative:s,viewTransition:_});function O(C){e&&e(C),C.defaultPrevented||z(C)}let I=x.createElement("a",{...E,...X,href:M||J,onClick:U||o?e:O,ref:Jk(T,re),target:d,"data-discover":!k&&t==="render"?"true":void 0});return Y&&!k?x.createElement(x.Fragment,null,I,x.createElement(Xk,{page:J})):I});$v.displayName="Link";var nL=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:f,children:d,...g},y){let _=Qc(u,{relative:g.relative}),E=ca(),T=x.useContext(Yc),{navigator:A,basename:k}=x.useContext(qr),M=T!=null&&fL(_)&&f===!0,U=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,J=E.pathname,Y=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(J=J.toLowerCase(),Y=Y?Y.toLowerCase():null,U=U.toLowerCase()),Y&&k&&(Y=Yn(Y,k)||Y);const re=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let X=J===U||!s&&J.startsWith(U)&&J.charAt(re)==="/",z=Y!=null&&(Y===U||!s&&Y.startsWith(U)&&Y.charAt(U.length)==="/"),O={isActive:X,isPending:z,isTransitioning:M},I=X?e:void 0,C;typeof r=="function"?C=r(O):C=[r,X?"active":null,z?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(O):o;return x.createElement($v,{...g,"aria-current":I,className:C,ref:y,style:D,to:u,viewTransition:f},typeof d=="function"?d(O):d)});nL.displayName="NavLink";var rL=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=zh,action:f,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:_,...E},T)=>{let A=uL(),k=cL(f,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&eR.test(f),J=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let re=Y.nativeEvent.submitter,X=(re==null?void 0:re.getAttribute("formmethod"))||u;A(re||Y.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:s,state:o,relative:g,preventScrollReset:y,viewTransition:_})};return x.createElement("form",{ref:T,method:M,action:k,onSubmit:r?d:J,...E,"data-discover":!U&&n==="render"?"true":void 0})});rL.displayName="Form";function iL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(n){let e=x.useContext(mo);return Je(e,iL(n)),e}function aL(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=jv(),d=ca(),g=Qc(n,{relative:o});return x.useCallback(y=>{if(Mk(y,e)){y.preventDefault();let _=t!==void 0?t:as(d)===as(g);f(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,f,g,t,r,e,n,s,o,u])}function sL(n){kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(wy(n)),t=x.useRef(!1),r=ca(),s=x.useMemo(()=>kk(r.search,t.current?null:e.current),[r.search]),o=jv(),u=x.useCallback((f,d)=>{const g=wy(typeof f=="function"?f(s):f);t.current=!0,o("?"+g,d)},[o,s]);return[s,u]}var oL=0,lL=()=>`__${String(++oL)}__`;function uL(){let{router:n}=tR("useSubmit"),{basename:e}=x.useContext(qr),t=yk();return x.useCallback(async(r,s={})=>{let{action:o,method:u,encType:f,formData:d,body:g}=Uk(r,e);if(s.navigate===!1){let y=s.fetcherKey||lL();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function cL(n,{relative:e}={}){let{basename:t}=x.useContext(qr),r=x.useContext($r);Je(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Qc(n||".",{relative:e})},u=ca();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:_i([t,o.pathname])),as(o)}function fL(n,e={}){let t=x.useContext(Vv);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tR("useViewTransitionState"),s=Qc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Yn(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Yn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hd(s.pathname,u)!=null||hd(s.pathname,o)!=null}[...Gk];const hL=(n,e,t,r)=>{var o,u,f,d;const s=[t,{code:e,...r||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);eo(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(f=n==null?void 0:n.services)==null?void 0:f.logger)!=null&&d.warn?n.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},d1={},Ay=(n,e,t,r)=>{eo(t)&&d1[t]||(eo(t)&&(d1[t]=new Date),hL(n,e,t,r))},nR=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Ry=(n,e,t)=>{n.loadNamespaces(e,nR(n,t))},m1=(n,e,t,r)=>{if(eo(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Ry(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,nR(n,r))},dL=(n,e,t={})=>!e.languages||!e.languages.length?(Ay(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),eo=n=>typeof n=="string",mL=n=>typeof n=="object"&&n!==null,gL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pL={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},yL=n=>pL[n],vL=n=>n.replace(gL,yL);let Cy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vL};const _L=(n={})=>{Cy={...Cy,...n}},EL=()=>Cy;let rR;const bL=n=>{rR=n},SL=()=>rR,TL={type:"3rdParty",init(n){_L(n.options.react),bL(n)}},wL=x.createContext();class AL{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const RL=(n,e)=>{const t=x.useRef();return x.useEffect(()=>{t.current=n},[n,e]),t.current},iR=(n,e,t,r)=>n.getFixedT(e,t,r),CL=(n,e,t,r)=>x.useCallback(iR(n,e,t,r),[n,e,t,r]),Tn=(n,e={})=>{var re,X,z,O;const{i18n:t}=e,{i18n:r,defaultNS:s}=x.useContext(wL)||{},o=t||r||SL();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new AL),!o){Ay(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const I=(D,j)=>eo(j)?j:mL(j)&&eo(j.defaultValue)?j.defaultValue:Array.isArray(D)?D[D.length-1]:D,C=[I,{},!1];return C.t=I,C.i18n={},C.ready=!1,C}(re=o.options.react)!=null&&re.wait&&Ay(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...EL(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=s||((X=o.options)==null?void 0:X.defaultNS);g=eo(g)?[g]:g||["translation"],(O=(z=o.reportNamespaces).addUsedNamespaces)==null||O.call(z,g);const y=(o.isInitialized||o.initializedStoreOnce)&&g.every(I=>dL(I,o,u)),_=CL(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),E=()=>_,T=()=>iR(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[A,k]=x.useState(E);let M=g.join();e.lng&&(M=`${e.lng}${M}`);const U=RL(M),J=x.useRef(!0);x.useEffect(()=>{const{bindI18n:I,bindI18nStore:C}=u;J.current=!0,!y&&!f&&(e.lng?m1(o,e.lng,g,()=>{J.current&&k(T)}):Ry(o,g,()=>{J.current&&k(T)})),y&&U&&U!==M&&J.current&&k(T);const D=()=>{J.current&&k(T)};return I&&(o==null||o.on(I,D)),C&&(o==null||o.store.on(C,D)),()=>{J.current=!1,o&&(I==null||I.split(" ").forEach(j=>o.off(j,D))),C&&o&&C.split(" ").forEach(j=>o.store.off(j,D))}},[o,M]),x.useEffect(()=>{J.current&&y&&k(E)},[o,d,y]);const Y=[A,o,y];if(Y.t=A,Y.i18n=o,Y.ready=y,y||!y&&!f)return Y;throw new Promise(I=>{e.lng?m1(o,e.lng,g,()=>I()):Ry(o,g,()=>I())})},tn=Object.freeze({DEFAULT:"DEFAULT",DANGER:"DANGER",PRIMARY:"PRIMARY",SUCCESS:"SUCCESS"}),IL="_Button_1nur9_1",xL={Button:IL},OL=n=>{const{category:e=tn.DEFAULT,children:t,className:r="",textOnly:s=!1,...o}=n;return H.jsx("button",{className:`${xL.Button} ${r}`,"data-category":e,"data-text-only":s,...o,children:t})},nn=x.memo(OL),DL=n=>{const{deleteSongDialogFnsRef:e}=n,{t}=Tn();return H.jsx(H.Fragment,{children:H.jsx(nn,{category:tn.DANGER,onClick:()=>{var r;return(r=e.current)==null?void 0:r.show()},children:t("Delete song")})})},NL=x.memo(DL),PL="_InlineInput_cmxmw_1",ML={InlineInput:PL},kL=n=>{const{label:e,...t}=n;return H.jsxs("label",{className:ML.InlineInput,children:[H.jsx("span",{children:e}),H.jsx("input",{...t})]})},Sl=x.memo(kL),LL="_NewNotesOption_1ax45_1",VL={NewNotesOption:LL},UL=n=>{const{notesFnsRef:e}=n,{t}=Tn(),r=x.useCallback(o=>{var u;(u=e.current)==null||u.addMultipleNotes(o)},[e]),s=x.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return H.jsxs("form",{className:VL.NewNotesOption,onSubmit:s,children:[H.jsx(Sl,{label:t("New Notes"),type:"number",name:"qty"}),H.jsx(nn,{category:tn.PRIMARY,children:t("Add")})]})},jL=x.memo(UL),zL="_NewPitchesOption_1vsl8_1",FL={NewPitchesOption:zL},BL=n=>{const{notesFnsRef:e}=n,{t}=Tn(),r=x.useCallback(o=>{var u;(u=e.current)==null||u.addMultiplePitches(o)},[e]),s=x.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return H.jsxs("form",{className:FL.NewPitchesOption,onSubmit:s,children:[H.jsx(Sl,{label:t("New Pitches"),type:"number",name:"qty"}),H.jsx(nn,{category:tn.PRIMARY,children:t("Add")})]})},HL=x.memo(BL),qL="_TrimOptions_ti9xd_1",$L={TrimOptions:qL},GL=n=>{const{notesFnsRef:e}=n,{t}=Tn(),r=x.useCallback(()=>{var u;(u=e.current)==null||u.trimPitches()},[e]),s=x.useCallback(()=>{var u;(u=e.current)==null||u.removeEmptyNotesAtTheEnd()},[e]),o=x.useCallback(()=>{s(),r()},[s,r]);return H.jsx("div",{className:$L.TrimOptions,children:H.jsx(nn,{category:tn.DANGER,onClick:o,textOnly:!0,children:t("Trim Chart")})})},KL=x.memo(GL),YL="_ChartControllers_17m63_1",QL={ChartControllers:YL},XL=n=>{const{notesFnsRef:e,generateChartDialogFnsRef:t,deleteSongDialogFnsRef:r}=n,{t:s}=Tn();return H.jsxs("div",{className:QL.ChartControllers,children:[H.jsx(nn,{category:tn.DANGER,onClick:()=>{var o;return(o=t.current)==null?void 0:o.show()},children:s("Generate mapping with lyrics")}),H.jsx(jL,{notesFnsRef:e}),H.jsx(HL,{notesFnsRef:e}),H.jsx(KL,{notesFnsRef:e}),H.jsx(NL,{deleteSongDialogFnsRef:r})]})},WL=x.memo(XL),ZL="_Checkbox_5pzbe_1",JL={Checkbox:ZL},e4=n=>{const{label:e,initialValue:t,className:r="",onChange:s}=n,[o,u]=x.useState(t);return x.useEffect(()=>{s(o)},[o,s]),H.jsxs("label",{className:`${JL.Checkbox} ${r}`,children:[H.jsx("input",{type:"checkbox",checked:o,onChange:()=>{u(f=>!f)}}),H.jsx("span",{children:e})]})},t4=x.memo(e4);var aR=Nw();const n4="_DialogUIBlocker_mp5d3_1",r4="_Dialog_mp5d3_1",i4="_DialogHeader_mp5d3_21",a4="_DialogBody_mp5d3_26",s4="_DialogFooter_mp5d3_33",Ju={DialogUIBlocker:n4,Dialog:r4,DialogHeader:i4,DialogBody:a4,DialogFooter:s4},o4=n=>{const{bodyContent:e,footerContent:t,title:r}=n;return aR.createPortal(H.jsx("div",{className:Ju.DialogUIBlocker,children:H.jsxs("div",{className:Ju.Dialog,children:[H.jsx("div",{className:Ju.DialogHeader,children:H.jsx("h2",{children:r})}),H.jsx("div",{className:Ju.DialogBody,children:e}),H.jsx("div",{className:Ju.DialogFooter,children:t})]})}),document.body)},Gv=x.memo(o4),l4=n=>{const{bodyContent:e,footerContent:t}=n,{t:r}=Tn();return x.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),H.jsx(Gv,{title:r("Confirmation"),bodyContent:e,footerContent:t})},sR=x.memo(l4),u4="_ContextMenu_ip4lh_1",c4="_ContextMenuItem_ip4lh_10",g1={ContextMenu:u4,ContextMenuItem:c4},f4=n=>{const{items:e,contextMenuFnsRef:t}=n,[r,s]=x.useState(null),o=x.useRef(null);return x.useImperativeHandle(t,()=>({setContextMenuData(u){s(u)}}),[]),x.useEffect(()=>{function u(f){o.current&&!o.current.contains(f.target)&&s(null)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s,o]),r?H.jsx("div",{ref:o,className:g1.ContextMenu,style:{top:r==null?void 0:r.top,left:r==null?void 0:r.left},children:e.map(u=>H.jsx("span",{className:g1.ContextMenuItem,onClick:()=>{s(null),u.onClick(r)},"data-type":u.type,children:u.label},`item-${u.label}`))}):H.jsx(H.Fragment,{})},h4=x.memo(f4),d4=n=>{const{configSongDialogFnsRef:e,notesFnsRef:t,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:s}=n,{t:o}=Tn(),[u,f]=x.useState(!1);return x.useImperativeHandle(e,()=>({show(){f(!0)}})),u?H.jsx(Gv,{title:o("Configure Song"),bodyContent:H.jsx(H.Fragment,{children:H.jsx(WL,{notesFnsRef:t,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:s})}),footerContent:H.jsx(H.Fragment,{children:H.jsx(nn,{onClick:()=>f(!1),children:o("Close")})})}):H.jsx(H.Fragment,{})},m4=x.memo(d4);function _n(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var g4=typeof Symbol=="function"&&Symbol.observable||"@@observable",p1=g4,Hp=()=>Math.random().toString(36).substring(7).split("").join("."),p4={INIT:`@@redux/INIT${Hp()}`,REPLACE:`@@redux/REPLACE${Hp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hp()}`},gd=p4;function Kv(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function oR(n,e,t){if(typeof n!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(_n(1));return t(oR)(n,e)}let r=n,s=e,o=new Map,u=o,f=0,d=!1;function g(){u===o&&(u=new Map,o.forEach((M,U)=>{u.set(U,M)}))}function y(){if(d)throw new Error(_n(3));return s}function _(M){if(typeof M!="function")throw new Error(_n(4));if(d)throw new Error(_n(5));let U=!0;g();const J=f++;return u.set(J,M),function(){if(U){if(d)throw new Error(_n(6));U=!1,g(),u.delete(J),o=null}}}function E(M){if(!Kv(M))throw new Error(_n(7));if(typeof M.type>"u")throw new Error(_n(8));if(typeof M.type!="string")throw new Error(_n(17));if(d)throw new Error(_n(9));try{d=!0,s=r(s,M)}finally{d=!1}return(o=u).forEach(J=>{J()}),M}function T(M){if(typeof M!="function")throw new Error(_n(10));r=M,E({type:gd.REPLACE})}function A(){const M=_;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(_n(11));function J(){const re=U;re.next&&re.next(y())}return J(),{unsubscribe:M(J)}},[p1](){return this}}}return E({type:gd.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:T,[p1]:A}}function y4(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:gd.INIT})>"u")throw new Error(_n(12));if(typeof t(void 0,{type:gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function v4(n){const e=Object.keys(n),t={};for(let o=0;o<e.length;o++){const u=e[o];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{y4(t)}catch(o){s=o}return function(u={},f){if(s)throw s;let d=!1;const g={};for(let y=0;y<r.length;y++){const _=r[y],E=t[_],T=u[_],A=E(T,f);if(typeof A>"u")throw f&&f.type,new Error(_n(14));g[_]=A,d=d||A!==T}return d=d||r.length!==Object.keys(u).length,d?g:u}}function pd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function _4(...n){return e=>(t,r)=>{const s=e(t,r);let o=()=>{throw new Error(_n(15))};const u={getState:s.getState,dispatch:(d,...g)=>o(d,...g)},f=n.map(d=>d(u));return o=pd(...f)(s.dispatch),{...s,dispatch:o}}}function E4(n){return Kv(n)&&"type"in n&&typeof n.type=="string"}var lR=Symbol.for("immer-nothing"),y1=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function jr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Rl=Object.getPrototypeOf;function ao(n){return!!n&&!!n[ur]}function ra(n){var e;return n?uR(n)||Array.isArray(n)||!!n[y1]||!!((e=n.constructor)!=null&&e[y1])||Wd(n)||Zd(n):!1}var b4=Object.prototype.constructor.toString();function uR(n){if(!n||typeof n!="object")return!1;const e=Rl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===b4}function yd(n,e){Xd(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Xd(n){const e=n[ur];return e?e.type_:Array.isArray(n)?1:Wd(n)?2:Zd(n)?3:0}function Iy(n,e){return Xd(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function cR(n,e,t){const r=Xd(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function S4(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Wd(n){return n instanceof Map}function Zd(n){return n instanceof Set}function Qs(n){return n.copy_||n.base_}function xy(n,e){if(Wd(n))return new Map(n);if(Zd(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=uR(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ur];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[u]})}return Object.create(Rl(n),r)}else{const r=Rl(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function Yv(n,e=!1){return Jd(n)||ao(n)||!ra(n)||(Xd(n)>1&&(n.set=n.add=n.clear=n.delete=T4),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Yv(r,!0))),n}function T4(){jr(2)}function Jd(n){return Object.isFrozen(n)}var w4={};function so(n){const e=w4[n];return e||jr(0,n),e}var Rc;function fR(){return Rc}function A4(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v1(n,e){e&&(so("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Oy(n){Dy(n),n.drafts_.forEach(R4),n.drafts_=null}function Dy(n){n===Rc&&(Rc=n.parent_)}function _1(n){return Rc=A4(Rc,n)}function R4(n){const e=n[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E1(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ur].modified_&&(Oy(e),jr(4)),ra(n)&&(n=vd(e,n),e.parent_||_d(e,n)),e.patches_&&so("Patches").generateReplacementPatches_(t[ur].base_,n,e.patches_,e.inversePatches_)):n=vd(e,t,[]),Oy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==lR?n:void 0}function vd(n,e,t){if(Jd(e))return e;const r=e[ur];if(!r)return yd(e,(s,o)=>b1(n,r,e,s,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return _d(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,u=!1;r.type_===3&&(o=new Set(s),s.clear(),u=!0),yd(o,(f,d)=>b1(n,r,s,f,d,t,u)),_d(n,s,!1),t&&n.patches_&&so("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function b1(n,e,t,r,s,o,u){if(ao(s)){const f=o&&e&&e.type_!==3&&!Iy(e.assigned_,r)?o.concat(r):void 0,d=vd(n,s,f);if(cR(t,r,d),ao(d))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(ra(s)&&!Jd(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;vd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&_d(n,s)}}function _d(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Yv(e,t)}function C4(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:fR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Qv;t&&(s=[r],o=Cc);const{revoke:u,proxy:f}=Proxy.revocable(s,o);return r.draft_=f,r.revoke_=u,f}var Qv={get(n,e){if(e===ur)return n;const t=Qs(n);if(!Iy(t,e))return I4(n,t,e);const r=t[e];return n.finalized_||!ra(r)?r:r===qp(n.base_,e)?($p(n),n.copy_[e]=Py(r,n)):r},has(n,e){return e in Qs(n)},ownKeys(n){return Reflect.ownKeys(Qs(n))},set(n,e,t){const r=hR(Qs(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=qp(Qs(n),e),o=s==null?void 0:s[ur];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(S4(t,s)&&(t!==void 0||Iy(n.base_,e)))return!0;$p(n),Ny(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return qp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,$p(n),Ny(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Qs(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){jr(11)},getPrototypeOf(n){return Rl(n.base_)},setPrototypeOf(){jr(12)}},Cc={};yd(Qv,(n,e)=>{Cc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Cc.deleteProperty=function(n,e){return Cc.set.call(this,n,e,void 0)};Cc.set=function(n,e,t){return Qv.set.call(this,n[0],e,t,n[0])};function qp(n,e){const t=n[ur];return(t?Qs(t):n)[e]}function I4(n,e,t){var s;const r=hR(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function hR(n,e){if(!(e in n))return;let t=Rl(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Rl(t)}}function Ny(n){n.modified_||(n.modified_=!0,n.parent_&&Ny(n.parent_))}function $p(n){n.copy_||(n.copy_=xy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var x4=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const u=this;return function(d=o,...g){return u.produce(d,y=>t.call(this,y,...g))}}typeof t!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let s;if(ra(e)){const o=_1(this),u=Py(e,void 0);let f=!0;try{s=t(u),f=!1}finally{f?Oy(o):Dy(o)}return v1(o,r),E1(s,o)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===lR&&(s=void 0),this.autoFreeze_&&Yv(s,!0),r){const o=[],u=[];so("Patches").generateReplacementPatches_(e,s,o,u),r(o,u)}return s}else jr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...f)=>this.produceWithPatches(u,d=>e(d,...f));let r,s;return[this.produce(e,t,(u,f)=>{r=u,s=f}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ra(n)||jr(8),ao(n)&&(n=O4(n));const e=_1(this),t=Py(n,void 0);return t[ur].isManual_=!0,Dy(e),t}finishDraft(n,e){const t=n&&n[ur];(!t||!t.isManual_)&&jr(9);const{scope_:r}=t;return v1(r,e),E1(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=so("Patches").applyPatches_;return ao(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Py(n,e){const t=Wd(n)?so("MapSet").proxyMap_(n,e):Zd(n)?so("MapSet").proxySet_(n,e):C4(n,e);return(e?e.scope_:fR()).drafts_.push(t),t}function O4(n){return ao(n)||jr(10,n),dR(n)}function dR(n){if(!ra(n)||Jd(n))return n;const e=n[ur];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=xy(n,e.scope_.immer_.useStrictShallowCopy_)}else t=xy(n,!0);return yd(t,(r,s)=>{cR(t,r,dR(s))}),e&&(e.finalized_=!1),t}var cr=new x4,mR=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function gR(n){return({dispatch:t,getState:r})=>s=>o=>typeof o=="function"?o(t,r,n):s(o)}var D4=gR(),N4=gR,P4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pd:pd.apply(null,arguments)},M4=n=>n&&typeof n.match=="function";function dc(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(Ji(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>E4(r)&&r.type===n,t}var pR=class ac extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ac.prototype)}static get[Symbol.species](){return ac}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ac(...e[0].concat(this)):new ac(...e.concat(this))}};function S1(n){return ra(n)?mR(n,()=>{}):n}function Ah(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function k4(n){return typeof n=="boolean"}var L4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let u=new pR;return t&&(k4(t)?u.push(D4):u.push(N4(t.extraArgument))),u},V4="RTK_autoBatch",T1=n=>e=>{setTimeout(e,n)},U4=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,o=!1,u=!1;const f=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:T1(10):n.type==="callback"?n.queueNotification:T1(n.timeout),g=()=>{u=!1,o&&(o=!1,f.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const _=()=>s&&y(),E=r.subscribe(_);return f.add(y),()=>{E(),f.delete(y)}},dispatch(y){var _;try{return s=!((_=y==null?void 0:y.meta)!=null&&_[V4]),o=!s,o&&(u||(u=!0,d(g))),r.dispatch(y)}finally{s=!0}}})},j4=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new pR(n);return r&&s.push(U4(typeof r=="object"?r:void 0)),s};function z4(n){const e=L4(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(Kv(t))f=v4(t);else throw new Error(Ji(1));let d;typeof r=="function"?d=r(e):d=e();let g=pd;s&&(g=P4({trace:!1,...typeof s=="object"&&s}));const y=_4(...d),_=j4(y);let E=typeof u=="function"?u(_):_();const T=g(...E);return oR(f,o,T)}function yR(n){const e={},t=[];let r;const s={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(Ji(28));if(f in e)throw new Error(Ji(29));return e[f]=u,s},addMatcher(o,u){return t.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return n(s),[e,t,r]}function F4(n){return typeof n=="function"}function B4(n,e){let[t,r,s]=yR(e),o;if(F4(n))o=()=>S1(n());else{const f=S1(n);o=()=>f}function u(f=o(),d){let g=[t[d.type],...r.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[s]),g.reduce((y,_)=>{if(_)if(ao(y)){const T=_(y,d);return T===void 0?y:T}else{if(ra(y))return mR(y,E=>_(E,d));{const E=_(y,d);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},f)}return u.getInitialState=o,u}var H4=(n,e)=>M4(n)?n.match(e):n(e);function q4(...n){return e=>n.some(t=>H4(t,e))}var $4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",G4=(n=21)=>{let e="",t=n;for(;t--;)e+=$4[Math.random()*64|0];return e},K4=["name","message","stack","code"],Gp=class{constructor(n,e){Ep(this,"_type");this.payload=n,this.meta=e}},w1=class{constructor(n,e){Ep(this,"_type");this.payload=n,this.meta=e}},Y4=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of K4)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},A1="External signal was aborted",go=(()=>{function n(e,t,r){const s=dc(e+"/fulfilled",(d,g,y,_)=>({payload:d,meta:{..._||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),o=dc(e+"/pending",(d,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:d,requestStatus:"pending"}})),u=dc(e+"/rejected",(d,g,y,_,E)=>({payload:_,error:(r&&r.serializeError||Y4)(d||"Rejected"),meta:{...E||{},arg:y,requestId:g,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function f(d,{signal:g}={}){return(y,_,E)=>{const T=r!=null&&r.idGenerator?r.idGenerator(d):G4(),A=new AbortController;let k,M;function U(Y){M=Y,A.abort()}g&&(g.aborted?U(A1):g.addEventListener("abort",()=>U(A1),{once:!0}));const J=async function(){var X,z;let Y;try{let O=(X=r==null?void 0:r.condition)==null?void 0:X.call(r,d,{getState:_,extra:E});if(X4(O)&&(O=await O),O===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((C,D)=>{k=()=>{D({name:"AbortError",message:M||"Aborted"})},A.signal.addEventListener("abort",k)});y(o(T,d,(z=r==null?void 0:r.getPendingMeta)==null?void 0:z.call(r,{requestId:T,arg:d},{getState:_,extra:E}))),Y=await Promise.race([I,Promise.resolve(t(d,{dispatch:y,getState:_,extra:E,requestId:T,signal:A.signal,abort:U,rejectWithValue:(C,D)=>new Gp(C,D),fulfillWithValue:(C,D)=>new w1(C,D)})).then(C=>{if(C instanceof Gp)throw C;return C instanceof w1?s(C.payload,T,d,C.meta):s(C,T,d)})])}catch(O){Y=O instanceof Gp?u(null,T,d,O.payload,O.meta):u(O,T,d)}finally{k&&A.signal.removeEventListener("abort",k)}return r&&!r.dispatchConditionRejection&&u.match(Y)&&Y.meta.condition||y(Y),Y}();return Object.assign(J,{abort:U,requestId:T,arg:d,unwrap(){return J.then(Q4)}})}}return Object.assign(f,{pending:o,rejected:u,fulfilled:s,settled:q4(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function Q4(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function X4(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var W4=Symbol.for("rtk-slice-createasyncthunk");function Z4(n,e){return`${n}/${e}`}function J4({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[W4];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(Ji(11));const f=(typeof s.reducers=="function"?s.reducers(t6()):s.reducers)||{},d=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(re,X){const z=typeof re=="string"?re:re.type;if(!z)throw new Error(Ji(12));if(z in g.sliceCaseReducersByType)throw new Error(Ji(13));return g.sliceCaseReducersByType[z]=X,y},addMatcher(re,X){return g.sliceMatchers.push({matcher:re,reducer:X}),y},exposeAction(re,X){return g.actionCreators[re]=X,y},exposeCaseReducer(re,X){return g.sliceCaseReducersByName[re]=X,y}};d.forEach(re=>{const X=f[re],z={reducerName:re,type:Z4(o,re),createNotation:typeof s.reducers=="function"};r6(X)?a6(z,X,y,e):n6(z,X,y)});function _(){const[re={},X=[],z=void 0]=typeof s.extraReducers=="function"?yR(s.extraReducers):[s.extraReducers],O={...re,...g.sliceCaseReducersByType};return B4(s.initialState,I=>{for(let C in O)I.addCase(C,O[C]);for(let C of g.sliceMatchers)I.addMatcher(C.matcher,C.reducer);for(let C of X)I.addMatcher(C.matcher,C.reducer);z&&I.addDefaultCase(z)})}const E=re=>re,T=new Map,A=new WeakMap;let k;function M(re,X){return k||(k=_()),k(re,X)}function U(){return k||(k=_()),k.getInitialState()}function J(re,X=!1){function z(I){let C=I[re];return typeof C>"u"&&X&&(C=Ah(A,z,U)),C}function O(I=E){const C=Ah(T,X,()=>new WeakMap);return Ah(C,I,()=>{const D={};for(const[j,B]of Object.entries(s.selectors??{}))D[j]=e6(B,I,()=>Ah(A,I,U),X);return D})}return{reducerPath:re,getSelectors:O,get selectors(){return O(z)},selectSlice:z}}const Y={name:o,reducer:M,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:U,...J(u),injectInto(re,{reducerPath:X,...z}={}){const O=X??u;return re.inject({reducerPath:O,reducer:M},z),{...Y,...J(O,!0)}}};return Y}}function e6(n,e,t,r){function s(o,...u){let f=e(o);return typeof f>"u"&&r&&(f=t()),n(f,...u)}return s.unwrapped=n,s}var vR=J4();function t6(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function n6({type:n,reducerName:e,createNotation:t},r,s){let o,u;if("reducer"in r){if(t&&!i6(r))throw new Error(Ji(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(n,o).exposeCaseReducer(e,o).exposeAction(e,u?dc(n,u):dc(n))}function r6(n){return n._reducerDefinitionType==="asyncThunk"}function i6(n){return n._reducerDefinitionType==="reducerWithPrepare"}function a6({type:n,reducerName:e},t,r,s){if(!s)throw new Error(Ji(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:d,settled:g,options:y}=t,_=s(n,o,y);r.exposeAction(e,_),u&&r.addCase(_.fulfilled,u),f&&r.addCase(_.pending,f),d&&r.addCase(_.rejected,d),g&&r.addMatcher(_.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Rh,pending:f||Rh,rejected:d||Rh,settled:g||Rh})}function Rh(){}function Ji(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const em="songs",ft=Object.freeze({IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"}),qe=n=>typeof n=="string",ec=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},R1=n=>n==null?"":""+n,s6=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},o6=/###/g,C1=n=>n&&n.indexOf("###")>-1?n.replace(o6,"."):n,I1=n=>!n||qe(n),mc=(n,e,t)=>{const r=qe(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(I1(n))return{};const o=C1(r[s]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++s}return I1(n)?{}:{obj:n,k:C1(r[s])}},x1=(n,e,t)=>{const{obj:r,k:s}=mc(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=mc(n,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=mc(n,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=t},l6=(n,e,t,r)=>{const{obj:s,k:o}=mc(n,e,Object);s[o]=s[o]||[],s[o].push(t)},Ed=(n,e)=>{const{obj:t,k:r}=mc(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},u6=(n,e,t)=>{const r=Ed(n,t);return r!==void 0?r:Ed(e,t)},_R=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?qe(n[r])||n[r]instanceof String||qe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):_R(n[r],e[r],t):n[r]=e[r]);return n},sl=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var c6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const f6=n=>qe(n)?n.replace(/[&<>"'\/]/g,e=>c6[e]):n;class h6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const d6=[" ",",","?","!",";"],m6=new h6(20),g6=(n,e,t)=>{e=e||"",t=t||"";const r=d6.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=m6.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(n);if(!o){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(o=!0)}return o},My=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let u,f="";for(let d=o;d<r.length;++d)if(d!==o&&(f+=t),f+=r[d],u=s[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}s=u}return s},Ic=n=>n==null?void 0:n.replace("_","-"),p6={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class bd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||p6,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new bd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bd(this.logger,e)}}var mi=new bd;class tm{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[e,...t])})}}class O1 extends tm{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){var g,y;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,t],r&&(Array.isArray(r)?f.push(...r):qe(r)&&o?f.push(...r.split(o)):f.push(r)));const d=Ed(this.data,f);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=f[0],t=f[1],r=f.slice(2).join(".")),d||!u||!qe(r)?d:My((y=(g=this.data)==null?void 0:g[e])==null?void 0:y[t],r,o)}addResource(e,t,r,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,t];r&&(f=f.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(f=e.split("."),s=t,t=f[1]),this.addNamespaces(t),x1(this.data,f,s),o.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const o in r)(qe(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,o,u={silent:!1,skipCopy:!1}){let f=[e,t];e.indexOf(".")>-1&&(f=e.split("."),s=r,r=t,t=f[1]),this.addNamespaces(t);let d=Ed(this.data,f)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?_R(d,r,o):d={...d,...r},x1(this.data,f,d),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var ER={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,r,s))??e}),e}};const D1={},N1=n=>!qe(n)&&typeof n!="boolean"&&typeof n!="number";class Sd extends tm{constructor(e,t={}){super(),s6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,f=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!g6(e,r,s);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qe(o)?[o]:o};const g=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(s)}return{key:e,namespaces:qe(o)?[o]:o}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(e[e.length-1],s),g=d[d.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const _=s.lng||this.language,E=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode")return E?o?{res:`${g}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:`${g}${y}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:f;const T=this.resolve(e,s);let A=T==null?void 0:T.res;const k=(T==null?void 0:T.usedKey)||f,M=(T==null?void 0:T.exactUsedKey)||f,U=["[object Number]","[object Function]","[object RegExp]"],J=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,Y=!this.i18nFormat||this.i18nFormat.handleAsObject,re=s.count!==void 0&&!qe(s.count),X=Sd.hasDefaultValue(s),z=re?this.pluralResolver.getSuffix(_,s.count,s):"",O=s.ordinal&&re?this.pluralResolver.getSuffix(_,s.count,{ordinal:!1}):"",I=re&&!s.ordinal&&s.count===0,C=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${z}`]||s[`defaultValue${O}`]||s.defaultValue;let D=A;Y&&!A&&X&&(D=C);const j=N1(D),B=Object.prototype.toString.apply(D);if(Y&&D&&j&&U.indexOf(B)<0&&!(qe(J)&&Array.isArray(D))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,D,{...s,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(T.res=N,T.usedParams=this.getUsedParamsDetails(s),T):N}if(u){const N=Array.isArray(D),Re=N?[]:{},Fe=N?M:k;for(const W in D)if(Object.prototype.hasOwnProperty.call(D,W)){const fe=`${Fe}${u}${W}`;X&&!A?Re[W]=this.translate(fe,{...s,defaultValue:N1(C)?C[W]:void 0,joinArrays:!1,ns:d}):Re[W]=this.translate(fe,{...s,joinArrays:!1,ns:d}),Re[W]===fe&&(Re[W]=D[W])}A=Re}}else if(Y&&qe(J)&&Array.isArray(A))A=A.join(J),A&&(A=this.extendTranslation(A,e,s,r));else{let N=!1,Re=!1;!this.isValidLookup(A)&&X&&(N=!0,A=C),this.isValidLookup(A)||(Re=!0,A=f);const W=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Re?void 0:A,fe=X&&C!==A&&this.options.updateMissing;if(Re||N||fe){if(this.logger.log(fe?"updateKey":"missingKey",_,g,f,fe?C:A),u){const ie=this.resolve(f,{...s,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ne&&Ne[0])for(let ie=0;ie<Ne.length;ie++)ye.push(Ne[ie]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(s.lng||this.language):ye.push(s.lng||this.language);const L=(ie,de,ue)=>{var Be;const be=X&&ue!==A?ue:W;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,g,de,be,fe,s):(Be=this.backendConnector)!=null&&Be.saveMissing&&this.backendConnector.saveMissing(ie,g,de,be,fe,s),this.emit("missingKey",ie,g,de,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?ye.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(ue=>{L([ie],f+ue,s[`defaultValue${ue}`]||C)})}):L(ye,f,C))}A=this.extendTranslation(A,e,s,T,r),Re&&A===f&&this.options.appendNamespaceToMissingKey&&(A=`${g}${y}${f}`),(Re||N)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${f}`:f,N?A:void 0,s))}return o?(T.res=A,T.usedParams=this.getUsedParamsDetails(s),T):A}extendTranslation(e,t,r,s,o){var d,g;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const y=qe(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(y){const T=e.match(this.interpolator.nestingRegexp);_=T&&T.length}let E=r.replace&&!qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||s.usedLng,r),y){const T=e.match(this.interpolator.nestingRegexp),A=T&&T.length;_<A&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,f=qe(u)?[u]:u;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=ER.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,o,u,f;return qe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(d,t),y=g.key;s=y;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const E=t.count!==void 0&&!qe(t.count),T=E&&!t.ordinal&&t.count===0,A=t.context!==void 0&&(qe(t.context)||typeof t.context=="number")&&t.context!=="",k=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);_.forEach(M=>{var U,J;this.isValidLookup(r)||(f=M,!D1[`${k[0]}-${M}`]&&((U=this.utils)!=null&&U.hasLoadedNamespace)&&!((J=this.utils)!=null&&J.hasLoadedNamespace(f))&&(D1[`${k[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${k.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(Y=>{var z;if(this.isValidLookup(r))return;u=Y;const re=[y];if((z=this.i18nFormat)!=null&&z.addLookupKeys)this.i18nFormat.addLookupKeys(re,y,Y,M,t);else{let O;E&&(O=this.pluralResolver.getSuffix(Y,t.count,t));const I=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(re.push(y+O),t.ordinal&&O.indexOf(C)===0&&re.push(y+O.replace(C,this.options.pluralSeparator)),T&&re.push(y+I)),A){const D=`${y}${this.options.contextSeparator}${t.context}`;re.push(D),E&&(re.push(D+O),t.ordinal&&O.indexOf(C)===0&&re.push(D+O.replace(C,this.options.pluralSeparator)),T&&re.push(D+I))}}let X;for(;X=re.pop();)this.isValidLookup(r)||(o=X,r=this.getResource(Y,M,X,t))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qe(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class P1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mi.create("languageUtils")}getScriptPartFromCode(e){if(e=Ic(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ic(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(qe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),qe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):qe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const M1={zero:0,one:1,two:2,few:3,many:4,other:5},k1={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class y6{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Ic(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),k1;if(!e.match(/-|_/))return k1;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>M1[s]-M1[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const L1=(n,e,t,r=".",s=!0)=>{let o=u6(n,e,t);return!o&&s&&qe(t)&&(o=My(n,t,r),o===void 0&&(o=My(e,t,r))),o},Kp=n=>n.replace(/\$/g,"$$$$");class v6{constructor(e={}){var t;this.logger=mi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:y,unescapePrefix:_,nestingPrefix:E,nestingPrefixEscaped:T,nestingSuffix:A,nestingSuffixEscaped:k,nestingOptionsSeparator:M,maxReplaces:U,alwaysFormat:J}=e.interpolation;this.escape=t!==void 0?t:f6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?sl(o):u||"{{",this.suffix=f?sl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=E?sl(E):T||sl("$t("),this.nestingSuffix=A?sl(A):k||sl(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=U||1e3,this.alwaysFormat=J!==void 0?J:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var T;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=A=>{if(A.indexOf(this.formatSeparator)<0){const J=L1(t,d,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(J,void 0,r,{...s,...t,interpolationkey:A}):J}const k=A.split(this.formatSeparator),M=k.shift().trim(),U=k.join(this.formatSeparator).trim();return this.format(L1(t,d,M,this.options.keySeparator,this.options.ignoreJSONStructure),U,r,{...s,...t,interpolationkey:M})};this.resetRegExp();const y=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((T=s==null?void 0:s.interpolation)==null?void 0:T.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>Kp(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?Kp(this.escape(A)):Kp(A)}].forEach(A=>{for(f=0;o=A.regex.exec(e);){const k=o[1].trim();if(u=g(k),u===void 0)if(typeof y=="function"){const U=y(e,o,s);u=qe(U)?U:""}else if(s&&Object.prototype.hasOwnProperty.call(s,k))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${k} for interpolating ${e}`),u="";else!qe(u)&&!this.useRawValueToEscape&&(u=R1(u));const M=A.safeValue(u);if(e=e.replace(o[0],M),_?(A.regex.lastIndex+=u.length,A.regex.lastIndex-=o[0].length):A.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,o,u;const f=(d,g)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const _=d.split(new RegExp(`${y}[ ]*{`));let E=`{${_[1]}`;d=_[0],E=this.interpolate(E,u);const T=E.match(/'/g),A=E.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!A||A.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),g&&(u={...g,...u})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,k),`${d}${y}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];u={...r},u=u.replace&&!qe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const y=s[1].split(this.formatSeparator).map(_=>_.trim());s[1]=y.shift(),d=y,g=!0}if(o=t(f.call(this,s[1].trim(),u),u),o&&s[0]===e&&!qe(o))return o;qe(o)||(o=R1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((y,_)=>this.format(y,_,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const _6=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();t[y]||(t[y]=g),g==="false"&&(t[y]=!1),g==="true"&&(t[y]=!0),isNaN(g)||(t[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},V1=n=>{const e={};return(t,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=r+JSON.stringify(o);let f=e[u];return f||(f=n(Ic(r),s),e[u]=f),f(t)}},E6=n=>(e,t,r)=>n(Ic(t),r)(e);class b6{constructor(e={}){this.logger=mi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?V1:E6;this.formats={number:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return f=>u.format(f)}),currency:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return f=>u.format(f)}),datetime:r((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return f=>u.format(f)}),relativetime:r((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return f=>u.format(f,o.range||"day")}),list:r((s,o)=>{const u=new Intl.ListFormat(s,{...o});return f=>u.format(f)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=V1(t)}format(e,t,r,s={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var _;const{formatName:g,formatOptions:y}=_6(d);if(this.formats[g]){let E=f;try{const T=((_=s==null?void 0:s.formatParams)==null?void 0:_[s.interpolationkey])||{},A=T.locale||T.lng||s.locale||s.lng||r;E=this.formats[g](f,A,{...y,...s,...T})}catch(T){this.logger.warn(T)}return E}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const S6=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class T6 extends tm{constructor(e,t,r,s={}){var o,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,s.backend,s)}queueLoad(e,t,r,s){const o={},u={},f={},d={};return e.forEach(g=>{let y=!0;t.forEach(_=>{const E=`${g}|${_}`;!r.reload&&this.store.hasResourceBundle(g,_)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,y=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),d[_]===void 0&&(d[_]=!0)))}),y||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const s=e.split("|"),o=s[0],u=s[1];t&&this.emit("failedLoading",o,u,t),!t&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const f={};this.queue.forEach(d=>{l6(d.loaded,[o],u),S6(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const y=d.loaded[g];y.length&&y.forEach(_=>{f[g][_]===void 0&&(f[g][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,s=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:o,callback:u});return}this.readingCalls++;const f=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,o*2,u)},o);return}u(g,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const g=d(e,t);g&&typeof g.then=="function"?g.then(y=>f(null,y)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,t,f)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qe(t)&&(t=[t]);const o=this.queueLoad(e,t,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,u),!u&&f&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,f),this.loaded(e,u,f)})}saveMissing(e,t,r,s,o,u={},f=()=>{}){var d,g,y,_,E;if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((_=(y=this.services)==null?void 0:y.utils)!=null&&_.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const T={...u,isUpdate:o},A=this.backend.create.bind(this.backend);if(A.length<6)try{let k;A.length===5?k=A(e,t,r,s,T):k=A(e,t,r,s),k&&typeof k.then=="function"?k.then(M=>f(null,M)).catch(f):f(null,k)}catch(k){f(k)}else A(e,t,r,s,f,T)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const U1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),qe(n[1])&&(e.defaultValue=n[1]),qe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),j1=n=>{var e,t;return qe(n.ns)&&(n.ns=[n.ns]),qe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),qe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Ch=()=>{},w6=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class xc extends tm{constructor(e={},t){if(super(),this.options=j1(e),this.services={},this.logger=mi,this.modules={external:[]},w6(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=U1();this.options={...r,...this.options,...j1(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?mi.init(s(this.modules.logger),this.options):mi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=b6;const y=new P1(this.options);this.store=new O1(this.options.resources,this.options);const _=this.services;_.logger=mi,_.resourceStore=this.store,_.languageUtils=y,_.pluralResolver=new y6(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=s(g),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new v6(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new T6(s(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.languageDetector&&(_.languageDetector=s(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=s(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Sd(this.services,this.options),this.translator.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Ch),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const f=ec(),d=()=>{const g=(y,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(_),t(y,_)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e,t=Ch){var o,u;let r=t;const s=qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(_=>{_!=="cimode"&&f.indexOf(_)<0&&f.push(_)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>d(y)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const s=ec();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Ch),this.services.backendConnector.reload(e,t,o=>{s.resolve(),r(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ER.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=ec();this.emit("languageChanging",e);const s=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(f,(...g)=>this.t(...g))},u=f=>{var y,_;!e&&!f&&this.services.languageDetector&&(f=[]);const d=qe(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qe(f)?[f]:f);g&&(this.language||s(g),this.translator.language||this.translator.changeLanguage(g),(_=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||_.call(y,g)),this.loadResources(g,E=>{o(E,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const s=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||s.keyPrefix);const g=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(_=>`${d.keyPrefix}${g}${_}`):y=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o,this.t(y,d)};return qe(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(t.precheck){const f=t.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(o,e)))}loadNamespaces(e,t){const r=ec();return this.options.ns?(qe(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=ec();qe(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new P1(U1());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new xc(e,t)}cloneInstance(e={},t=Ch){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new xc(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((y,_)=>(y[_]={...d[g][_]},y),d[g]),d),{});o.store=new O1(f,s),o.services.resourceStore=o.store}return o.translator=new Sd(o.services,s),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Pt=xc.createInstance();Pt.createInstance=xc.createInstance;Pt.createInstance;Pt.dir;Pt.init;Pt.loadResources;Pt.reloadResources;Pt.use;Pt.changeLanguage;Pt.getFixedT;Pt.t;Pt.exists;Pt.setDefaultNamespace;Pt.hasLoadedNamespace;Pt.loadNamespaces;Pt.loadLanguages;const{slice:A6,forEach:R6}=[];function C6(n){return R6.call(A6.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function I6(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const z1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,x6=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${n}=${s}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!z1.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!z1.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},F1={create(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+t*60*1e3)),r&&(s.domain=r),document.cookie=x6(n,e,s)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var O6={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return F1.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:s,cookieOptions:o}=e;t&&typeof document<"u"&&F1.create(t,n,r,s,o)}},D6={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===e&&(t=u[f].substring(d+1))}}return t}},N6={name:"hash",lookup(n){var s;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const f=u.split("&");for(let d=0;d<f.length;d++){const g=f[d].indexOf("=");g>0&&f[d].substring(0,g)===e&&(r=f[d].substring(g+1))}}if(r)return r;if(!r&&t>-1){const f=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?(s=f[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let ol=null;const B1=()=>{if(ol!==null)return ol;try{if(ol=typeof window<"u"&&window.localStorage!==null,!ol)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{ol=!1}return ol};var P6={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&B1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&B1()&&window.localStorage.setItem(t,n)}};let ll=null;const H1=()=>{if(ll!==null)return ll;try{if(ll=typeof window<"u"&&window.sessionStorage!==null,!ll)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ll=!1}return ll};var M6={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&H1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&H1()&&window.sessionStorage.setItem(t,n)}},k6={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:s}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},L6={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},V6={name:"path",lookup(n){var s;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(s=t[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},U6={name:"subdomain",lookup(n){var s,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let bR=!1;try{document.cookie,bR=!0}catch{}const SR=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];bR||SR.splice(1,1);const j6=()=>({order:SR,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class TR{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=C6(t,this.options||{},j6()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(O6),this.addDetector(D6),this.addDetector(P6),this.addDetector(M6),this.addDetector(k6),this.addDetector(L6),this.addDetector(V6),this.addDetector(U6),this.addDetector(N6)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(r=>r!=null&&!I6(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}TR.type="languageDetector";function ky(n){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(n)}function wR(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ky(XMLHttpRequest))==="object"}function z6(n){return!!n&&typeof n.then=="function"}function F6(n){return z6(n)?n:Promise.resolve(n)}const B6="modulepreload",H6=function(n){return"/melo-chart/"+n},q1={},q6=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=u(t.map(g=>{if(g=H6(g),g in q1)return;q1[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":B6,y||(E.as="script"),E.crossOrigin="",E.href=g,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((T,A)=>{E.addEventListener("load",T),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function $1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function G1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(t),!0).forEach(function(r){$6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $6(n,e,t){return(e=G6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G6(n){var e=K6(n,"string");return oo(e)=="symbol"?e:e+""}function K6(n,e){if(oo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oo(n){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(n)}var ss=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ss=global.fetch:typeof window<"u"&&window.fetch&&(ss=window.fetch);var Oc;wR()&&(typeof global<"u"&&global.XMLHttpRequest?Oc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Oc=window.XMLHttpRequest));var Td;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Td=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Td=window.ActiveXObject));typeof ss!="function"&&(ss=void 0);if(!ss&&!Oc&&!Td)try{q6(()=>import("./browser-ponyfill-D1MCQZ2w.js").then(n=>n.b),[]).then(function(n){ss=n.default}).catch(function(){})}catch{}var Ly=function(e,t){if(t&&oo(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},K1=function(e,t,r,s){var o=function(d){if(!d.ok)return r(d.statusText||"Error",{status:d.status});d.text().then(function(g){r(null,{status:d.status,data:g})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(o).catch(r):ss(e,t).then(o).catch(r)},Y1=!1,Y6=function(e,t,r,s){e.queryStringParams&&(t=Ly(t,e.queryStringParams));var o=G1({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,f=G1({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},Y1?{}:u),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{K1(t,f,s,d)}catch(g){if(!u||Object.keys(u).length===0||!g.message||g.message.indexOf("not implemented")<0)return s(g);try{Object.keys(u).forEach(function(y){delete f[y]}),K1(t,f,s,d),Y1=!0}catch(y){s(y)}}},Q6=function(e,t,r,s){r&&oo(r)==="object"&&(r=Ly("",r).slice(1)),e.queryStringParams&&(t=Ly(t,e.queryStringParams));try{var o=Oc?new Oc:new Td("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var f in u)o.setRequestHeader(f,u[f]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(d){console&&console.log(d)}},X6=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},ss&&t.indexOf("file:")!==0)return Y6(e,t,r,s);if(wR()||typeof ActiveXObject=="function")return Q6(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function Cl(n){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(n)}function Q1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Yp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(t),!0).forEach(function(r){AR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function W6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,RR(r.key),r)}}function J6(n,e,t){return e&&Z6(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function AR(n,e,t){return(e=RR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RR(n){var e=e3(n,"string");return Cl(e)=="symbol"?e:e+""}function e3(n,e){if(Cl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var t3=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return AR({},r,s||"")},parseLoadPayload:function(t,r){},request:X6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},CR=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};W6(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return J6(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Yp(Yp(Yp({},t3()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);Cl(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,o,u){var f=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(t,s)),d=F6(d),d.then(function(g){if(!g)return u(null,{});var y=f.services.interpolator.interpolate(g,{lng:t.join("+"),ns:s.join("+")});f.loadUrl(y,u,r,o)})}},{key:"loadUrl",value:function(t,r,s,o){var u=this,f=typeof s=="string"?[s]:s,d=typeof o=="string"?[o]:o,g=this.options.parseLoadPayload(f,d);this.options.request(this.options,t,g,function(y,_){if(_&&(_.status>=500&&_.status<600||!_.status))return r("failed loading "+t+"; status code: "+_.status,!0);if(_&&_.status>=400&&_.status<500)return r("failed loading "+t+"; status code: "+_.status,!1);if(!_&&y&&y.message){var E=y.message.toLowerCase(),T=["failed","fetch","network","load"].find(function(M){return E.indexOf(M)>-1});if(T)return r("failed loading "+t+": "+y.message,!0)}if(y)return r(y,!1);var A,k;try{typeof _.data=="string"?A=u.options.parse(_.data,s,o):A=_.data}catch{k="failed parsing "+t+" to json"}if(k)return r(k,!1);r(null,A)})}},{key:"create",value:function(t,r,s,o,u){var f=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var d=this.options.parsePayload(r,s,o),g=0,y=[],_=[];t.forEach(function(E){var T=f.options.addPath;typeof f.options.addPath=="function"&&(T=f.options.addPath(E,r));var A=f.services.interpolator.interpolate(T,{lng:E,ns:r});f.options.request(f.options,A,d,function(k,M){g+=1,y.push(k),_.push(M),g===t.length&&typeof u=="function"&&u(y,_)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,o=r.languageUtils,u=r.logger,f=s.language;if(!(f&&f.toLowerCase()==="cimode")){var d=[],g=function(_){var E=o.toResolveHierarchy(_);E.forEach(function(T){d.indexOf(T)<0&&d.push(T)})};g(f),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return g(y)}),d.forEach(function(y){t.allOptions.ns.forEach(function(_){s.read(y,_,"read",null,null,function(E,T){E&&u.warn("loading namespace ".concat(_," for language ").concat(y," failed"),E),!E&&T&&u.log("loaded namespace ".concat(_," for language ").concat(y),T),s.loaded("".concat(y,"|").concat(_),E,T)})})})}}}])}();CR.type="backend";Pt.use(CR).use(TR).use(TL).init({lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1},backend:{loadPath:"/melo-chart/locales/{{lng}}/{{ns}}.json"}});var n3="firebase",r3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(n3,r3,"app");const i3={apiKey:"AIzaSyCrUUG-1lrbf5iZXLtswHQTa9H-7wb8bho",authDomain:"melo-chart.firebaseapp.com",projectId:"melo-chart",storageBucket:"melo-chart.firebasestorage.app",messagingSenderId:"218674893122",appId:"1:218674893122:web:5669423f50d704d8ad38db"},IR=$w(i3),nm=nM(IR),a3=async(n,e)=>{const{user:t}=await FN(nm,n,e);return t},s3=async()=>{await $N(nm)},xR=async(n,e)=>{const{user:t}=await zN(nm,n,e);return t},o3=Object.freeze(Object.defineProperty({__proto__:null,auth:nm,signIn:a3,signOut:s3,signUp:xR},Symbol.toStringTag,{value:"Module"}));var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,OR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function C(){}C.prototype=I.prototype,O.D=I.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(D,j,B){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return I.prototype[j].apply(D,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,I,C){C||(C=0);var D=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)D[j]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(j=0;16>j;++j)D[j]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=O.g[0],C=O.g[1],j=O.g[2];var B=O.g[3],N=I+(B^C&(j^B))+D[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=B+(j^I&(C^j))+D[1]+3905402710&4294967295,B=I+(N<<12&4294967295|N>>>20),N=j+(C^B&(I^C))+D[2]+606105819&4294967295,j=B+(N<<17&4294967295|N>>>15),N=C+(I^j&(B^I))+D[3]+3250441966&4294967295,C=j+(N<<22&4294967295|N>>>10),N=I+(B^C&(j^B))+D[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(j^I&(C^j))+D[5]+1200080426&4294967295,B=I+(N<<12&4294967295|N>>>20),N=j+(C^B&(I^C))+D[6]+2821735955&4294967295,j=B+(N<<17&4294967295|N>>>15),N=C+(I^j&(B^I))+D[7]+4249261313&4294967295,C=j+(N<<22&4294967295|N>>>10),N=I+(B^C&(j^B))+D[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(j^I&(C^j))+D[9]+2336552879&4294967295,B=I+(N<<12&4294967295|N>>>20),N=j+(C^B&(I^C))+D[10]+4294925233&4294967295,j=B+(N<<17&4294967295|N>>>15),N=C+(I^j&(B^I))+D[11]+2304563134&4294967295,C=j+(N<<22&4294967295|N>>>10),N=I+(B^C&(j^B))+D[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(j^I&(C^j))+D[13]+4254626195&4294967295,B=I+(N<<12&4294967295|N>>>20),N=j+(C^B&(I^C))+D[14]+2792965006&4294967295,j=B+(N<<17&4294967295|N>>>15),N=C+(I^j&(B^I))+D[15]+1236535329&4294967295,C=j+(N<<22&4294967295|N>>>10),N=I+(j^B&(C^j))+D[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^j&(I^C))+D[6]+3225465664&4294967295,B=I+(N<<9&4294967295|N>>>23),N=j+(I^C&(B^I))+D[11]+643717713&4294967295,j=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(j^B))+D[0]+3921069994&4294967295,C=j+(N<<20&4294967295|N>>>12),N=I+(j^B&(C^j))+D[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^j&(I^C))+D[10]+38016083&4294967295,B=I+(N<<9&4294967295|N>>>23),N=j+(I^C&(B^I))+D[15]+3634488961&4294967295,j=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(j^B))+D[4]+3889429448&4294967295,C=j+(N<<20&4294967295|N>>>12),N=I+(j^B&(C^j))+D[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^j&(I^C))+D[14]+3275163606&4294967295,B=I+(N<<9&4294967295|N>>>23),N=j+(I^C&(B^I))+D[3]+4107603335&4294967295,j=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(j^B))+D[8]+1163531501&4294967295,C=j+(N<<20&4294967295|N>>>12),N=I+(j^B&(C^j))+D[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^j&(I^C))+D[2]+4243563512&4294967295,B=I+(N<<9&4294967295|N>>>23),N=j+(I^C&(B^I))+D[7]+1735328473&4294967295,j=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(j^B))+D[12]+2368359562&4294967295,C=j+(N<<20&4294967295|N>>>12),N=I+(C^j^B)+D[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^j)+D[8]+2272392833&4294967295,B=I+(N<<11&4294967295|N>>>21),N=j+(B^I^C)+D[11]+1839030562&4294967295,j=B+(N<<16&4294967295|N>>>16),N=C+(j^B^I)+D[14]+4259657740&4294967295,C=j+(N<<23&4294967295|N>>>9),N=I+(C^j^B)+D[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^j)+D[4]+1272893353&4294967295,B=I+(N<<11&4294967295|N>>>21),N=j+(B^I^C)+D[7]+4139469664&4294967295,j=B+(N<<16&4294967295|N>>>16),N=C+(j^B^I)+D[10]+3200236656&4294967295,C=j+(N<<23&4294967295|N>>>9),N=I+(C^j^B)+D[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^j)+D[0]+3936430074&4294967295,B=I+(N<<11&4294967295|N>>>21),N=j+(B^I^C)+D[3]+3572445317&4294967295,j=B+(N<<16&4294967295|N>>>16),N=C+(j^B^I)+D[6]+76029189&4294967295,C=j+(N<<23&4294967295|N>>>9),N=I+(C^j^B)+D[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^j)+D[12]+3873151461&4294967295,B=I+(N<<11&4294967295|N>>>21),N=j+(B^I^C)+D[15]+530742520&4294967295,j=B+(N<<16&4294967295|N>>>16),N=C+(j^B^I)+D[2]+3299628645&4294967295,C=j+(N<<23&4294967295|N>>>9),N=I+(j^(C|~B))+D[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~j))+D[7]+1126891415&4294967295,B=I+(N<<10&4294967295|N>>>22),N=j+(I^(B|~C))+D[14]+2878612391&4294967295,j=B+(N<<15&4294967295|N>>>17),N=C+(B^(j|~I))+D[5]+4237533241&4294967295,C=j+(N<<21&4294967295|N>>>11),N=I+(j^(C|~B))+D[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~j))+D[3]+2399980690&4294967295,B=I+(N<<10&4294967295|N>>>22),N=j+(I^(B|~C))+D[10]+4293915773&4294967295,j=B+(N<<15&4294967295|N>>>17),N=C+(B^(j|~I))+D[1]+2240044497&4294967295,C=j+(N<<21&4294967295|N>>>11),N=I+(j^(C|~B))+D[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~j))+D[15]+4264355552&4294967295,B=I+(N<<10&4294967295|N>>>22),N=j+(I^(B|~C))+D[6]+2734768916&4294967295,j=B+(N<<15&4294967295|N>>>17),N=C+(B^(j|~I))+D[13]+1309151649&4294967295,C=j+(N<<21&4294967295|N>>>11),N=I+(j^(C|~B))+D[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~j))+D[11]+3174756917&4294967295,B=I+(N<<10&4294967295|N>>>22),N=j+(I^(B|~C))+D[2]+718787259&4294967295,j=B+(N<<15&4294967295|N>>>17),N=C+(B^(j|~I))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var C=I-this.blockSize,D=this.B,j=this.h,B=0;B<I;){if(j==0)for(;B<=C;)s(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<I;)if(D[j++]=O.charCodeAt(B++),j==this.blockSize){s(this,D),j=0;break}}else for(;B<I;)if(D[j++]=O[B++],j==this.blockSize){s(this,D),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var C=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=C&255,C/=256;for(this.u(O),O=Array(16),I=C=0;4>I;++I)for(var D=0;32>D;D+=8)O[C++]=this.g[I]>>>D&255;return O};function o(O,I){var C=f;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=I(O)}function u(O,I){this.h=I;for(var C=[],D=!0,j=O.length-1;0<=j;j--){var B=O[j]|0;D&&B==I||(C[j]=B,D=!1)}this.g=C}var f={};function d(O){return-128<=O&&128>O?o(O,function(I){return new u([I|0],0>I?-1:0)}):new u([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return M(g(-O));for(var I=[],C=1,D=0;O>=C;D++)I[D]=O/C|0,C*=4294967296;return new u(I,0)}function y(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return M(y(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),D=_,j=0;j<O.length;j+=8){var B=Math.min(8,O.length-j),N=parseInt(O.substring(j,j+B),I);8>B?(B=g(Math.pow(I,B)),D=D.j(B).add(g(N))):(D=D.j(C),D=D.add(g(N)))}return D}var _=d(0),E=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(k(this))return-M(this).m();for(var O=0,I=1,C=0;C<this.g.length;C++){var D=this.i(C);O+=(0<=D?D:4294967296+D)*I,I*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(k(this))return"-"+M(this).toString(O);for(var I=g(Math.pow(O,6)),C=this,D="";;){var j=re(C,I).g;C=U(C,j.j(I));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=j,A(C))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=U(this,O),k(O)?-1:A(O)?0:1};function M(O){for(var I=O.g.length,C=[],D=0;D<I;D++)C[D]=~O.g[D];return new u(C,~O.h).add(E)}n.abs=function(){return k(this)?M(this):this},n.add=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0,j=0;j<=I;j++){var B=D+(this.i(j)&65535)+(O.i(j)&65535),N=(B>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);D=N>>>16,B&=65535,N&=65535,C[j]=N<<16|B}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(O,I){return O.add(M(I))}n.j=function(O){if(A(this)||A(O))return _;if(k(this))return k(O)?M(this).j(M(O)):M(M(this).j(O));if(k(O))return M(this.j(M(O)));if(0>this.l(T)&&0>O.l(T))return g(this.m()*O.m());for(var I=this.g.length+O.g.length,C=[],D=0;D<2*I;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<O.g.length;j++){var B=this.i(D)>>>16,N=this.i(D)&65535,Re=O.i(j)>>>16,Fe=O.i(j)&65535;C[2*D+2*j]+=N*Fe,J(C,2*D+2*j),C[2*D+2*j+1]+=B*Fe,J(C,2*D+2*j+1),C[2*D+2*j+1]+=N*Re,J(C,2*D+2*j+1),C[2*D+2*j+2]+=B*Re,J(C,2*D+2*j+2)}for(D=0;D<I;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=I;D<2*I;D++)C[D]=0;return new u(C,0)};function J(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function Y(O,I){this.g=O,this.h=I}function re(O,I){if(A(I))throw Error("division by zero");if(A(O))return new Y(_,_);if(k(O))return I=re(M(O),I),new Y(M(I.g),M(I.h));if(k(I))return I=re(O,M(I)),new Y(M(I.g),I.h);if(30<O.g.length){if(k(O)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=I;0>=D.l(O);)C=X(C),D=X(D);var j=z(C,1),B=z(D,1);for(D=z(D,2),C=z(C,2);!A(D);){var N=B.add(D);0>=N.l(O)&&(j=j.add(C),B=N),D=z(D,1),C=z(C,1)}return I=U(O,j.j(I)),new Y(j,I)}for(j=_;0<=O.l(I);){for(C=Math.max(1,Math.floor(O.m()/I.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(C),N=B.j(I);k(N)||0<N.l(O);)C-=D,B=g(C),N=B.j(I);A(B)&&(B=E),j=j.add(B),O=U(O,N)}return new Y(j,O)}n.A=function(O){return re(this,O).h},n.and=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)&O.i(D);return new u(C,this.h&O.h)},n.or=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)|O.i(D);return new u(C,this.h|O.h)},n.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],D=0;D<I;D++)C[D]=this.i(D)^O.i(D);return new u(C,this.h^O.h)};function X(O){for(var I=O.g.length+1,C=[],D=0;D<I;D++)C[D]=O.i(D)<<1|O.i(D-1)>>>31;return new u(C,O.h)}function z(O,I){var C=I>>5;I%=32;for(var D=O.g.length-C,j=[],B=0;B<D;B++)j[B]=0<I?O.i(B+C)>>>I|O.i(B+C+1)<<32-I:O.i(B+C);return new u(j,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,ts=u}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DR,sc,NR,Bh,Vy,PR,MR,kR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function s(h,v){if(v)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in b))break e;b=b[G]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var b=0,R=!1,G={next:function(){if(!R&&b<h.length){var ne=b++;return{value:v(ne,h[ne]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(h){return h||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function T(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function A(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,G,ne){for(var pe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)pe[ot-2]=arguments[ot];return v.prototype[G].apply(R,pe)}}function k(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function M(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(d(R)){const G=h.length||0,ne=R.length||0;h.length=G+ne;for(let pe=0;pe<ne;pe++)h[G+pe]=R[pe]}else h.push(R)}}class U{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function J(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var X=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function z(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function O(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function I(h){const v={};for(const b in h)v[b]=h[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)h[b]=R[b];for(let ne=0;ne<C.length;ne++)b=C[ne],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function j(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function B(h){f.setTimeout(()=>{throw h},0)}function N(){var h=Ne;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Re{constructor(){this.h=this.g=null}add(v,b){const R=Fe.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Fe=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,Ne=new Re,L=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(ie)}};var ie=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(b){B(b)}var v=Fe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function Be(h,v){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{re(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Be.aa.h.call(this)}}A(Be,ue);var Oe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function hr(h,v,b,R,G){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=G,this.key=++bt,this.da=this.fa=!1}function Ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function wn(h){this.src=h,this.g={},this.h=0}wn.prototype.add=function(h,v,b,R,G){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var pe=Ai(h,v,R,G);return-1<pe?(v=h[pe],b||(v.fa=!1)):(v=new hr(v,this.src,ne,!!R,G),v.fa=b,h.push(v)),v};function Gr(h,v){var b=v.type;if(b in h.g){var R=h.g[b],G=Array.prototype.indexOf.call(R,v,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(R,G,1),ne&&(Ot(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ai(h,v,b,R){for(var G=0;G<h.length;++G){var ne=h[G];if(!ne.da&&ne.listener==v&&ne.capture==!!b&&ne.ha==R)return G}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),_s={};function Eo(h,v,b,R,G){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Eo(h,v[ne],b,R,G);return null}return b=ga(b),h&&h[Bt]?h.K(v,b,g(R)?!!R.capture:!1,G):kn(h,v,b,!1,R,G)}function kn(h,v,b,R,G,ne){if(!v)throw Error("Invalid event type");var pe=g(G)?!!G.capture:!!G,ot=dr(h);if(ot||(h[Mn]=ot=new wn(h)),b=ot.add(v,b,R,pe,ne),b.proxy)return b;if(R=Xl(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)be||(G=pe),G===void 0&&(G=!1),h.addEventListener(v.toString(),R,G);else if(h.attachEvent)h.attachEvent(Ri(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xl(){function h(b){return v.call(h.src,h.listener,b)}const v=Pr;return h}function Es(h,v,b,R,G){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Es(h,v[ne],b,R,G);else R=g(R)?!!R.capture:!!R,b=ga(b),h&&h[Bt]?(h=h.i,v=String(v).toString(),v in h.g&&(ne=h.g[v],b=Ai(ne,b,R,G),-1<b&&(Ot(ne[b]),Array.prototype.splice.call(ne,b,1),ne.length==0&&(delete h.g[v],h.h--)))):h&&(h=dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ai(v,b,R,G)),(b=-1<h?v[h]:null)&&da(b))}function da(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Bt])Gr(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ri(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=dr(v))?(Gr(b,h),b.h==0&&(b.src=null,v[Mn]=null)):Ot(h)}}}function Ri(h){return h in _s?_s[h]:_s[h]="on"+h}function Pr(h,v){if(h.da)h=!0;else{v=new Be(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&da(h),h=b.call(R,v)}return h}function dr(h){return h=h[Mn],h instanceof wn?h:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function ga(h){return typeof h=="function"?h:(h[ma]||(h[ma]=function(v){return h.handleEvent(v)}),h[ma])}function mt(){de.call(this),this.i=new wn(this),this.M=this,this.F=null}A(mt,de),mt.prototype[Bt]=!0,mt.prototype.removeEventListener=function(h,v,b,R){Es(this,h,v,b,R)};function Ye(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new ue(v,h);else if(v instanceof ue)v.target=v.target||h;else{var G=v;v=new ue(R,h),D(v,G)}if(G=!0,b)for(var ne=b.length-1;0<=ne;ne--){var pe=v.g=b[ne];G=An(pe,R,!0,v)&&G}if(pe=v.g=h,G=An(pe,R,!0,v)&&G,G=An(pe,R,!1,v)&&G,b)for(ne=0;ne<b.length;ne++)pe=v.g=b[ne],G=An(pe,R,!1,v)&&G}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Ot(b[R]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},mt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function An(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,ne=0;ne<v.length;++ne){var pe=v[ne];if(pe&&!pe.da&&pe.capture==b){var ot=pe.listener,Xt=pe.ha||pe.src;pe.fa&&Gr(h.i,pe),G=ot.call(Xt,R)!==!1&&G}}return G&&!R.defaultPrevented}function Ht(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function bo(h){h.g=Ht(()=>{h.g=null,h.i&&(h.i=!1,bo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class mr extends de{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(h){de.call(this),this.h=h,this.g={}}A(Kr,de);var Yr=[];function Qr(h){z(h.g,function(v,b){this.g.hasOwnProperty(b)&&da(v)},h),h.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Qr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=f.JSON.stringify,Ci=f.JSON.parse,gr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function pa(){}pa.prototype.h=null;function Ii(h){return h.h||(h.h=h.i())}function bs(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){ue.call(this,"d")}A(Mr,ue);function ya(){ue.call(this,"c")}A(ya,ue);var Ln={},Xr=null;function Wr(){return Xr=Xr||new mt}Ln.La="serverreachability";function va(h){ue.call(this,Ln.La,h)}A(va,ue);function V(h){const v=Wr();Ye(v,new va(v))}Ln.STAT_EVENT="statevent";function $(h,v){ue.call(this,Ln.STAT_EVENT,h),this.stat=v}A($,ue);function Q(h){const v=Wr();Ye(v,new $(v,h))}Ln.Ma="timingevent";function oe(h,v){ue.call(this,Ln.Ma,h),this.size=v}A(oe,ue);function me(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function ve(){this.g=!0}ve.prototype.xa=function(){this.g=!1};function De(h,v,b,R,G,ne){h.info(function(){if(h.g)if(ne)for(var pe="",ot=ne.split("&"),Xt=0;Xt<ot.length;Xt++){var lt=ot[Xt].split("=");if(1<lt.length){var on=lt[0];lt=lt[1];var Wt=on.split("_");pe=2<=Wt.length&&Wt[1]=="type"?pe+(on+"="+lt+"&"):pe+(on+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+b+`
`+pe})}function Ee(h,v,b,R,G,ne,pe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+b+`
`+ne+" "+pe})}function Te(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Me(h,b)+(R?" "+R:"")})}function Ce(h,v){h.info(function(){return"TIMEOUT: "+v})}ve.prototype.info=function(){};function Me(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<G.length;pe++)G[pe]=""}}}}return Qn(b)}catch{return v}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function pt(){}A(pt,pa),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},et=new pt;function ht(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}var We={},yr={};function Qt(h,v,b){h.L=1,h.v=ws(Zn(v)),h.m=b,h.P=!0,Vn(h,null)}function Vn(h,v){h.F=Date.now(),Xn(h),h.A=Zn(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),tu(b.i,"t",R),h.C=0,b=h.j.J,h.h=new st,h.g=vf(h.j,b?v:null,!h.m),0<h.O&&(h.M=new mr(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Yr[0]=G.toString()),G=Yr);for(var ne=0;ne<G.length;ne++){var pe=Eo(b,G[ne],R||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),V(),De(h.i,h.u,h.A,h.l,h.R,h.m)}ht.prototype.ca=function(h){h=h.target;const v=this.M;v&&Sr(h)==3?v.j():this.Y(h)},ht.prototype.Y=function(h){try{if(h==this.g)e:{const Wt=Sr(this.g);var v=this.g.Ba();const Li=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||cf(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=Li?V(3):V(2)),Rn(this);var b=this.g.Z();this.X=b;t:if(hn(this)){var R=cf(this.g);h="";var G=R.length,ne=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Un(this);var pe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(ne&&v==G-1)});R.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=b==200,Ee(this.i,this.u,this.A,this.l,this.R,Wt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Xt=this.g;if((ot=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(ot)){var lt=ot;break t}}lt=null}if(b=lt)Te(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qt(this,b);else{this.o=!1,this.s=3,Q(12),He(this),Un(this);break e}}if(this.P){b=!0;let mn;for(;!this.J&&this.C<pe.length;)if(mn=Zr(this,pe),mn==yr){Wt==4&&(this.s=4,Q(14),b=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==We){this.s=4,Q(15),Te(this.i,this.l,pe,"[Invalid Chunk]"),b=!1;break}else Te(this.i,this.l,mn,null),qt(this,mn);if(hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||pe.length!=0||this.h.h||(this.s=1,Q(16),b=!1),this.o=this.o&&b,!b)Te(this.i,this.l,pe,"[Invalid Chunked Response]"),He(this),Un(this);else if(0<pe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ns(on),on.M=!0,Q(11))}}else Te(this.i,this.l,pe,null),qt(this,pe);Wt==4&&He(this),this.o&&!this.J&&(Wt==4?gf(this.j,this):(this.o=!1,Xn(this)))}else Im(this.g),b==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),He(this),Un(this)}}}catch{}finally{}};function hn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Zr(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?yr:(b=Number(v.substring(b,R)),isNaN(b)?We:(R+=1,R+b>v.length?yr:(v=v.slice(R,R+b),h.C=R+b,v)))}ht.prototype.cancel=function(){this.J=!0,He(this)};function Xn(h){h.S=Date.now()+h.I,_a(h,h.I)}function _a(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=me(E(h.ba,h),v)}function Rn(h){h.B&&(f.clearTimeout(h.B),h.B=null)}ht.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(V(),Q(17)),He(this),this.s=2,Un(this)):_a(this,this.S-h)};function Un(h){h.j.G==0||h.J||gf(h.j,h)}function He(h){Rn(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Qr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function qt(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||vr(b.h,h))){if(!h.K&&vr(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Oo(b),Io(b);else break e;su(b),Q(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=me(E(b.Za,b),6e3));if(1>=Rt(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ki(b,11)}else if((h.K||b.g==h)&&Oo(b),!J(v))for(G=b.Da.g.parse(v),v=0;v<G.length;v++){let lt=G[v];if(b.T=lt[0],lt=lt[1],b.G==2)if(lt[0]=="c"){b.K=lt[1],b.ia=lt[2];const on=lt[3];on!=null&&(b.la=on,b.j.info("VER="+b.la));const Wt=lt[4];Wt!=null&&(b.Aa=Wt,b.j.info("SVER="+b.Aa));const Li=lt[5];Li!=null&&typeof Li=="number"&&0<Li&&(R=1.5*Li,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const mn=h.g;if(mn){const si=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var ne=R.h;ne.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(xi(ne,ne.h),ne.h=null))}if(R.D){const lu=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;lu&&(R.ya=lu,St(R.I,R.D,lu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var pe=h;if(R.qa=yf(R,R.J?R.ia:null,R.W),pe.K){dn(R.h,pe);var ot=pe,Xt=R.L;Xt&&(ot.I=Xt),ot.B&&(Rn(ot),Xn(ot)),R.g=pe}else df(R);0<b.i.length&&xo(b)}else lt[0]!="stop"&&lt[0]!="close"||ki(b,7);else b.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ki(b,7):iu(b):lt[0]!="noop"&&b.l&&b.l.ta(lt),b.v=0)}}V(4)}catch{}}var Wn=class{constructor(h,v){this.g=h,this.map=v}};function Fn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Rt(h){return h.h?1:h.g?h.g.size:0}function vr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function xi(h,v){h.g?h.g.add(v):h.h=v}function dn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Fn.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return k(h.i)}function wm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function So(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function Zl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=So(h),R=wm(h),G=R.length,ne=0;ne<G;ne++)v.call(void 0,R[ne],b&&b[ne],h)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Am(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),G=null;if(0<=R){var ne=h[b].substring(0,R);G=h[b].substring(R+1)}else ne=h[b];v(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,Ts(this,h.j),this.o=h.o,this.g=h.g,Ea(this,h.s),this.l=h.l;var v=h.i,b=new Di;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Oi(this,b),this.m=h.m}else h&&(v=String(h).match(Ss))?(this.h=!1,Ts(this,v[1]||"",!0),this.o=_r(v[2]||""),this.g=_r(v[3]||"",!0),Ea(this,v[4]),this.l=_r(v[5]||"",!0),Oi(this,v[6]||"",!0),this.m=_r(v[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}$t.prototype.toString=function(){var h=[],v=this.j;v&&h.push(As(v,Jl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(As(v,Jl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(As(b,b.charAt(0)=="/"?Rm:eu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",As(b,To)),h.join("")};function Zn(h){return new $t(h)}function Ts(h,v,b){h.j=b?_r(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ea(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Oi(h,v,b){v instanceof Di?(h.i=v,lf(h.i,h.h)):(b||(v=As(v,Cm)),h.i=new Di(v,h.h))}function St(h,v,b){h.i.set(v,b)}function ws(h){return St(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function _r(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function As(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,of),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function of(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Jl=/[#\/\?@]/g,eu=/[#\?:]/g,Rm=/[#\?]/g,Cm=/[#\?@]/g,To=/#/g;function Di(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Er(h){h.g||(h.g=new Map,h.h=0,h.i&&Am(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Di.prototype,n.add=function(h,v){Er(this),this.i=null,h=ei(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Ni(h,v){Er(h),v=ei(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Pi(h,v){return Er(h),v=ei(h,v),h.g.has(v)}n.forEach=function(h,v){Er(this),this.g.forEach(function(b,R){b.forEach(function(G){h.call(v,G,R,this)},this)},this)},n.na=function(){Er(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const G=h[R];for(let ne=0;ne<G.length;ne++)b.push(v[R])}return b},n.V=function(h){Er(this);let v=[];if(typeof h=="string")Pi(this,h)&&(v=v.concat(this.g.get(ei(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return Er(this),this.i=null,h=ei(this,h),Pi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function tu(h,v,b){Ni(h,v),0<b.length&&(h.i=null,h.g.set(ei(h,v),k(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const ne=encodeURIComponent(String(R)),pe=this.V(R);for(R=0;R<pe.length;R++){var G=ne;pe[R]!==""&&(G+="="+encodeURIComponent(String(pe[R]))),h.push(G)}}return this.i=h.join("&")};function ei(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function lf(h,v){v&&!h.j&&(Er(h),h.i=null,h.g.forEach(function(b,R){var G=R.toLowerCase();R!=G&&(Ni(this,R),tu(this,G,b))},h)),h.j=v}function Rs(h,v){const b=new ve;if(f.Image){const R=new Image;R.onload=T(br,b,"TestLoadImage: loaded",!0,v,R),R.onerror=T(br,b,"TestLoadImage: error",!1,v,R),R.onabort=T(br,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(br,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function kr(h,v){const b=new ve,R=new AbortController,G=setTimeout(()=>{R.abort(),br(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(ne=>{clearTimeout(G),ne.ok?br(b,"TestPingServer: ok",!0,v):br(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),br(b,"TestPingServer: error",!1,v)})}function br(h,v,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function Cs(){this.g=new gr}function ti(h,v,b){const R=b||"";try{Zl(h,function(G,ne){let pe=G;g(G)&&(pe=Qn(G)),v.push(R+ne+"="+encodeURIComponent(pe))})}catch(G){throw v.push(R+"type="+encodeURIComponent("_badmap")),G}}function ba(h){this.l=h.Ub||null,this.j=h.eb||!1}A(ba,pa),ba.prototype.g=function(){return new Mi(this.l,this.j)},ba.prototype.i=function(h){return function(){return h}}({});function Mi(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Mi,mt),n=Mi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ri(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ni(this):ri(this),this.readyState==3&&nu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ni(this))},n.Qa=function(h){this.g&&(this.response=h,ni(this))},n.ga=function(){this.g&&ni(this)};function ni(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ri(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ru(h){let v="";return z(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function sn(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ru(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):St(h,v,b))}function yt(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(yt,mt);var wo=/^https?$/i,Is=["POST","PUT"];n=yt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Ii(this.o):Ii(et),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){uf(this,ne);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ne of R.keys())b.set(ne,R.get(ne));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Is,v,void 0))||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of b)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){uf(this,ne)}};function uf(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ao(h),ii(h)}function Ao(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ye(this,"complete"),Ye(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},n.bb=function(){Ro(this)};function Ro(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Sr(h)!=4||h.Z()!=2)){if(h.u&&Sr(h)==4)Ht(h.Ea,0,h);else if(Ye(h,"readystatechange"),Sr(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=pe===0){var G=String(h.D).match(Ss)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),R=!wo.test(G?G.toLowerCase():"")}b=R}if(b)Ye(h,"complete"),Ye(h,"success");else{h.m=6;try{var ne=2<Sr(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Ao(h)}}finally{ii(h)}}}}function ii(h,v){if(h.g){xs(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ye(h,"ready");try{b.onreadystatechange=R}catch{}}}function xs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Sr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ci(v)}};function cf(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Im(h){const v={};h=(h.g&&2<=Sr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(J(h[R]))continue;var b=j(h[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=v[G]||[];v[G]=ne,ne.push(b)}O(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Co(h){this.Aa=0,this.i=[],this.j=new ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,h),this.cb=Os("retryDelaySeedMs",1e4,h),this.Wa=Os("forwardChannelMaxRetries",2,h),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Fn(h&&h.concurrentRequestLimit),this.Da=new Cs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Co.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,R){Q(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=yf(this,null,this.W),xo(this)};function iu(h){if(ff(h),h.G==3){var v=h.U++,b=Zn(h.I);if(St(b,"SID",h.K),St(b,"RID",v),St(b,"TYPE","terminate"),Ds(h,b),v=new ht(h,h.j,v),v.L=2,v.v=ws(Zn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=vf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xn(v)}pf(h)}function Io(h){h.g&&(Ns(h),h.g.cancel(),h.g=null)}function ff(h){Io(h),h.u&&(f.clearTimeout(h.u),h.u=null),Oo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function xo(h){if(!Jr(h.h)&&!h.s){h.s=!0;var v=h.Ga;fe||L(),ye||(fe(),ye=!0),Ne.add(v,h),h.B=0}}function xm(h,v){return Rt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=me(E(h.Ga,h,v),ou(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new ht(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=I(ne),D(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=hf(this,G,v),b=Zn(this.I),St(b,"RID",h),St(b,"CVER",22),this.D&&St(b,"X-HTTP-Session-Id",this.D),Ds(this,b),ne&&(this.O?v="headers="+encodeURIComponent(String(ru(ne)))+"&"+v:this.m&&sn(b,this.m,ne)),xi(this.h,G),this.Ua&&St(b,"TYPE","init"),this.P?(St(b,"$req",v),St(b,"SID","null"),G.T=!0,Qt(G,b,null)):Qt(G,b,v),this.G=2}}else this.G==3&&(h?au(this,h):this.i.length==0||Jr(this.h)||au(this))};function au(h,v){var b;v?b=v.l:b=h.U++;const R=Zn(h.I);St(R,"SID",h.K),St(R,"RID",b),St(R,"AID",h.T),Ds(h,R),h.m&&h.o&&sn(R,h.m,h.o),b=new ht(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=hf(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xi(h.h,b),Qt(b,R,v)}function Ds(h,v){h.H&&z(h.H,function(b,R){St(v,R,b)}),h.l&&Zl({},function(b,R){St(v,R,b)})}function hf(h,v,b){b=Math.min(h.i.length,b);var R=h.l?E(h.l.Na,h.l,h):null;e:{var G=h.i;let ne=-1;for(;;){const pe=["count="+b];ne==-1?0<b?(ne=G[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let ot=!0;for(let Xt=0;Xt<b;Xt++){let lt=G[Xt].g;const on=G[Xt].map;if(lt-=ne,0>lt)ne=Math.max(0,G[Xt].g-100),ot=!1;else try{ti(on,pe,"req"+lt+"_")}catch{R&&R(on)}}if(ot){R=pe.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function df(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;fe||L(),ye||(fe(),ye=!0),Ne.add(v,h),h.v=0}}function su(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=me(E(h.Fa,h),ou(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,mf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=me(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),Io(this),mf(this))};function Ns(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function mf(h){h.g=new ht(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Zn(h.qa);St(v,"RID","rpc"),St(v,"SID",h.K),St(v,"AID",h.T),St(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&St(v,"TO",h.ja),St(v,"TYPE","xmlhttp"),Ds(h,v),h.m&&h.o&&sn(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=ws(Zn(v)),b.m=null,b.P=!0,Vn(b,h)}n.Za=function(){this.C!=null&&(this.C=null,Io(this),su(this),Q(19))};function Oo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function gf(h,v){var b=null;if(h.g==v){Oo(h),Ns(h),h.g=null;var R=2}else if(vr(h.h,v))b=v.D,dn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;R=Wr(),Ye(R,new oe(R,b)),xo(h)}else df(h);else if(G=v.s,G==3||G==0&&0<v.X||!(R==1&&xm(h,v)||R==2&&su(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),G){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function ou(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function ki(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),R=h.Xa;const G=!R;R=new $t(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ts(R,"https"),ws(R),G?Rs(R.toString(),b):kr(R.toString(),b)}else Q(2);h.G=0,h.l&&h.l.sa(v),pf(h),ff(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function pf(h){if(h.G=0,h.ka=[],h.l){const v=Wl(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ka,v),M(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function yf(h,v,b){var R=b instanceof $t?Zn(b):new $t(b);if(R.g!="")v&&(R.g=v+"."+R.g),Ea(R,R.s);else{var G=f.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var ne=new $t(null);R&&Ts(ne,R),v&&(ne.g=v),G&&Ea(ne,G),b&&(ne.l=b),R=ne}return b=h.D,v=h.ya,b&&v&&St(R,b,v),St(R,"VER",h.la),Ds(h,R),R}function vf(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new ba({eb:b})):new yt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _f(){}n=_f.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Do(){}Do.prototype.g=function(h,v){return new jn(h,v)};function jn(h,v){mt.call(this),this.g=new Co(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!J(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!J(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ai(this)}A(jn,mt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){iu(this.g)},jn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Qn(h),h=b);v.i.push(new Wn(v.Ya++,h)),v.G==3&&xo(v)},jn.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,jn.aa.N.call(this)};function Ef(h){Mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(Ef,Mr);function bf(){ya.call(this),this.status=1}A(bf,ya);function ai(h){this.g=h}A(ai,_f),ai.prototype.ua=function(){Ye(this.g,"a")},ai.prototype.ta=function(h){Ye(this.g,new Ef(h))},ai.prototype.sa=function(h){Ye(this.g,new bf)},ai.prototype.ra=function(){Ye(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,kR=function(){return new Do},MR=function(){return Wr()},PR=Ln,Vy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Bh=we,Le.COMPLETE="complete",NR=Le,bs.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,sc=bs,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,DR=yt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const W1="@firebase/firestore",Z1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Tv("@firebase/firestore");function fl(){return lo.logLevel}function _e(n,...e){if(lo.logLevel<=it.DEBUG){const t=e.map(Xv);lo.debug(`Firestore (${ql}): ${n}`,...t)}}function ia(n,...e){if(lo.logLevel<=it.ERROR){const t=e.map(Xv);lo.error(`Firestore (${ql}): ${n}`,...t)}}function Il(n,...e){if(lo.logLevel<=it.WARN){const t=e.map(Xv);lo.warn(`Firestore (${ql}): ${n}`,...t)}}function Xv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LR(n,r,t)}function LR(n,e,t){let r=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ia(r),new Error(r)}function vt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LR(e,s,r)}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends la{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(On.UNAUTHENTICATED))}shutdown(){}}class u3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class c3{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new VR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class f3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new f3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new J1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new J1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function Uy(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Xe(r,s);{const o=UR(),u=g3(o.encode(eT(n,t)),o.encode(eT(e,t)));return u!==0?u:Xe(r,s)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function eT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function g3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function xl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-62135596800,nT=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nT);return new rn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tT)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new rn(0,0))}static max(){return new $e(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class hi{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&je(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=hi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Xe(e.length,t.length)}static compareSegments(e,t){const r=hi.isNumericId(e),s=hi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?hi.extractNumericId(e).compare(hi.extractNumericId(t)):Uy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Nt extends hi{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const p3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends hi{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return p3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new bn([rT])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(o(),s++)}if(o(),u)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Nt.fromString(e))}static fromName(e){return new Pe(Nt.fromString(e).popFirst(5))}static empty(){return new Pe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function y3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new rn(t+1,0):new rn(t,r));return new os(s,Pe.empty(),e)}function v3(n){return new os(n.readTime,n.key,Dc)}class os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new os($e.min(),Pe.empty(),Dc)}static max(){return new os($e.max(),Pe.empty(),Dc)}}function _3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==E3)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let s=0,o=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&t()},d=>r(d))}),u=!0,o===s&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(s=>s?ce.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,s)=>{const o=e.length,u=new Array(o);let f=0;for(let d=0;d<o;d++){const g=d;t(e[g]).next(y=>{u[g]=y,++f,f===o&&r(u)},y=>s(y))}})}static doWhile(e,t){return new ce((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function S3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-1;function im(n){return n==null}function wd(n){return n===0&&1/n==-1/0}function T3(n){return typeof n=="number"&&Number.isInteger(n)&&!wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="";function w3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iT(e)),e=A3(n.get(t),e);return iT(e)}function A3(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case zR:t+="";break;default:t+=o}}return t}function iT(n){return n+zR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new En(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Br([])}unionWith(e){let t=new an(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BR("Invalid base64 string: "+o):o}}(e);return new Sn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(vt(!!n,39018),typeof n=="string"){let e=0;const t=R3.exec(n);if(vt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function us(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="server_timestamp",qR="__type__",$R="__previous_value__",GR="__local_write_time__";function Zv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qR])===null||t===void 0?void 0:t.stringValue)===HR}function am(n){const e=n.mapValue.fields[$R];return Zv(e)?am(e):e}function Nc(n){const e=ls(n.mapValue.fields[GR].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t,r,s,o,u,f,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y}}const Ad="(default)";class Pc{constructor(e,t){this.projectId=e,this.database=t||Ad}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__type__",I3="__max__",Oh={mapValue:{}},YR="__vector__",Rd="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zv(n)?4:O3(n)?9007199254740991:x3(n)?10:11:je(28295,{value:n})}function Ti(n,e){if(n===e)return!0;const t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nc(n).isEqual(Nc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ls(s.timestampValue),f=ls(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return us(s.bytesValue).isEqual(us(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Ft(s.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ft(s.integerValue)===Ft(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Ft(s.doubleValue),f=Ft(o.doubleValue);return u===f?wd(u)===wd(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return xl(n.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(aT(u)!==aT(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ti(u[d],f[d])))return!1;return!0}(n,e);default:return je(52216,{left:n})}}function Mc(n,e){return(n.values||[]).find(t=>Ti(t,e))!==void 0}function Ol(n,e){if(n===e)return 0;const t=cs(n),r=cs(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Ft(o.integerValue||o.doubleValue),d=Ft(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return oT(n.timestampValue,e.timestampValue);case 4:return oT(Nc(n),Nc(e));case 5:return Uy(n.stringValue,e.stringValue);case 6:return function(o,u){const f=us(o),d=us(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),d=u.split("/");for(let g=0;g<f.length&&g<d.length;g++){const y=Xe(f[g],d[g]);if(y!==0)return y}return Xe(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Xe(Ft(o.latitude),Ft(u.latitude));return f!==0?f:Xe(Ft(o.longitude),Ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lT(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,d,g,y;const _=o.fields||{},E=u.fields||{},T=(f=_[Rd])===null||f===void 0?void 0:f.arrayValue,A=(d=E[Rd])===null||d===void 0?void 0:d.arrayValue,k=Xe(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:lT(T,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Oh.mapValue&&u===Oh.mapValue)return 0;if(o===Oh.mapValue)return 1;if(u===Oh.mapValue)return-1;const f=o.fields||{},d=Object.keys(f),g=u.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=Uy(d[_],y[_]);if(E!==0)return E;const T=Ol(f[d[_]],g[y[_]]);if(T!==0)return T}return Xe(d.length,y.length)}(n.mapValue,e.mapValue);default:throw je(23264,{Pe:t})}}function oT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=ls(n),r=ls(e),s=Xe(t.seconds,r.seconds);return s!==0?s:Xe(t.nanos,r.nanos)}function lT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Ol(t[s],r[s]);if(o)return o}return Xe(t.length,r.length)}function Dl(n){return jy(n)}function jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ls(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=jy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${jy(t.fields[u])}`;return s+"}"}(n.mapValue):je(61005,{value:n})}function Hh(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Hh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return po(r.fields,(o,u)=>{s+=o.length+Hh(u)}),s}(n.mapValue);default:throw je(13486,{value:n})}}function zy(n){return!!n&&"integerValue"in n}function Jv(n){return!!n&&"arrayValue"in n}function uT(n){return!!n&&"nullValue"in n}function cT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function x3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KR])===null||t===void 0?void 0:t.stringValue)===YR}function gc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===I3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(t)}setAll(e){let t=bn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=gc(u):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];qh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){po(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Nr(gc(this.value))}}function QR(n){const e=[];return po(n.fields,(t,r)=>{const s=new bn([t]);if(qh(r)){const o=QR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t,r,s,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Dn(e,0,$e.min(),$e.min(),$e.min(),Nr.empty(),0)}static newFoundDocument(e,t,r,s){return new Dn(e,1,t,$e.min(),r,s,0)}static newNoDocument(e,t){return new Dn(e,2,t,$e.min(),$e.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,$e.min(),$e.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function fT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),t.key):r=Ol(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t="asc"){this.field=e,this.dir=t}}function D3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class en extends XR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P3(e,t,r):t==="array-contains"?new L3(e,r):t==="in"?new V3(e,r):t==="not-in"?new U3(e,r):t==="array-contains-any"?new j3(e,r):new en(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new M3(e,r):new k3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ol(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends XR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wi(e,t)}matches(e){return WR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WR(n){return n.op==="and"}function ZR(n){return N3(n)&&WR(n)}function N3(n){for(const e of n.filters)if(e instanceof wi)return!1;return!0}function Fy(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+Dl(n.value);if(ZR(n))return n.filters.map(e=>Fy(e)).join(",");{const e=n.filters.map(t=>Fy(t)).join(",");return`${n.op}(${e})`}}function JR(n,e){return n instanceof en?function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&Ti(r.value,s.value)}(n,e):n instanceof wi?function(r,s){return s instanceof wi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,f)=>o&&JR(u,s.filters[f]),!0):!1}(n,e):void je(19439)}function eC(n){return n instanceof en?function(t){return`${t.field.canonicalString()} ${t.op} ${Dl(t.value)}`}(n):n instanceof wi?function(t){return t.op.toString()+" {"+t.getFilters().map(eC).join(" ,")+"}"}(n):"Filter"}class P3 extends en{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class M3 extends en{constructor(e,t){super(e,"in",t),this.keys=tC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k3 extends en{constructor(e,t){super(e,"not-in",t),this.keys=tC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class L3 extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jv(t)&&Mc(t.arrayValue,this.value)}}class V3 extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mc(this.value.arrayValue,t)}}class U3 extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Mc(this.value.arrayValue,t)}}class j3 extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t=null,r=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function dT(n,e=null,t=[],r=[],s=null,o=null,u=null){return new z3(n,e,t,r,s,o,u)}function e_(n){const e=Ge(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),im(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dl(r)).join(",")),e.Ie=t}return e.Ie}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!D3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hT(n.startAt,e.startAt)&&hT(n.endAt,e.endAt)}function By(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t=null,r=[],s=[],o=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function F3(n,e,t,r,s,o,u,f){return new sm(n,e,t,r,s,o,u,f)}function n_(n){return new sm(n)}function mT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B3(n){return n.collectionGroup!==null}function pc(n){const e=Ge(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new an(bn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Id(o,r))}),t.has(bn.keyField().canonicalString())||e.Ee.push(new Id(bn.keyField(),r))}return e.Ee}function Ei(n){const e=Ge(n);return e.de||(e.de=H3(e,pc(n))),e.de}function H3(n,e){if(n.limitType==="F")return dT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Id(s.field,o)});const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return dT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hy(n,e,t){return new sm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function om(n,e){return t_(Ei(n),Ei(e))&&n.limitType===e.limitType}function nC(n){return`${e_(Ei(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>eC(s)).join(", ")}]`),im(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Dl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Dl(s)).join(",")),`Target(${r})`}(Ei(n))}; limitType=${n.limitType})`}function lm(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of pc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const g=fT(u,f,d);return u.inclusive?g<=0:g<0}(r.startAt,pc(r),s)||r.endAt&&!function(u,f,d){const g=fT(u,f,d);return u.inclusive?g>=0:g>0}(r.endAt,pc(r),s))}(n,e)}function q3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rC(n){return(e,t)=>{let r=!1;for(const s of pc(n)){const o=$3(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function $3(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(o,u,f){const d=u.data.field(o),g=f.data.field(o);return d!==null&&g!==null?Ol(d,g):je(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return FR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Lt(Pe.comparator);function aa(){return G3}const iC=new Lt(Pe.comparator);function oc(...n){let e=iC;for(const t of n)e=e.insert(t.key,t);return e}function aC(n){let e=iC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zs(){return yc()}function sC(){return yc()}function yc(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const K3=new Lt(Pe.comparator),Y3=new an(Pe.comparator);function at(...n){let e=Y3;for(const t of n)e=e.add(t);return e}const Q3=new an(Xe);function X3(){return Q3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function oC(n){return{integerValue:""+n}}function W3(n,e){return T3(e)?oC(e):r_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function Z3(n,e,t){return n instanceof xd?function(s,o){const u={fields:{[qR]:{stringValue:HR},[GR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Zv(o)&&(o=am(o)),o&&(u.fields[$R]=o),{mapValue:u}}(t,e):n instanceof kc?uC(n,e):n instanceof Lc?cC(n,e):function(s,o){const u=lC(s,o),f=gT(u)+gT(s.Re);return zy(u)&&zy(s.Re)?oC(f):r_(s.serializer,f)}(n,e)}function J3(n,e,t){return n instanceof kc?uC(n,e):n instanceof Lc?cC(n,e):t}function lC(n,e){return n instanceof Od?function(r){return zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xd extends um{}class kc extends um{constructor(e){super(),this.elements=e}}function uC(n,e){const t=fC(e);for(const r of n.elements)t.some(s=>Ti(s,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends um{constructor(e){super(),this.elements=e}}function cC(n,e){let t=fC(e);for(const r of n.elements)t=t.filter(s=>!Ti(s,r));return{arrayValue:{values:t}}}class Od extends um{constructor(e,t){super(),this.serializer=e,this.Re=t}}function gT(n){return Ft(n.integerValue||n.doubleValue)}function fC(n){return Jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eV(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof kc&&s instanceof kc||r instanceof Lc&&s instanceof Lc?xl(r.elements,s.elements,Ti):r instanceof Od&&s instanceof Od?Ti(r.Re,s.Re):r instanceof xd&&s instanceof xd}(n.transform,e.transform)}class tV{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cm{}function hC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new i_(n.key,bi.none()):new Xc(n.key,n.data,bi.none());{const t=n.data,r=Nr.empty();let s=new an(bn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new vo(n.key,r,new Br(s.toArray()),bi.none())}}function nV(n,e,t){n instanceof Xc?function(s,o,u){const f=s.value.clone(),d=yT(s.fieldTransforms,o,u.transformResults);f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof vo?function(s,o,u){if(!$h(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=yT(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(dC(s)),d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function vc(n,e,t,r){return n instanceof Xc?function(o,u,f,d){if(!$h(o.precondition,u))return f;const g=o.value.clone(),y=vT(o.fieldTransforms,d,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof vo?function(o,u,f,d){if(!$h(o.precondition,u))return f;const g=vT(o.fieldTransforms,d,u),y=u.data;return y.setAll(dC(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,f){return $h(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function rV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=lC(r.transform,s||null);o!=null&&(t===null&&(t=Nr.empty()),t.set(r.field,o))}return t||null}function pT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xl(r,s,(o,u)=>eV(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends cm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends cm{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yT(n,e,t){const r=new Map;vt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,f=e.data.field(o.field);r.set(o.field,J3(u,f,t[s]))}return r}function vT(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,Z3(o,u,e))}return r}class i_ extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&nV(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sC();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(s.key)?null:f;const d=hC(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),at())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(t,r)=>pT(t,r))&&xl(this.baseMutations,e.baseMutations,(t,r)=>pT(t,r))}}class a_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return K3}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new a_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ct;function lV(n){switch(n){case he.OK:return je(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return je(15467,{code:n})}}function mC(n){if(n===void 0)return ia("GRPC error has no .code"),he.UNKNOWN;switch(n){case Yt.OK:return he.OK;case Yt.CANCELLED:return he.CANCELLED;case Yt.UNKNOWN:return he.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return he.INTERNAL;case Yt.UNAVAILABLE:return he.UNAVAILABLE;case Yt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Yt.NOT_FOUND:return he.NOT_FOUND;case Yt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Yt.ABORTED:return he.ABORTED;case Yt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Yt.DATA_LOSS:return he.DATA_LOSS;default:return je(39323,{code:n})}}(ct=Yt||(Yt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new ts([4294967295,4294967295],0);function _T(n){const e=UR().encode(n),t=new OR;return t.update(e),new Uint8Array(t.digest())}function ET(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ts([t,r],0),new ts([s,o],0)]}class s_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ts.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(ts.fromNumber(r)));return s.compare(uV)===1&&(s=new ts([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=_T(e),[r,s]=ET(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new s_(o,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=_T(e),[r,s]=ET(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fm($e.min(),s,new Lt(Xe),aa(),at())}}class Wc{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wc(r,t,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class gC{constructor(e,t){this.targetId=e,this.Ce=t}}class pC{constructor(e,t,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class bT{constructor(){this.Fe=0,this.Me=ST(),this.xe=Sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=at(),t=at(),r=at();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:o})}}),new Wc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ST()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cV{constructor(e){this.ze=e,this.je=new Map,this.He=aa(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new Lt(Xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(By(o))if(r===0){const u=new Pe(o.path);this.tt(t,u,Dn.newNoDocument(u,$e.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,f;try{u=us(r).toUint8Array()}catch(d){if(d instanceof BR)return Il("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new s_(u,s,o)}catch(d){return Il(d instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&By(f.target)){const d=new Pe(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Dn.newNoDocument(d,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=at();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(d=>{const g=this._t(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new fm(e,t,this.Ze,this.He,r);return this.He=aa(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new Lt(Xe),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new bT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new an(Xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new an(Xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new Lt(Pe.comparator)}function ST(){return new Lt(Pe.comparator)}const fV={asc:"ASCENDING",desc:"DESCENDING"},hV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dV={and:"AND",or:"OR"};class mV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(n,e){return n.useProto3Json||im(e)?e:{value:e}}function Dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gV(n,e){return Dd(n,e.toTimestamp())}function Si(n){return vt(!!n,49232),$e.fromTimestamp(function(t){const r=ls(t);return new rn(r.seconds,r.nanos)}(n))}function o_(n,e){return $y(n,e).canonicalString()}function $y(n,e){const t=function(s){return new Nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vC(n){const e=Nt.fromString(n);return vt(TC(e),10190,{key:e.toString()}),e}function Gy(n,e){return o_(n.databaseId,e.path)}function Qp(n,e){const t=vC(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(EC(t))}function _C(n,e){return o_(n.databaseId,e)}function pV(n){const e=vC(n);return e.length===4?Nt.emptyPath():EC(e)}function Ky(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EC(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TT(n,e,t){return{name:Gy(n,e),fields:t.value.mapValue.fields}}function yV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Sn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Sn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const y=g.code===void 0?he.UNKNOWN:mC(g.code);return new xe(y,g.message||"")}(u);t=new pC(r,s,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qp(n,r.document.name),o=Si(r.document.updateTime),u=r.document.createTime?Si(r.document.createTime):$e.min(),f=new Nr({mapValue:{fields:r.document.fields}}),d=Dn.newFoundDocument(s,o,u,f),g=r.targetIds||[],y=r.removedTargetIds||[];t=new Gh(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qp(n,r.document),o=r.readTime?Si(r.readTime):$e.min(),u=Dn.newNoDocument(s,o),f=r.removedTargetIds||[];t=new Gh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qp(n,r.document),o=r.removedTargetIds||[];t=new Gh([],o,s,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new oV(s,o),f=r.targetId;t=new gC(f,u)}}return t}function vV(n,e){let t;if(e instanceof Xc)t={update:TT(n,e.key,e.value)};else if(e instanceof i_)t={delete:Gy(n,e.key)};else if(e instanceof vo)t={update:TT(n,e.key,e.data),updateMask:CV(e.fieldMask)};else{if(!(e instanceof iV))return je(16599,{ft:e.type});t={verify:Gy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof xd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof kc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Od)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw je(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:gV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je(27497)}(n,e.precondition)),t}function _V(n,e){return n&&n.length>0?(vt(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?Si(s.updateTime):Si(o);return u.isEqual($e.min())&&(u=Si(o)),new tV(u,s.transformResults||[])}(t,e))):[]}function EV(n,e){return{documents:[_C(n,e.path)]}}function bV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_C(n,s);const o=function(g){if(g.length!==0)return SC(wi.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:dl(E.field),direction:wV(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=qy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function SV(n){let e=pV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){vt(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const E=bC(_);return E instanceof wi&&ZR(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(A){return new Id(ml(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,im(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(_){const E=!!_.before,T=_.values||[];return new Cd(T,E)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const E=!_.before,T=_.values||[];return new Cd(T,E)}(t.endAt)),F3(e,s,u,o,f,"F",d,g)}function TV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ml(t.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(t.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(t.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(t.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(n):n.fieldFilter!==void 0?function(t){return en.create(ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wi.create(t.compositeFilter.filters.map(r=>bC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(t.compositeFilter.op))}(n):je(30097,{filter:n})}function wV(n){return fV[n]}function AV(n){return hV[n]}function RV(n){return dV[n]}function dl(n){return{fieldPath:n.canonicalString()}}function ml(n){return bn.fromServerFormat(n.fieldPath)}function SC(n){return n instanceof en?function(t){if(t.op==="=="){if(cT(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NAN"}};if(uT(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cT(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NAN"}};if(uT(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(t.field),op:AV(t.op),value:t.value}}}(n):n instanceof wi?function(t){const r=t.getFilters().map(s=>SC(s));return r.length===1?r[0]:{compositeFilter:{op:RV(t.op),filters:r}}}(n):je(54877,{filter:n})}function CV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t,r,s,o=$e.min(),u=$e.min(),f=Sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.wt=e}}function xV(n){const e=SV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Cn=new DV}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(os.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class DV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new an(Nt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new an(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wC=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(wC,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Nl(0)}static lr(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",NV=1048576;function RT([n,e],[t,r]){const s=Xe(n,t);return s===0?Xe(e,r):s}class PV{constructor(e){this.Er=e,this.buffer=new an(RT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();RT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(AT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?_e(AT,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.mr(3e5)})}}class kV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(rm.le);const r=new PV(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(wT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,f,d,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(g=Date.now(),fl()<=it.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function LV(n,e){return new kV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&vc(r.mutation,s,Br.empty(),rn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,t,r=at()){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=oc();return o.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,at()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let o=aa();const u=yc(),f=function(){return yc()}();return t.forEach((d,g)=>{const y=r.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof vo)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),vc(y.mutation,g,y.mutation.getFieldMask(),rn.now())):u.set(g.key,Br.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,y)=>u.set(g,y)),t.forEach((g,y)=>{var _;return f.set(g,new UV(y,(_=u.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const r=yc();let s=new Lt((u,f)=>u-f),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let y=r.get(d)||Br.empty();y=f.applyToLocalView(g,y),r.set(d,y);const _=(s.get(f.batchId)||at()).add(d);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),g=d.key,y=d.value,_=sC();y.forEach(E=>{if(!o.has(E)){const T=hC(t.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):ce.resolve(Zs());let f=Dc,d=o;return u.next(g=>ce.forEach(g,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,at())).next(y=>({batchId:f,changes:aC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let s=oc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=oc();return this.indexManager.getCollectionParents(e,o).next(f=>ce.forEach(f,d=>{const g=function(_,E){return new sm(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((d,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Dn.newInvalidDocument(y)))});let f=oc();return u.forEach((d,g)=>{const y=o.get(d);y!==void 0&&vc(y.mutation,g,Br.empty(),rn.now()),lm(t,g)&&(f=f.insert(d,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Si(s.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:xV(s.bundledQuery),readTime:Si(s.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.overlays=new Lt(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zs();return ce.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.St(e,t,o)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const s=Zs(),o=t.length+1,u=new Pe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Lt((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let y=o.get(g.largestBatchId);y===null&&(y=Zs(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Zs(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=s)););return ce.resolve(f)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sV(t,r));let o=this.Qr.get(t);o===void 0&&(o=at(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.$r=new an(fn.Ur),this.Kr=new an(fn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new fn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new fn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new Nt([])),r=new fn(t,e),s=new fn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Nt([])),r=new fn(t,e),s=new fn(t,e+1);let o=at();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new fn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||Xe(e.Zr,t.Zr)}static Wr(e,t){return Xe(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new an(fn.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new aV(o,t,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new fn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Wv:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),s=new fn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);o.push(f)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(Xe);return t.forEach(s=>{const o=new fn(s,0),u=new fn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],f=>{r=r.add(f.Zr)})}),ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new fn(new Pe(o),0);let f=new an(Xe);return this.Xr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(f=f.add(d.Zr)),!0)},u),ce.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){vt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ce.forEach(t.mutations,s=>{const o=new fn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new fn(t,0),s=this.Xr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.ii=e,this.docs=function(){return new Lt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=aa();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=aa();const u=t.path,f=new Pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||_3(v3(y),r)<=0||(s.has(y.key)||lm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,t,r,s){je(9500)}si(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $V(this)}getSize(e){return ce.resolve(this.size)}}class $V extends VV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.persistence=e,this.oi=new yo(t=>e_(t),t_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new l_,this.targetCount=0,this.ui=Nl.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Tr(t),ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ce.waitFor(o).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t){this.ci={},this.overlays={},this.li=new rm(0),this.hi=!1,this.hi=!0,this.Pi=new BV,this.referenceDelegate=e(this),this.Ti=new GV(this),this.indexManager=new OV,this.remoteDocumentCache=function(s){return new qV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new IV(t),this.Ei=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new HV(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const s=new KV(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class KV extends b3{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Vi=new l_,this.mi=null}static fi(e){return new u_(e)}get gi(){if(this.mi)return this.mi;throw je(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,$e.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ce.or([()=>ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Nd{constructor(e,t){this.persistence=e,this.yi=new yo(r=>w3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=LV(this,t)}static fi(e,t){return new Nd(e,t)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ce.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?ce.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(f=>{f||(r++,o.removeEntry(u,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}Dr(e,t,r){return ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=at(),s=at();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new c_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AO()?8:S3(Nn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new YV;return this.Ss(e,t,u).next(f=>{if(o.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(fl()<=it.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(fl()<=it.DEBUG&&_e("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(fl()<=it.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(t))):ce.resolve())}ws(e,t){if(mT(t))return ce.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Hy(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=at(...o);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.vs(t,f);return this.Cs(t,g,u,d.readTime)?this.ws(e,Hy(t,null,"F")):this.Fs(e,g,t,d)}))})))}bs(e,t,r,s){return mT(t)||s.isEqual($e.min())?ce.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?ce.resolve(null):(fl()<=it.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(t)),this.Fs(e,u,t,y3(s,Dc)).next(f=>f))})}vs(e,t){let r=new an(rC(e));return t.forEach((s,o)=>{lm(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return fl()<=it.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ys.getDocumentsMatchingQuery(e,t,os.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LocalStore",XV=3e8;class WV{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Lt(Xe),this.Os=new yo(o=>e_(o),t_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function ZV(n,e,t,r){return new WV(n,e,t,r)}async function RC(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let d=at();for(const g of s){u.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function JV(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,g,y){const _=g.batch,E=_.keys();let T=ce.resolve();return E.forEach(A=>{T=T.next(()=>y.getEntry(d,A)).next(k=>{const M=g.docVersions.get(A);vt(M!==null,48541),k.version.compareTo(M)<0&&(_.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=at();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(d=d.add(f.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function CC(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function eU(n,e){const t=Ge(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=s.get(_);if(!E)return;f.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,_)));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Sn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(_,T),function(k,M,U){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=XV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,T,y)&&f.push(t.Ti.updateTargetData(o,T))});let d=aa(),g=at();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(tU(o,u,e.documentUpdates).next(y=>{d=y.qs,g=y.Qs})),!r.isEqual($e.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(y)}return ce.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(t.xs=s,o))}function tU(n,e,t){let r=at(),s=at();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=aa();return t.forEach((f,d)=>{const g=o.get(f);d.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual($e.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):_e(f_,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),{qs:u,Qs:s}})}function nU(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rU(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,ce.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new Wa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Yy(n,e,t){const r=Ge(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Gl(u))throw u;_e(f_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function CT(n,e,t){const r=Ge(n);let s=$e.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,y){const _=Ge(d),E=_.Os.get(y);return E!==void 0?ce.resolve(_.xs.get(E)):_.Ti.getTargetData(g,y)}(r,u,Ei(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:$e.min(),t?o:at())).next(f=>(iU(r,q3(e),f),{documents:f,$s:o})))}function iU(n,e,t){let r=n.Ns.get(e)||$e.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class IT{constructor(){this.activeTargetIds=X3()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aU{constructor(){this.xo=new IT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class OT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(xT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Qy(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",oU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Ad?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=Qy(),f=this.jo(e,t.toUriEncodedString());_e(Xp,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,o);const{host:g}=new URL(f),y=zl(g);return this.Jo(e,f,d,r,y).then(_=>(_e(Xp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Il(Xp,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ql}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=oU[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class cU extends lU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=Qy();return new Promise((f,d)=>{const g=new DR;g.setWithCredentials(!0),g.listenOnce(NR.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Bh.NO_ERROR:const _=g.getResponseJson();_e(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Bh.TIMEOUT:_e(xn,`RPC '${e}' ${u} timed out`),d(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const E=g.getStatus();if(_e(xn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const k=function(U){const J=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(J)>=0?J:he.UNKNOWN}(A.status);d(new xe(k,A.message))}else d(new xe(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new xe(he.UNAVAILABLE,"Connection failed."));break;default:je(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_e(xn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);_e(xn,`RPC '${e}' ${u} sending request:`,s),g.send(t,"POST",y,r,15)})}I_(e,t,r){const s=Qy(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kR(),f=MR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=o.join("");_e(xn,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let E=!1,T=!1;const A=new uU({Zo:M=>{T?_e(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(E||(_e(xn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),_e(xn,`RPC '${e}' stream ${s} sending:`,M),_.send(M))},Xo:()=>_.close()}),k=(M,U,J)=>{M.listen(U,Y=>{try{J(Y)}catch(re){setTimeout(()=>{throw re},0)}})};return k(_,sc.EventType.OPEN,()=>{T||(_e(xn,`RPC '${e}' stream ${s} transport opened.`),A.__())}),k(_,sc.EventType.CLOSE,()=>{T||(T=!0,_e(xn,`RPC '${e}' stream ${s} transport closed`),A.u_(),this.d_(_))}),k(_,sc.EventType.ERROR,M=>{T||(T=!0,Il(xn,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),A.u_(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),k(_,sc.EventType.MESSAGE,M=>{var U;if(!T){const J=M.data[0];vt(!!J,16349);const Y=J,re=(Y==null?void 0:Y.error)||((U=Y[0])===null||U===void 0?void 0:U.error);if(re){_e(xn,`RPC '${e}' stream ${s} received error:`,re);const X=re.status;let z=function(C){const D=Yt[C];if(D!==void 0)return mC(D)}(X),O=re.message;z===void 0&&(z=he.INTERNAL,O="Unknown error status: "+X+" with message "+re.message),T=!0,A.u_(new xe(z,O)),_.close()}else _e(xn,`RPC '${e}' stream ${s} received:`,J),A.c_(J)}}),k(f,PR.STAT_EVENT,M=>{M.stat===Vy.PROXY?_e(xn,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===Vy.NOPROXY&&_e(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){return new mV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="PersistentStream";class xC{constructor(e,t,r,s,o,u,f,d){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new IC(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ia(t.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===t&&this.z_(r,s)},r=>{e(()=>{const s=new xe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(DT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(_e(DT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fU extends xC{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=yV(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Si(u.readTime):$e.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Ky(this.serializer),t.addTarget=function(o,u){let f;const d=u.target;if(f=By(d)?{documents:EV(o,d)}:{query:bV(o,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=yC(o,u.resumeToken);const g=qy(o,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Dd(o,u.snapshotVersion.toTimestamp());const g=qy(o,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const r=TV(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Ky(this.serializer),t.removeTarget=e,this.Q_(t)}}class hU extends xC{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=_V(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Ky(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vV(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{}class mU extends dU{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,$y(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(he.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,$y(t,r),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ia(t),this.ua=!1):_e("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class pU{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{_o(this)&&(_e(uo,"Restarting streams for network reachability change."),await async function(d){const g=Ge(d);g.da.add(4),await Zc(g),g.Va.set("Unknown"),g.da.delete(4),await dm(g)}(this))})}),this.Va=new gU(r,s)}}async function dm(n){if(_o(n))for(const e of n.Aa)await e(!0)}async function Zc(n){for(const e of n.Aa)await e(!1)}function OC(n,e){const t=Ge(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),g_(t)?m_(t):Kl(t).N_()&&d_(t,e))}function h_(n,e){const t=Ge(n),r=Kl(t);t.Ea.delete(e),r.N_()&&DC(t,e),t.Ea.size===0&&(r.N_()?r.k_():_o(t)&&t.Va.set("Unknown"))}function d_(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kl(n).Z_(e)}function DC(n,e){n.ma.Ke(e),Kl(n).X_(e)}function m_(n){n.ma=new cV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Kl(n).start(),n.Va.ca()}function g_(n){return _o(n)&&!Kl(n).O_()&&n.Ea.size>0}function _o(n){return Ge(n).da.size===0}function NC(n){n.ma=void 0}async function yU(n){n.Va.set("Online")}async function vU(n){n.Ea.forEach((e,t)=>{d_(n,e)})}async function _U(n,e){NC(n),g_(n)?(n.Va.Pa(e),m_(n)):n.Va.set("Unknown")}async function EU(n,e,t){if(n.Va.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.Ea.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ea.delete(f),s.ma.removeTarget(f))}(n,e)}catch(r){_e(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(n,r)}else if(e instanceof Gh?n.ma.Xe(e):e instanceof gC?n.ma.ot(e):n.ma.nt(e),!t.isEqual($e.min()))try{const r=await CC(n.localStore);t.compareTo(r)>=0&&await function(o,u){const f=o.ma.It(u);return f.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(g);y&&o.Ea.set(g,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,g)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(Sn.EMPTY_BYTE_STRING,y.snapshotVersion)),DC(o,d);const _=new Wa(y.target,d,g,y.sequenceNumber);d_(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){_e(uo,"Failed to raise snapshot:",r),await Pd(n,r)}}async function Pd(n,e,t){if(!Gl(e))throw e;n.da.add(1),await Zc(n),n.Va.set("Offline"),t||(t=()=>CC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(uo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await dm(n)})}function PC(n,e){return e().catch(t=>Pd(n,t,e))}async function mm(n){const e=Ge(n),t=fs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wv;for(;bU(e);)try{const s=await nU(e.localStore,r);if(s===null){e.Ia.length===0&&t.k_();break}r=s.batchId,SU(e,s)}catch(s){await Pd(e,s)}MC(e)&&kC(e)}function bU(n){return _o(n)&&n.Ia.length<10}function SU(n,e){n.Ia.push(e);const t=fs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function MC(n){return _o(n)&&!fs(n).O_()&&n.Ia.length>0}function kC(n){fs(n).start()}async function TU(n){fs(n).ia()}async function wU(n){const e=fs(n);for(const t of n.Ia)e.ta(t.mutations)}async function AU(n,e,t){const r=n.Ia.shift(),s=a_.from(r,e,t);await PC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await mm(n)}async function RU(n,e){e&&fs(n).ea&&await async function(r,s){if(function(u){return lV(u)&&u!==he.ABORTED}(s.code)){const o=r.Ia.shift();fs(r).L_(),await PC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await mm(r)}}(n,e),MC(n)&&kC(n)}async function NT(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),_e(uo,"RemoteStore received new credentials");const r=_o(t);t.da.add(3),await Zc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await dm(t)}async function CU(n,e){const t=Ge(n);e?(t.da.delete(2),await dm(t)):e||(t.da.add(2),await Zc(t),t.Va.set("Unknown"))}function Kl(n){return n.fa||(n.fa=function(t,r,s){const o=Ge(t);return o.oa(),new fU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:yU.bind(null,n),n_:vU.bind(null,n),i_:_U.bind(null,n),Y_:EU.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),g_(n)?m_(n):n.Va.set("Unknown")):(await n.fa.stop(),NC(n))})),n.fa}function fs(n){return n.ga||(n.ga=function(t,r,s){const o=Ge(t);return o.oa(),new hU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:TU.bind(null,n),i_:RU.bind(null,n),na:wU.bind(null,n),ra:AU.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await mm(n)):(await n.ga.stop(),n.Ia.length>0&&(_e(uo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,f=new p_(e,t,u,s,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y_(n,e){if(ia("AsyncQueue",`${e}: ${n}`),Gl(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=oc(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.pa=new Lt(Pe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):je(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pl{constructor(e,t,r,s,o,u,f,d,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Pl(e,t,Tl.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xU{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ge(t),o=s.queries;s.queries=MT(),o.forEach((u,f)=>{for(const d of f.Sa)d.onError(r)})})(this,new xe(he.ABORTED,"Firestore shutting down"))}}function MT(){return new yo(n=>nC(n),om)}async function LC(n,e){const t=Ge(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new IU,r=e.va()?0:1);try{switch(r){case 0:o.ba=await t.onListen(s,!0);break;case 1:o.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=y_(u,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&v_(t)}async function VC(n,e){const t=Ge(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function OU(n,e){const t=Ge(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const f of u.Sa)f.Ma(s)&&(r=!0);u.ba=s}}r&&v_(t)}function DU(n,e,t){const r=Ge(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function v_(n){n.Ca.forEach(e=>{e.next()})}var Xy,kT;(kT=Xy||(Xy={})).xa="default",kT.Cache="cache";class UC{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.key=e}}class zC{constructor(e){this.key=e}}class NU{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.Za=rC(e),this.Xa=new Tl(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new PT,s=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const E=s.get(y),T=lm(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;E&&T?E.data.isEqual(T.data)?A!==k&&(r.track({type:3,doc:T}),M=!0):this.ru(E,T)||(r.track({type:2,doc:T}),M=!0,(d&&this.Za(T,d)>0||g&&this.Za(T,g)<0)&&(f=!0)):!E&&T?(r.track({type:0,doc:T}),M=!0):E&&!T&&(r.track({type:1,doc:E}),M=!0,(d||g)&&(f=!0)),M&&(T?(u=u.add(T),o=k?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Xa:u,nu:r,Cs:f,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(T,A){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:M})}};return k(T)-k(A)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),s=s!=null&&s;const f=t&&!s?this.su():[],d=this.Ya.size===0&&this.current&&!s?1:0,g=d!==this.Ja;return this.Ja=d,u.length!==0||g?{snapshot:new Pl(this.query,e.Xa,o,u,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new PT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new zC(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new jC(r))}),t}au(e){this.Ha=e.$s,this.Ya=at();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Pl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const __="SyncEngine";class PU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MU{constructor(e){this.key=e,this.cu=!1}}class kU{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new yo(f=>nC(f),om),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt(Pe.comparator),this.Eu=new Map,this.du=new l_,this.Au={},this.Ru=new Map,this.Vu=Nl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function LU(n,e,t=!0){const r=GC(n);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await FC(r,e,t,!0),s}async function VU(n,e){const t=GC(n);await FC(t,e,!0,!1)}async function FC(n,e,t,r){const s=await rU(n.localStore,Ei(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return r&&(f=await UU(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&OC(n.remoteStore,s),f}async function UU(n,e,t,r,s){n.fu=(_,E,T)=>async function(k,M,U,J){let Y=M.view.tu(U);Y.Cs&&(Y=await CT(k.localStore,M.query,!1).then(({documents:O})=>M.view.tu(O,Y)));const re=J&&J.targetChanges.get(M.targetId),X=J&&J.targetMismatches.get(M.targetId)!=null,z=M.view.applyChanges(Y,k.isPrimaryClient,re,X);return VT(k,M.targetId,z.ou),z.snapshot}(n,_,E,T);const o=await CT(n.localStore,e,!0),u=new NU(e,o.$s),f=u.tu(o.documents),d=Wc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=u.applyChanges(f,n.isPrimaryClient,d);VT(n,t,g.ou);const y=new PU(e,t,u);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function jU(n,e,t){const r=Ge(n),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!om(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&h_(r.remoteStore,s.targetId),Wy(r,s.targetId)}).catch($l)):(Wy(r,s.targetId),await Yy(r.localStore,s.targetId,!0))}async function zU(n,e){const t=Ge(n),r=t.hu.get(e),s=t.Pu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),h_(t.remoteStore,r.targetId))}async function FU(n,e,t){const r=YU(n);try{const s=await function(u,f){const d=Ge(u),g=rn.now(),y=f.reduce((T,A)=>T.add(A.key),at());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=aa(),k=at();return d.Bs.getEntries(T,y).next(M=>{A=M,A.forEach((U,J)=>{J.isValidDocument()||(k=k.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,A)).next(M=>{_=M;const U=[];for(const J of f){const Y=rV(J,_.get(J.key).overlayedDocument);Y!=null&&U.push(new vo(J.key,Y,QR(Y.value.mapValue),bi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,U,f)}).next(M=>{E=M;const U=M.applyToLocalDocumentSet(_,k);return d.documentOverlayCache.saveOverlays(T,M.batchId,U)})}).then(()=>({batchId:E.batchId,changes:aC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let g=u.Au[u.currentUser.toKey()];g||(g=new Lt(Xe)),g=g.insert(f,d),u.Au[u.currentUser.toKey()]=g}(r,s.batchId,t),await Jc(r,s.changes),await mm(r.remoteStore)}catch(s){const o=y_(s,"Failed to persist write");t.reject(o)}}async function BC(n,e){const t=Ge(n);try{const r=await eU(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Eu.get(o);u&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?vt(u.cu,14607):s.removedDocuments.size>0&&(vt(u.cu,42227),u.cu=!1))}),await Jc(t,r,e)}catch(r){await $l(r)}}function LT(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.hu.forEach((o,u)=>{const f=u.view.Fa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=Ge(u);d.onlineState=f;let g=!1;d.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(g=!0)}),g&&v_(d)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BU(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Lt(Pe.comparator);u=u.insert(o,Dn.newNoDocument(o,$e.min()));const f=at().add(o),d=new fm($e.min(),new Map,new Lt(Xe),u,f);await BC(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),E_(r)}else await Yy(r.localStore,e,!1).then(()=>Wy(r,e,t)).catch($l)}async function HU(n,e){const t=Ge(n),r=e.batch.batchId;try{const s=await JV(t.localStore,e);qC(t,r,null),HC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jc(t,s)}catch(s){await $l(s)}}async function qU(n,e,t){const r=Ge(n);try{const s=await function(u,f){const d=Ge(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,f).next(_=>(vt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(g,_))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(r.localStore,e);qC(r,e,t),HC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jc(r,s)}catch(s){await $l(s)}}function HC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function qC(n,e,t){const r=Ge(n);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||$C(n,r)})}function $C(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(h_(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),E_(n))}function VT(n,e,t){for(const r of t)r instanceof jC?(n.du.addReference(r.key,e),$U(n,r)):r instanceof zC?(_e(__,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||$C(n,r.key)):je(19791,{pu:r})}function $U(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(_e(__,"New document in limbo: "+t),n.Tu.add(r),E_(n))}function E_(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Pe(Nt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new MU(t)),n.Iu=n.Iu.insert(t,r),OC(n.remoteStore,new Wa(Ei(n_(t.path)),r,"TargetPurposeLimboResolution",rm.le))}}async function Jc(n,e,t){const r=Ge(n),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,d)=>{u.push(r.fu(d,e,t).then(g=>{var y;if((g||t)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(g){s.push(g);const _=c_.Rs(d.targetId,g);o.push(_)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(d,g){const y=Ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ce.forEach(g,E=>ce.forEach(E.ds,T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T)).next(()=>ce.forEach(E.As,T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))}catch(_){if(!Gl(_))throw _;_e(f_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=y.xs.get(E),A=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(E,k)}}}(r.localStore,o))}async function GU(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){_e(__,"User change. New user:",e.toKey());const r=await RC(t.localStore,e);t.currentUser=e,function(o,u){o.Ru.forEach(f=>{f.forEach(d=>{d.reject(new xe(he.CANCELLED,u))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jc(t,r.ks)}}function KU(n,e){const t=Ge(n),r=t.Eu.get(e);if(r&&r.cu)return at().add(r.key);{let s=at();const o=t.Pu.get(e);if(!o)return s;for(const u of o){const f=t.hu.get(u);s=s.unionWith(f.view.eu)}return s}}function GC(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BU.bind(null,e),e.lu.Y_=OU.bind(null,e.eventManager),e.lu.gu=DU.bind(null,e.eventManager),e}function YU(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qU.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ZV(this.persistence,new QV,e.initialUser,this.serializer)}Su(e){return new AC(u_.fi,this.serializer)}bu(e){return new aU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class QU extends Md{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){vt(this.persistence.referenceDelegate instanceof Nd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MV(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new AC(r=>Nd.fi(r,t),this.serializer)}}class Zy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GU.bind(null,this.syncEngine),await CU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xU}()}createDatastore(e){const t=hm(e.databaseInfo.databaseId),r=function(o){return new cU(o)}(e.databaseInfo);return function(o,u,f,d){return new mU(o,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,f){return new pU(r,s,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>LT(this.syncEngine,t,0),function(){return OT.C()?new OT:new sU}())}createSyncEngine(e,t){return function(s,o,u,f,d,g,y){const _=new kU(s,o,u,f,d,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Ge(s);_e(uo,"RemoteStore shutting down."),o.da.add(5),await Zc(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zy.provider={build:()=>new Zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class XU{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=On.UNAUTHENTICATED,this.clientId=jR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(hs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(hs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=y_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(n,e){n.asyncQueue.verifyOperationInProgress(),_e(hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function UT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WU(n);_e(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>NT(e.remoteStore,s)),n._onlineComponents=e}async function WU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(hs,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Il("Error using user provided cache. Falling back to memory cache: "+t),await Zp(n,new Md)}}else _e(hs,"Using default OfflineComponentProvider"),await Zp(n,new QU(void 0));return n._offlineComponents}async function YC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(hs,"Using user provided OnlineComponentProvider"),await UT(n,n._uninitializedComponentsProvider._online)):(_e(hs,"Using default OnlineComponentProvider"),await UT(n,new Zy))),n._onlineComponents}function ZU(n){return YC(n).then(e=>e.syncEngine)}async function QC(n){const e=await YC(n),t=e.eventManager;return t.onListen=LU.bind(null,e.syncEngine),t.onUnlisten=jU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zU.bind(null,e.syncEngine),t}function JU(n,e,t={}){const r=new ea;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new KC({next:E=>{y.xu(),u.enqueueAndForget(()=>VC(o,_));const T=E.docs.has(f);!T&&E.fromCache?g.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new UC(n_(f.path),y,{includeMetadataChanges:!0,Qa:!0});return LC(o,_)}(await QC(n),n.asyncQueue,e,t,r)),r.promise}function e9(n,e,t={}){const r=new ea;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new KC({next:E=>{y.xu(),u.enqueueAndForget(()=>VC(o,_)),E.fromCache&&d.source==="server"?g.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new UC(f,y,{includeMetadataChanges:!0,Qa:!0});return LC(o,_)}(await QC(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t9(n,e,t,r){if(e===!0&&r===!0)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zT(n){if(!Pe.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FT(n){if(Pe.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function b_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je(12329,{type:typeof n})}function ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=b_(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firestore.googleapis.com",BT=!0;class HT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZC,this.ssl=BT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NV)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l3;switch(r.type){case"firstParty":return new h3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jT.get(t);r&&(_e("ComponentProvider","Removing Datastore"),jT.delete(t),r.terminate())}(this),Promise.resolve()}}function n9(n,e,t,r={}){var s;n=ds(n,gm);const o=zl(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(Fw(`https://${d}`),Bw("Firestore",!0)),u.host!==ZC&&u.host!==d&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!to(g,f)&&(n._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=On.MOCK_USER;else{y=pO(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new On(E)}n._authCredentials=new u3(new VR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pm(this.firestore,e,this._query)}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class ns extends pm{constructor(e,t,r){super(e,t,n_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Pe(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function r9(n,e,...t){if(n=Kn(n),WC("collection","path",e),n instanceof gm){const r=Nt.fromString(e,...t);return FT(r),new ns(n,null,r)}{if(!(n instanceof lr||n instanceof ns))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return FT(r),new ns(n.firestore,null,r)}}function ef(n,e,...t){if(n=Kn(n),arguments.length===1&&(e=jR.newId()),WC("doc","path",e),n instanceof gm){const r=Nt.fromString(e,...t);return zT(r),new lr(n,null,new Pe(r))}{if(!(n instanceof lr||n instanceof ns))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return zT(r),new lr(n.firestore,n instanceof ns?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new IC(this,"async_queue_retry"),this.rc=()=>{const r=Wp();r&&_e(qT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new ea;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Gl(e))throw e;_e(qT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ia("INTERNAL UNHANDLED ERROR: ",GT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=p_.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&je(47125,{cc:GT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function GT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class tf extends gm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new $T,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function i9(n,e){const t=typeof n=="object"?n:Gw(),r=typeof n=="string"?n:Ad,s=Av(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=mO("firestore");o&&n9(s,...o)}return s}function S_(n){if(n._terminated)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||a9(n),n._firestoreClient}function a9(n){var e,t,r;const s=n._freezeSettings(),o=function(f,d,g,y){return new C3(f,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,XC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new XU(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(Sn.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ml(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^__.*__$/;class o9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}function eI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ic:n})}}class R_{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new R_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(eI(this.Ic)&&s9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class l9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hm(e)}bc(e,t,r,s=!1){return new R_({Ic:e,methodName:t,wc:r,path:bn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u9(n){const e=n._freezeSettings(),t=hm(n._databaseId);return new l9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c9(n,e,t,r,s,o={}){const u=n.bc(o.merge||o.mergeFields?2:0,e,t,s);iI("Data must be an object, but it was:",u,r);const f=nI(r,u);let d,g;if(o.merge)d=new Br(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=f9(e,_,t);if(!u.contains(E))throw new xe(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);d9(y,E)||y.push(E)}d=new Br(y),g=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,g=u.fieldTransforms;return new o9(new Nr(f),d,g)}function tI(n,e){if(rI(n=Kn(n)))return iI("Unsupported field value:",e,n),nI(n,e);if(n instanceof JC)return function(r,s){if(!eI(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const f of r){let d=tI(f,s.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rn.fromDate(r);return{timestampValue:Dd(s.serializer,o)}}if(r instanceof rn){const o=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(s.serializer,o)}}if(r instanceof w_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ml)return{bytesValue:yC(s.serializer,r._byteString)};if(r instanceof lr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:o_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof A_)return function(u,f){return{mapValue:{fields:{[KR]:{stringValue:YR},[Rd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return r_(f.serializer,g)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${b_(r)}`)}(n,e)}function nI(n,e){const t={};return FR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,(r,s)=>{const o=tI(s,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function rI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rn||n instanceof w_||n instanceof Ml||n instanceof lr||n instanceof JC||n instanceof A_)}function iI(n,e,t){if(!rI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=b_(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function f9(n,e,t){if((e=Kn(e))instanceof T_)return e._internalPath;if(typeof e=="string")return aI(n,e);throw kd("Field path arguments must be of type string or ",n,!1,void 0,t)}const h9=new RegExp("[~\\*/\\[\\]]");function aI(n,e,t){if(e.search(h9)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new T_(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kd(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new xe(he.INVALID_ARGUMENT,f+n+d)}function d9(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m9 extends sI{data(){return super.data()}}function oI(n,e){return typeof e=="string"?aI(n,e):e instanceof T_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p9{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return po(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Rd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Ft(u.doubleValue));return new A_(o)}convertGeoPoint(e){return new w_(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=am(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const t=ls(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);vt(TC(r),9688,{name:e});const s=new Pc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(t)||ia(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lI extends sI{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kh extends lI{data(e={}){return super.data(e)}}class v9{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kh(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new Kh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const d=new Kh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:_9(f.type),doc:d,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(n){n=ds(n,lr);const e=ds(n.firestore,tf);return JU(S_(e),n._key).then(t=>T9(e,n,t))}class uI extends p9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function b9(n){n=ds(n,pm);const e=ds(n.firestore,tf),t=S_(e),r=new uI(e);return g9(n._query),e9(t,n._query).then(s=>new v9(e,r,n,s))}function C_(n,e,t){n=ds(n,lr);const r=ds(n.firestore,tf),s=y9(n.converter,e);return cI(r,[c9(u9(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bi.none())])}function S9(n){return cI(ds(n.firestore,tf),[new i_(n._key,bi.none())])}function cI(n,e){return function(r,s){const o=new ea;return r.asyncQueue.enqueueAndForget(async()=>FU(await ZU(r),s,o)),o.promise}(S_(n),e)}function T9(n,e,t){const r=t.docs.get(e._key),s=new uI(n);return new lI(n,s,e._key,r,new uc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ql=s})(Fl),Al(new no("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new tf(new c3(r.getProvider("auth-internal")),new d3(u,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(g.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),es(W1,Z1,e),es(W1,Z1,"esm2017")})();const kl=i9(IR),w9=async n=>{const{song:e,loggedUser:t}=n,{uid:r}=t;return await C_(ef(kl,"users",r,"songs",e.id),e),e},A9=async n=>{const{email:e,password:t,username:r}=n,{uid:s}=await xR(e,t);await C_(ef(kl,"users",s),{uid:s,username:r,email:e})},R9=async n=>{const{id:e,loggedUser:t}=n,{uid:r}=t;return await S9(ef(kl,"users",r,"songs",e)),{id:e}},fI=async n=>{const e=ef(kl,"users",n),t=await E9(e);if(t.exists()){const r=await t.data(),s=r9(kl,"users",n,"songs"),u=(await b9(s)).docs.map(f=>f.data());return{...r,songs:u}}return null},C9=async n=>{const{song:e,loggedUser:t}=n,{uid:r}=t;return await C_(ef(kl,"users",r,"songs",e.id),e),e},I9=async n=>{const{email:e,password:t}=n,r=await fa.auth.signIn(e,t);return await fI(r.uid)},x9=Object.freeze(Object.defineProperty({__proto__:null,addSong:w9,addUser:A9,deleteSong:R9,loadUser:fI,saveSong:C9,signInUser:I9},Symbol.toStringTag,{value:"Module"})),fa={auth:o3,user:x9},O9=async n=>await fa.user.addSong(n),D9=async n=>await fa.user.deleteSong(n),N9=async n=>await fa.user.saveSong(n),P9=async n=>{const{uid:e}=n;return await fa.user.loadUser(e)},M9=async n=>{const{email:e,password:t}=n;return await fa.user.signInUser({email:e,password:t})},k9=async()=>{await fa.auth.signOut()},L9=async n=>{await fa.user.addUser(n)},{t:V9}=Pt,U9={addSongStatus:ft.IDLE,addSongError:null},Yh={addSong:go(`${em}/addSong`,async n=>await O9(n))},j9={clearAddSongError:n=>{n.addSongError=null},clearAddSongStatus:n=>{n.addSongStatus=ft.IDLE},setAddSongError:(n,e)=>{n.addSongError=e.payload}},z9={addAddSongCases:n=>{n.addCase(Yh.addSong.pending,e=>{e.addSongStatus=ft.LOADING,e.addSongError=null}).addCase(Yh.addSong.fulfilled,(e,t)=>{e.addSongStatus=ft.SUCCEEDED,e.songs.push(t.payload)}).addCase(Yh.addSong.rejected,(e,t)=>{e.addSongStatus=ft.FAILED,e.addSongError=V9(`error-message.add-song.${t.error.message}`)})}},F9={selectAddSongError:n=>n.songs.addSongError,selectAddSongStatus:n=>n.songs.addSongStatus},Vc={asyncThunk:Yh,extraReducers:z9,initialState:U9,reducers:j9,selectors:F9},{t:B9}=Pt,H9={deleteSongStatus:ft.IDLE,deleteSongError:null},Qh={deleteSong:go(`${em}/deleteSong`,async n=>await D9(n))},q9={clearDeleteSongError:n=>{n.deleteSongError=null},clearDeleteSongStatus:n=>{n.deleteSongStatus=ft.IDLE}},$9={addDeleteSongCases:n=>{n.addCase(Qh.deleteSong.pending,e=>{e.deleteSongStatus=ft.LOADING,e.deleteSongError=null}).addCase(Qh.deleteSong.fulfilled,(e,t)=>{e.deleteSongStatus=ft.SUCCEEDED;const r=e.songs.findIndex(s=>s.id==t.payload.id);e.songs.splice(r,1)}).addCase(Qh.deleteSong.rejected,(e,t)=>{e.deleteSongStatus=ft.FAILED,e.deleteSongError=B9(`error-message.delete-song.${t.error.message}`)})}},G9={selectDeleteSongError:n=>n.songs.deleteSongError},Ll={asyncThunk:Qh,extraReducers:$9,initialState:H9,reducers:q9,selectors:G9},K9={songs:[]},Y9={loadSongs:(n,e)=>{n.songs=e.payload}},Q9={selectAllSongs:n=>n.songs.songs,selectSongById:n=>e=>e.songs.songs.find(t=>t.id===n),selectSongsError:n=>n.songs.songsError,selectSongsStatus:n=>n.songs.songsStatus},I_={initialState:K9,reducers:Y9,selectors:Q9},{t:X9}=Pt,W9={saveSongStatus:ft.IDLE,saveSongError:null},Xh={saveSong:go(`${em}/saveSong`,async n=>await N9(n))},Z9={clearSaveSongError:n=>{n.saveSongError=null},clearSaveSongStatus:n=>{n.saveSongStatus=ft.IDLE}},J9={addSaveSongCases:n=>{n.addCase(Xh.saveSong.pending,e=>{e.saveSongStatus=ft.LOADING,e.saveSongError=null}).addCase(Xh.saveSong.fulfilled,(e,t)=>{e.saveSongStatus=ft.SUCCEEDED;const r=t.payload,s=e.songs.find(o=>o.id===r.id);s.notes=r.notes,s.isNewSong=!1}).addCase(Xh.saveSong.rejected,(e,t)=>{e.saveSongStatus=ft.FAILED,e.saveSongError=X9(`error-message.save-song.${t.error.message}`)})}},e5={selectSaveSongError:n=>n.songs.saveSongError,selectSaveSongStatus:n=>n.songs.saveSongStatus},Uc={asyncThunk:Xh,extraReducers:J9,initialState:W9,reducers:Z9,selectors:e5},t5={...I_.initialState,...Vc.initialState,...Uc.initialState,...Ll.initialState},hI=vR({name:em,initialState:t5,reducers:{...Vc.reducers,...Ll.reducers,...I_.reducers,...Uc.reducers},extraReducers(n){Vc.extraReducers.addAddSongCases(n),Uc.extraReducers.addSaveSongCases(n),Ll.extraReducers.addDeleteSongCases(n)}}),n5=hI.reducer,zr={...hI.actions,...Vc.asyncThunk,...Uc.asyncThunk,...Ll.asyncThunk},rs={...Vc.selectors,...Ll.selectors,...Ll.selectors,...I_.selectors,...Uc.selectors},nf="user",{t:r5}=Pt,i5={loggedUser:null,loggedUserStatus:ft.IDLE,loggedUserError:null},Wh={loadUser:go(`${nf}/loadUser`,async n=>await P9(n))},a5={addLoggedUserCases:n=>{n.addCase(Wh.loadUser.pending,e=>{e.loggedUserStatus=ft.LOADING}).addCase(Wh.loadUser.fulfilled,(e,t)=>{e.loggedUserStatus=ft.SUCCEEDED,e.loggedUser=t.payload}).addCase(Wh.loadUser.rejected,(e,t)=>{e.loggedUserStatus=ft.FAILED,e.loggedUserError=r5(`error-message.logged-user.${t.error.message}`)})}},s5={selectLoggedUser:n=>n.users.loggedUser,isLoggedIn:n=>!!n.users.loggedUser},ym={initialState:i5,asyncThunk:Wh,extraReducers:a5,selectors:s5},{t:o5}=Pt,l5={signInStatus:ft.IDLE,signInError:null},Zh={signInUser:go(`${nf}/signInUser`,async n=>await M9(n))},u5={addSignInUserCases:n=>{n.addCase(Zh.signInUser.pending,e=>{e.signInStatus=ft.LOADING}).addCase(Zh.signInUser.fulfilled,(e,t)=>{e.signInStatus=ft.SUCCEEDED,e.loggedUser=t.payload}).addCase(Zh.signInUser.rejected,(e,t)=>{e.signInStatus=ft.FAILED,e.signInError=o5(`error-message.sing-in-user.${t.error.message}`)})}},jc={asyncThunk:Zh,extraReducers:u5,initialState:l5},{t:c5}=Pt,f5={signOutStatus:ft.IDLE,signOutError:null},Jh={signOutUser:go(`${nf}/signOut`,async()=>await k9())},h5=n=>{n.addCase(Jh.signOutUser.pending,e=>{e.signOutStatus=ft.LOADING}).addCase(Jh.signOutUser.fulfilled,e=>{e.signOutStatus=ft.SUCCEEDED,e.loggedUser=null}).addCase(Jh.signOutUser.rejected,(e,t)=>{e.signOutStatus=ft.FAILED,e.loggedUserError=c5(`error-message.sign-out-user.${t.error.message}`)})},Ld={initialState:f5,asyncThunk:Jh,extraReducers:h5},{t:d5}=Pt,m5={signUpStatus:ft.IDLE,signUpError:null},ed={signUpUser:go(`${nf}/signUpUser`,async n=>await L9(n))},g5={addSignUpUserCases:n=>{n.addCase(ed.signUpUser.pending,e=>{e.signUpStatus=ft.LOADING}).addCase(ed.signUpUser.fulfilled,e=>{e.signUpStatus=ft.SUCCEEDED}).addCase(ed.signUpUser.rejected,(e,t)=>{e.signUpStatus=ft.FAILED,e.signUpError=d5(`error-message.sign-up-user.${t.error.message}`)})}},x_={asyncThunk:ed,extraReducers:g5,initialState:m5},p5={...ym.initialState,...x_.initialState,...jc.initialState,...Ld.initialState},dI=vR({name:nf,initialState:p5,reducers:{...jc.reducers,...Ld.reducers},extraReducers(n){x_.extraReducers.addSignUpUserCases(n),jc.extraReducers.addSignInUserCases(n),ym.extraReducers.addLoggedUserCases(n),Ld.extraReducers(n)}}),y5=dI.reducer,Vd={...dI.actions,...x_.asyncThunk,...jc.asyncThunk,...ym.asyncThunk,...Ld.asyncThunk},Vl={...jc.selectors,...ym.selectors},Jy="growl-container",mI=Object.freeze({ERROR:"ERROR",INFO:"INFO",SUCCESS:"SUCCESS",WARN:"WARN"}),v5=5e3,_5="_GrowlContainer_kayqm_1",E5="_Growl_kayqm_1",b5="_GrowlClose_kayqm_38",ev={GrowlContainer:_5,Growl:E5,GrowlClose:b5},S5=n=>{const{children:e}=n;return H.jsx("div",{id:Jy,className:ev.GrowlContainer,children:e})},T5=n=>{const{level:e,message:t,onCloseGrowl:r,fixed:s=!1}=n;return x.useEffect(()=>{s||setTimeout(()=>{r()},v5)},[s,r]),t?H.jsxs("div",{className:ev.Growl,"data-level":e,children:[H.jsx("button",{type:"button",className:ev.GrowlClose,onClick:r,children:"x"}),t]}):H.jsx(H.Fragment,{})},w5=x.memo(S5),A5=x.memo(T5),gI=n=>{const{fixed:e,level:t,message:r,onCloseGrowl:s}=n;return!t||!r?H.jsx(H.Fragment,{}):document.getElementById(Jy)?aR.createPortal(H.jsx(A5,{fixed:e,level:t,message:r,onCloseGrowl:s}),document.getElementById(Jy)):H.jsx(H.Fragment,{})},O_=n=>{const{message:e,onCloseGrowl:t,fixed:r=!0}=n;return gI({fixed:r,message:e,level:mI.ERROR,onCloseGrowl:t})},pI=n=>{const{requestStatus:e,onCloseGrowl:t}=n;return e!=ft.SUCCEEDED?H.jsx(H.Fragment,{}):R5({message:"Saved",onCloseGrowl:t})},R5=n=>{const{message:e,onCloseGrowl:t,fixed:r=!1}=n;return gI({fixed:r,message:e,level:mI.SUCCESS,onCloseGrowl:t})},C5=n=>{const{deleteSongDialogFnsRef:e,song:t}=n,{t:r}=Tn(),s=jl(),o=Gn(Vl.selectLoggedUser),u=Gn(rs.selectDeleteSongError),[f,d]=x.useState(!1);x.useImperativeHandle(e,()=>({show(){d(!0)}}));const g=x.useCallback(()=>{s(zr.deleteSong({loggedUser:o,id:t.id}))},[s,o,t.id]),y=x.useCallback(()=>{s(zr.clearDeleteSongError())},[s]);return f?H.jsxs(H.Fragment,{children:[H.jsx(sR,{bodyContent:H.jsxs(H.Fragment,{children:[H.jsx("p",{children:r("Are you sure you want to delete this song?")}),H.jsx("p",{children:r("This action cannot be undone")})]}),footerContent:H.jsxs(H.Fragment,{children:[H.jsx(nn,{category:tn.DANGER,onClick:g,children:r("Delete Song")}),H.jsx(nn,{category:tn.DEFAULT,onClick:()=>d(!1),children:r("Cancel")})]})}),O_({message:u,onCloseGrowl:y})]}):H.jsx(H.Fragment,{})},I5=x.memo(C5),x5="_LyricsTextArea_1db4r_1",O5={LyricsTextArea:x5},D5=n=>{const{show:e,generateChartDialogFnsRef:t}=n,{onAddWordsAsNotes:r}=n,{t:s}=Tn(),o=x.useRef(null),[u,f]=x.useState(e);x.useImperativeHandle(t,()=>({show(){f(!0)}}));const d=x.useCallback(g=>{var y;o.current&&(r((y=o.current)==null?void 0:y.value),g.target.value="",f(!1))},[r]);return u?H.jsx(Gv,{title:s("Generate mapping with lyrics"),bodyContent:H.jsx(H.Fragment,{children:H.jsx("textarea",{ref:o,className:O5.LyricsTextArea,placeholder:s("Song lyrics")})}),footerContent:H.jsxs(H.Fragment,{children:[H.jsx(nn,{category:tn.DANGER,onClick:d,children:s("Generate")}),H.jsx(nn,{category:tn.DEFAULT,onClick:()=>f(!1),children:s("Cancel")})]})}):H.jsx(H.Fragment,{})},N5=x.memo(D5),P5=n=>{const{show:e,onConfirm:t,onCancel:r}=n,{t:s}=Tn();return e?H.jsx(sR,{bodyContent:H.jsxs(H.Fragment,{children:[H.jsx("p",{children:s("Are you sure you want to leave this page?")}),H.jsx("p",{children:s("Some unsaved changes will be lost")})]}),footerContent:H.jsxs(H.Fragment,{children:[H.jsx(nn,{category:tn.DANGER,onClick:t,children:s("Leave Page")}),H.jsx(nn,{category:tn.DEFAULT,onClick:r,children:s("Cancel")})]})}):H.jsx(H.Fragment,{})},M5=x.memo(P5),tv=n=>n==ft.LOADING;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const k5={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},L5={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function V5(n,e,t){return(e=j5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(t),!0).forEach(function(r){V5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function j5(n){var e=U5(n,"string");return typeof e=="symbol"?e:e+""}const YT=()=>{};let D_={},yI={},vI=null,_I={mark:YT,measure:YT};try{typeof window<"u"&&(D_=window),typeof document<"u"&&(yI=document),typeof MutationObserver<"u"&&(vI=MutationObserver),typeof performance<"u"&&(_I=performance)}catch{}const{userAgent:QT=""}=D_.navigator||{},ms=D_,xt=yI,XT=vI,Ph=_I;ms.document;const ha=!!xt.documentElement&&!!xt.head&&typeof xt.addEventListener=="function"&&typeof xt.createElement=="function",EI=~QT.indexOf("MSIE")||~QT.indexOf("Trident/");var z5=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,F5=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,bI={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},B5={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},SI=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Pn="classic",vm="duotone",H5="sharp",q5="sharp-duotone",TI=[Pn,vm,H5,q5],$5={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},G5={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},K5=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Y5={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Q5=["fak","fa-kit","fakd","fa-kit-duotone"],WT={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},X5=["kit"],W5={kit:{"fa-kit":"fak"}},Z5=["fak","fakd"],J5={kit:{fak:"fa-kit"}},ZT={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Mh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ej=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],tj=["fak","fa-kit","fakd","fa-kit-duotone"],nj={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},rj={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},ij={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},nv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},aj=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],rv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...ej,...aj],sj=["solid","regular","light","thin","duotone","brands"],wI=[1,2,3,4,5,6,7,8,9,10],oj=wI.concat([11,12,13,14,15,16,17,18,19,20]),lj=[...Object.keys(ij),...sj,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Mh.GROUP,Mh.SWAP_OPACITY,Mh.PRIMARY,Mh.SECONDARY].concat(wI.map(n=>"".concat(n,"x"))).concat(oj.map(n=>"w-".concat(n))),uj={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const sa="___FONT_AWESOME___",iv=16,AI="fa",RI="svg-inline--fa",co="data-fa-i2svg",av="data-fa-pseudo-element",cj="data-fa-pseudo-element-pending",N_="data-prefix",P_="data-icon",JT="fontawesome-i2svg",fj="async",hj=["HTML","HEAD","STYLE","SCRIPT"],CI=(()=>{try{return!0}catch{return!1}})();function rf(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[Pn]}})}const II=ge({},bI);II[Pn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),bI[Pn]),WT.kit),WT["kit-duotone"]);const dj=rf(II),sv=ge({},Y5);sv[Pn]=ge(ge(ge(ge({},{duotone:"fad"}),sv[Pn]),ZT.kit),ZT["kit-duotone"]);const ew=rf(sv),ov=ge({},nv);ov[Pn]=ge(ge({},ov[Pn]),J5.kit);const M_=rf(ov),lv=ge({},rj);lv[Pn]=ge(ge({},lv[Pn]),W5.kit);rf(lv);const mj=z5,xI="fa-layers-text",gj=F5,pj=ge({},$5);rf(pj);const yj=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Jp=B5,vj=[...X5,...lj],_c=ms.FontAwesomeConfig||{};function _j(n){var e=xt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function Ej(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}xt&&typeof xt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const s=Ej(_j(t));s!=null&&(_c[r]=s)});const OI={styleDefault:"solid",familyDefault:Pn,cssPrefix:AI,replacementClass:RI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_c.familyPrefix&&(_c.cssPrefix=_c.familyPrefix);const Ul=ge(ge({},OI),_c);Ul.autoReplaceSvg||(Ul.observeMutations=!1);const Ae={};Object.keys(OI).forEach(n=>{Object.defineProperty(Ae,n,{enumerable:!0,set:function(e){Ul[n]=e,Ec.forEach(t=>t(Ae))},get:function(){return Ul[n]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(n){Ul.cssPrefix=n,Ec.forEach(e=>e(Ae))},get:function(){return Ul.cssPrefix}});ms.FontAwesomeConfig=Ae;const Ec=[];function bj(n){return Ec.push(n),()=>{Ec.splice(Ec.indexOf(n),1)}}const qa=iv,gi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Sj(n){if(!n||!ha)return;const e=xt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=xt.head.childNodes;let r=null;for(let s=t.length-1;s>-1;s--){const o=t[s],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=o)}return xt.head.insertBefore(e,r),n}const Tj="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function zc(){let n=12,e="";for(;n-- >0;)e+=Tj[Math.random()*62|0];return e}function Yl(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function k_(n){return n.classList?Yl(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function DI(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wj(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(DI(n[t]),'" '),"").trim()}function _m(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function L_(n){return n.size!==gi.size||n.x!==gi.x||n.y!==gi.y||n.rotate!==gi.rotate||n.flipX||n.flipY}function Aj(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const s={transform:"translate(".concat(t/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(o," ").concat(u," ").concat(f)},g={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:d,path:g}}function Rj(n){let{transform:e,width:t=iv,height:r=iv,startCentered:s=!1}=n,o="";return s&&EI?o+="translate(".concat(e.x/qa-t/2,"em, ").concat(e.y/qa-r/2,"em) "):s?o+="translate(calc(-50% + ".concat(e.x/qa,"em), calc(-50% + ").concat(e.y/qa,"em)) "):o+="translate(".concat(e.x/qa,"em, ").concat(e.y/qa,"em) "),o+="scale(".concat(e.size/qa*(e.flipX?-1:1),", ").concat(e.size/qa*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var Cj=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function NI(){const n=AI,e=RI,t=Ae.cssPrefix,r=Ae.replacementClass;let s=Cj;if(t!==n||r!==e){const o=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(f,".".concat(r))}return s}let tw=!1;function ey(){Ae.autoAddCss&&!tw&&(Sj(NI()),tw=!0)}var Ij={mixout(){return{dom:{css:NI,insertCss:ey}}},hooks(){return{beforeDOMElementCreation(){ey()},beforeI2svg(){ey()}}}};const oa=ms||{};oa[sa]||(oa[sa]={});oa[sa].styles||(oa[sa].styles={});oa[sa].hooks||(oa[sa].hooks={});oa[sa].shims||(oa[sa].shims=[]);var pi=oa[sa];const PI=[],MI=function(){xt.removeEventListener("DOMContentLoaded",MI),Ud=1,PI.map(n=>n())};let Ud=!1;ha&&(Ud=(xt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xt.readyState),Ud||xt.addEventListener("DOMContentLoaded",MI));function xj(n){ha&&(Ud?setTimeout(n,0):PI.push(n))}function af(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?DI(n):"<".concat(e," ").concat(wj(t),">").concat(r.map(af).join(""),"</").concat(e,">")}function nw(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var ty=function(e,t,r,s){var o=Object.keys(e),u=o.length,f=t,d,g,y;for(r===void 0?(d=1,y=e[o[0]]):(d=0,y=r);d<u;d++)g=o[d],y=f(y,e[g],g,e);return y};function Oj(n){const e=[];let t=0;const r=n.length;for(;t<r;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){const o=n.charCodeAt(t++);(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function uv(n){const e=Oj(n);return e.length===1?e[0].toString(16):null}function Dj(n,e){const t=n.length;let r=n.charCodeAt(e),s;return r>=55296&&r<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function rw(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function cv(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,s=rw(e);typeof pi.hooks.addPack=="function"&&!r?pi.hooks.addPack(n,rw(e)):pi.styles[n]=ge(ge({},pi.styles[n]||{}),s),n==="fas"&&cv("fa",e)}const{styles:Fc,shims:Nj}=pi,kI=Object.keys(M_),Pj=kI.reduce((n,e)=>(n[e]=Object.keys(M_[e]),n),{});let V_=null,LI={},VI={},UI={},jI={},zI={};function Mj(n){return~vj.indexOf(n)}function kj(n,e){const t=e.split("-"),r=t[0],s=t.slice(1).join("-");return r===n&&s!==""&&!Mj(s)?s:null}const FI=()=>{const n=r=>ty(Fc,(s,o,u)=>(s[u]=ty(o,r,{}),s),{});LI=n((r,s,o)=>(s[3]&&(r[s[3]]=o),s[2]&&s[2].filter(f=>typeof f=="number").forEach(f=>{r[f.toString(16)]=o}),r)),VI=n((r,s,o)=>(r[o]=o,s[2]&&s[2].filter(f=>typeof f=="string").forEach(f=>{r[f]=o}),r)),zI=n((r,s,o)=>{const u=s[2];return r[o]=o,u.forEach(f=>{r[f]=o}),r});const e="far"in Fc||Ae.autoFetchSvg,t=ty(Nj,(r,s)=>{const o=s[0];let u=s[1];const f=s[2];return u==="far"&&!e&&(u="fas"),typeof o=="string"&&(r.names[o]={prefix:u,iconName:f}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:u,iconName:f}),r},{names:{},unicodes:{}});UI=t.names,jI=t.unicodes,V_=Em(Ae.styleDefault,{family:Ae.familyDefault})};bj(n=>{V_=Em(n.styleDefault,{family:Ae.familyDefault})});FI();function U_(n,e){return(LI[n]||{})[e]}function Lj(n,e){return(VI[n]||{})[e]}function Js(n,e){return(zI[n]||{})[e]}function BI(n){return UI[n]||{prefix:null,iconName:null}}function Vj(n){const e=jI[n],t=U_("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function gs(){return V_}const HI=()=>({prefix:null,iconName:null,rest:[]});function Uj(n){let e=Pn;const t=kI.reduce((r,s)=>(r[s]="".concat(Ae.cssPrefix,"-").concat(s),r),{});return TI.forEach(r=>{(n.includes(t[r])||n.some(s=>Pj[r].includes(s)))&&(e=r)}),e}function Em(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Pn}=e,r=dj[t][n];if(t===vm&&!n)return"fad";const s=ew[t][n]||ew[t][r],o=n in pi.styles?n:null;return s||o||null}function jj(n){let e=[],t=null;return n.forEach(r=>{const s=kj(Ae.cssPrefix,r);s?t=s:r&&e.push(r)}),{iconName:t,rest:e}}function iw(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function bm(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const s=rv.concat(tj),o=iw(n.filter(_=>s.includes(_))),u=iw(n.filter(_=>!rv.includes(_))),f=o.filter(_=>(r=_,!SI.includes(_))),[d=null]=f,g=Uj(o),y=ge(ge({},jj(u)),{},{prefix:Em(d,{family:g})});return ge(ge(ge({},y),Hj({values:n,family:g,styles:Fc,config:Ae,canonical:y,givenPrefix:r})),zj(t,r,y))}function zj(n,e,t){let{prefix:r,iconName:s}=t;if(n||!r||!s)return{prefix:r,iconName:s};const o=e==="fa"?BI(s):{},u=Js(r,s);return s=o.iconName||u||s,r=o.prefix||r,r==="far"&&!Fc.far&&Fc.fas&&!Ae.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const Fj=TI.filter(n=>n!==Pn||n!==vm),Bj=Object.keys(nv).filter(n=>n!==Pn).map(n=>Object.keys(nv[n])).flat();function Hj(n){const{values:e,family:t,canonical:r,givenPrefix:s="",styles:o={},config:u={}}=n,f=t===vm,d=e.includes("fa-duotone")||e.includes("fad"),g=u.familyDefault==="duotone",y=r.prefix==="fad"||r.prefix==="fa-duotone";if(!f&&(d||g||y)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Fj.includes(t)&&(Object.keys(o).find(E=>Bj.includes(E))||u.autoFetchSvg)){const E=K5.get(t).defaultShortPrefixId;r.prefix=E,r.iconName=Js(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=gs()||"fas"),r}class qj{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=ge(ge({},this.definitions[o]||{}),s[o]),cv(o,s[o]);const u=M_[Pn][o];u&&cv(u,s[o]),FI()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(s=>{const{prefix:o,iconName:u,icon:f}=r[s],d=f[2];e[o]||(e[o]={}),d.length>0&&d.forEach(g=>{typeof g=="string"&&(e[o][g]=f)}),e[o][u]=f}),e}}let aw=[],pl={};const wl={},$j=Object.keys(wl);function Gj(n,e){let{mixoutsTo:t}=e;return aw=n,pl={},Object.keys(wl).forEach(r=>{$j.indexOf(r)===-1&&delete wl[r]}),aw.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(t[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(u=>{t[o]||(t[o]={}),t[o][u]=s[o][u]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(u=>{pl[u]||(pl[u]=[]),pl[u].push(o[u])})}r.provides&&r.provides(wl)}),t}function fv(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];return(pl[n]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function fo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(pl[n]||[]).forEach(o=>{o.apply(null,t)})}function ps(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return wl[n]?wl[n].apply(null,e):void 0}function hv(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||gs();if(e)return e=Js(t,e)||e,nw(qI.definitions,t,e)||nw(pi.styles,t,e)}const qI=new qj,Kj=()=>{Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,fo("noAuto")},Yj={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ha?(fo("beforeI2svg",n),ps("pseudoElements2svg",n),ps("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,xj(()=>{Xj({autoReplaceSvgRoot:e}),fo("watch",n)})}},Qj={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Js(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=Em(n[0]);return{prefix:t,iconName:Js(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Ae.cssPrefix,"-"))>-1||n.match(mj))){const e=bm(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||gs(),iconName:Js(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=gs();return{prefix:e,iconName:Js(e,n)||n}}}},fr={noAuto:Kj,config:Ae,dom:Yj,parse:Qj,library:qI,findIconDefinition:hv,toHtml:af},Xj=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=xt}=n;(Object.keys(pi.styles).length>0||Ae.autoFetchSvg)&&ha&&Ae.autoReplaceSvg&&fr.dom.i2svg({node:e})};function Sm(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>af(t))}}),Object.defineProperty(n,"node",{get:function(){if(!ha)return;const t=xt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function Wj(n){let{children:e,main:t,mask:r,attributes:s,styles:o,transform:u}=n;if(L_(u)&&t.found&&!r.found){const{width:f,height:d}=t,g={x:f/d/2,y:.5};s.style=_m(ge(ge({},o),{},{"transform-origin":"".concat(g.x+u.x/16,"em ").concat(g.y+u.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Zj(n){let{prefix:e,iconName:t,children:r,attributes:s,symbol:o}=n;const u=o===!0?"".concat(e,"-").concat(Ae.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},s),{},{id:u}),children:r}]}]}function j_(n){const{icons:{main:e,mask:t},prefix:r,iconName:s,transform:o,symbol:u,title:f,maskId:d,titleId:g,extra:y,watchable:_=!1}=n,{width:E,height:T}=t.found?t:e,A=Z5.includes(r),k=[Ae.replacementClass,s?"".concat(Ae.cssPrefix,"-").concat(s):""].filter(X=>y.classes.indexOf(X)===-1).filter(X=>X!==""||!!X).concat(y.classes).join(" ");let M={children:[],attributes:ge(ge({},y.attributes),{},{"data-prefix":r,"data-icon":s,class:k,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(T)})};const U=A&&!~y.classes.indexOf("fa-fw")?{width:"".concat(E/T*16*.0625,"em")}:{};_&&(M.attributes[co]=""),f&&(M.children.push({tag:"title",attributes:{id:M.attributes["aria-labelledby"]||"title-".concat(g||zc())},children:[f]}),delete M.attributes.title);const J=ge(ge({},M),{},{prefix:r,iconName:s,main:e,mask:t,maskId:d,transform:o,symbol:u,styles:ge(ge({},U),y.styles)}),{children:Y,attributes:re}=t.found&&e.found?ps("generateAbstractMask",J)||{children:[],attributes:{}}:ps("generateAbstractIcon",J)||{children:[],attributes:{}};return J.children=Y,J.attributes=re,u?Zj(J):Wj(J)}function sw(n){const{content:e,width:t,height:r,transform:s,title:o,extra:u,watchable:f=!1}=n,d=ge(ge(ge({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});f&&(d[co]="");const g=ge({},u.styles);L_(s)&&(g.transform=Rj({transform:s,startCentered:!0,width:t,height:r}),g["-webkit-transform"]=g.transform);const y=_m(g);y.length>0&&(d.style=y);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),o&&_.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),_}function Jj(n){const{content:e,title:t,extra:r}=n,s=ge(ge(ge({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),o=_m(r.styles);o.length>0&&(s.style=o);const u=[];return u.push({tag:"span",attributes:s,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}const{styles:ny}=pi;function dv(n){const e=n[0],t=n[1],[r]=n.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Jp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Jp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Jp.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:s}}const e7={found:!1,width:512,height:512};function t7(n,e){!CI&&!Ae.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function mv(n,e){let t=e;return e==="fa"&&Ae.styleDefault!==null&&(e=gs()),new Promise((r,s)=>{if(t==="fa"){const o=BI(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&ny[e]&&ny[e][n]){const o=ny[e][n];return r(dv(o))}t7(n,e),r(ge(ge({},e7),{},{icon:Ae.showMissingIcons&&n?ps("missingIconAbstract")||{}:{}}))})}const ow=()=>{},gv=Ae.measurePerformance&&Ph&&Ph.mark&&Ph.measure?Ph:{mark:ow,measure:ow},cc='FA "6.7.2"',n7=n=>(gv.mark("".concat(cc," ").concat(n," begins")),()=>$I(n)),$I=n=>{gv.mark("".concat(cc," ").concat(n," ends")),gv.measure("".concat(cc," ").concat(n),"".concat(cc," ").concat(n," begins"),"".concat(cc," ").concat(n," ends"))};var z_={begin:n7,end:$I};const td=()=>{};function lw(n){return typeof(n.getAttribute?n.getAttribute(co):null)=="string"}function r7(n){const e=n.getAttribute?n.getAttribute(N_):null,t=n.getAttribute?n.getAttribute(P_):null;return e&&t}function i7(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ae.replacementClass)}function a7(){return Ae.autoReplaceSvg===!0?nd.replace:nd[Ae.autoReplaceSvg]||nd.replace}function s7(n){return xt.createElementNS("http://www.w3.org/2000/svg",n)}function o7(n){return xt.createElement(n)}function GI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?s7:o7}=e;if(typeof n=="string")return xt.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){r.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){r.appendChild(GI(o,{ceFn:t}))}),r}function l7(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const nd={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(GI(t),e)}),e.getAttribute(co)===null&&Ae.keepOriginalSource){let t=xt.createComment(l7(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~k_(e).indexOf(Ae.replacementClass))return nd.replace(n);const r=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const o=t[0].attributes.class.split(" ").reduce((u,f)=>(f===Ae.replacementClass||f.match(r)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});t[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const s=t.map(o=>af(o)).join(`
`);e.setAttribute(co,""),e.innerHTML=s}};function uw(n){n()}function KI(n,e){const t=typeof e=="function"?e:td;if(n.length===0)t();else{let r=uw;Ae.mutateApproach===fj&&(r=ms.requestAnimationFrame||uw),r(()=>{const s=a7(),o=z_.begin("mutate");n.map(s),o(),t()})}}let F_=!1;function YI(){F_=!0}function pv(){F_=!1}let jd=null;function cw(n){if(!XT||!Ae.observeMutations)return;const{treeCallback:e=td,nodeCallback:t=td,pseudoElementsCallback:r=td,observeMutationsRoot:s=xt}=n;jd=new XT(o=>{if(F_)return;const u=gs();Yl(o).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!lw(f.addedNodes[0])&&(Ae.searchPseudoElements&&r(f.target),e(f.target)),f.type==="attributes"&&f.target.parentNode&&Ae.searchPseudoElements&&r(f.target.parentNode),f.type==="attributes"&&lw(f.target)&&~yj.indexOf(f.attributeName))if(f.attributeName==="class"&&r7(f.target)){const{prefix:d,iconName:g}=bm(k_(f.target));f.target.setAttribute(N_,d||u),g&&f.target.setAttribute(P_,g)}else i7(f.target)&&t(f.target)})}),ha&&jd.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function u7(){jd&&jd.disconnect()}function c7(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,s)=>{const o=s.split(":"),u=o[0],f=o.slice(1);return u&&f.length>0&&(r[u]=f.join(":").trim()),r},{})),t}function f7(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let s=bm(k_(n));return s.prefix||(s.prefix=gs()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Lj(s.prefix,n.innerText)||U_(s.prefix,uv(n.innerText))),!s.iconName&&Ae.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function h7(n){const e=Yl(n.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Ae.autoA11y&&(t?e["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(r||zc()):(e["aria-hidden"]="true",e.focusable="false")),e}function d7(){return{iconName:null,title:null,titleId:null,prefix:null,transform:gi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function fw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:s}=f7(n),o=h7(n),u=fv("parseNodeAttributes",{},n);let f=e.styleParser?c7(n):[];return ge({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:gi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:o}},u)}const{styles:m7}=pi;function QI(n){const e=Ae.autoReplaceSvg==="nest"?fw(n,{styleParser:!1}):fw(n);return~e.extra.classes.indexOf(xI)?ps("generateLayersText",n,e):ps("generateSvgReplacementMutation",n,e)}function g7(){return[...Q5,...rv]}function hw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ha)return Promise.resolve();const t=xt.documentElement.classList,r=y=>t.add("".concat(JT,"-").concat(y)),s=y=>t.remove("".concat(JT,"-").concat(y)),o=Ae.autoFetchSvg?g7():SI.concat(Object.keys(m7));o.includes("fa")||o.push("fa");const u=[".".concat(xI,":not([").concat(co,"])")].concat(o.map(y=>".".concat(y,":not([").concat(co,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=Yl(n.querySelectorAll(u))}catch{}if(f.length>0)r("pending"),s("complete");else return Promise.resolve();const d=z_.begin("onTree"),g=f.reduce((y,_)=>{try{const E=QI(_);E&&y.push(E)}catch(E){CI||E.name==="MissingIcon"&&console.error(E)}return y},[]);return new Promise((y,_)=>{Promise.all(g).then(E=>{KI(E,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),d(),y()})}).catch(E=>{d(),_(E)})})}function p7(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;QI(n).then(t=>{t&&KI([t],e)})}function y7(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:hv(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:hv(s||{})),n(r,ge(ge({},t),{},{mask:s}))}}const v7=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=gi,symbol:r=!1,mask:s=null,maskId:o=null,title:u=null,titleId:f=null,classes:d=[],attributes:g={},styles:y={}}=e;if(!n)return;const{prefix:_,iconName:E,icon:T}=n;return Sm(ge({type:"icon"},n),()=>(fo("beforeDOMElementCreation",{iconDefinition:n,params:e}),Ae.autoA11y&&(u?g["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(f||zc()):(g["aria-hidden"]="true",g.focusable="false")),j_({icons:{main:dv(T),mask:s?dv(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:E,transform:ge(ge({},gi),t),symbol:r,title:u,maskId:o,titleId:f,extra:{attributes:g,styles:y,classes:d}})))};var _7={mixout(){return{icon:y7(v7)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=hw,n.nodeCallback=p7,n}}},provides(n){n.i2svg=function(e){const{node:t=xt,callback:r=()=>{}}=e;return hw(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:s,titleId:o,prefix:u,transform:f,symbol:d,mask:g,maskId:y,extra:_}=t;return new Promise((E,T)=>{Promise.all([mv(r,u),g.iconName?mv(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(A=>{let[k,M]=A;E([e,j_({icons:{main:k,mask:M},prefix:u,iconName:r,transform:f,symbol:d,maskId:y,title:s,titleId:o,extra:_,watchable:!0})])}).catch(T)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:s,transform:o,styles:u}=e;const f=_m(u);f.length>0&&(r.style=f);let d;return L_(o)&&(d=ps("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),t.push(d||s.icon),{children:t,attributes:r}}}},E7={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Sm({type:"layer"},()=>{fo("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(s=>{Array.isArray(s)?s.map(o=>{r=r.concat(o.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},b7={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:s={},styles:o={}}=e;return Sm({type:"counter",content:n},()=>(fo("beforeDOMElementCreation",{content:n,params:e}),Jj({content:n.toString(),title:t,extra:{attributes:s,styles:o,classes:["".concat(Ae.cssPrefix,"-layers-counter"),...r]}})))}}}},S7={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=gi,title:r=null,classes:s=[],attributes:o={},styles:u={}}=e;return Sm({type:"text",content:n},()=>(fo("beforeDOMElementCreation",{content:n,params:e}),sw({content:n,transform:ge(ge({},gi),t),title:r,extra:{attributes:o,styles:u,classes:["".concat(Ae.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:s,extra:o}=t;let u=null,f=null;if(EI){const d=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();u=g.width/d,f=g.height/d}return Ae.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,sw({content:e.innerHTML,width:u,height:f,transform:s,title:r,extra:o,watchable:!0})])}}};const T7=new RegExp('"',"ug"),dw=[1105920,1112319],mw=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),G5),uj),nj),yv=Object.keys(mw).reduce((n,e)=>(n[e.toLowerCase()]=mw[e],n),{}),w7=Object.keys(yv).reduce((n,e)=>{const t=yv[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function A7(n){const e=n.replace(T7,""),t=Dj(e,0),r=t>=dw[0]&&t<=dw[1],s=e.length===2?e[0]===e[1]:!1;return{value:uv(s?e[0]:e),isSecondary:r||s}}function R7(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(yv[t]||{})[s]||w7[t]}function gw(n,e){const t="".concat(cj).concat(e.replace(":","-"));return new Promise((r,s)=>{if(n.getAttribute(t)!==null)return r();const u=Yl(n.children).filter(E=>E.getAttribute(av)===e)[0],f=ms.getComputedStyle(n,e),d=f.getPropertyValue("font-family"),g=d.match(gj),y=f.getPropertyValue("font-weight"),_=f.getPropertyValue("content");if(u&&!g)return n.removeChild(u),r();if(g&&_!=="none"&&_!==""){const E=f.getPropertyValue("content");let T=R7(d,y);const{value:A,isSecondary:k}=A7(E),M=g[0].startsWith("FontAwesome");let U=U_(T,A),J=U;if(M){const Y=Vj(A);Y.iconName&&Y.prefix&&(U=Y.iconName,T=Y.prefix)}if(U&&!k&&(!u||u.getAttribute(N_)!==T||u.getAttribute(P_)!==J)){n.setAttribute(t,J),u&&n.removeChild(u);const Y=d7(),{extra:re}=Y;re.attributes[av]=e,mv(U,T).then(X=>{const z=j_(ge(ge({},Y),{},{icons:{main:X,mask:HI()},prefix:T,iconName:J,extra:re,watchable:!0})),O=xt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(O,n.firstChild):n.appendChild(O),O.outerHTML=z.map(I=>af(I)).join(`
`),n.removeAttribute(t),r()}).catch(s)}else r()}else r()})}function C7(n){return Promise.all([gw(n,"::before"),gw(n,"::after")])}function I7(n){return n.parentNode!==document.head&&!~hj.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(av)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function pw(n){if(ha)return new Promise((e,t)=>{const r=Yl(n.querySelectorAll("*")).filter(I7).map(C7),s=z_.begin("searchPseudoElements");YI(),Promise.all(r).then(()=>{s(),pv(),e()}).catch(()=>{s(),pv(),t()})})}var x7={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=pw,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=xt}=e;Ae.searchPseudoElements&&pw(t)}}};let yw=!1;var O7={mixout(){return{dom:{unwatch(){YI(),yw=!0}}}},hooks(){return{bootstrap(){cw(fv("mutationObserverCallbacks",{}))},noAuto(){u7()},watch(n){const{observeMutationsRoot:e}=n;yw?pv():cw(fv("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const vw=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const s=r.toLowerCase().split("-"),o=s[0];let u=s.slice(1).join("-");if(o&&u==="h")return t.flipX=!0,t;if(o&&u==="v")return t.flipY=!0,t;if(u=parseFloat(u),isNaN(u))return t;switch(o){case"grow":t.size=t.size+u;break;case"shrink":t.size=t.size-u;break;case"left":t.x=t.x-u;break;case"right":t.x=t.x+u;break;case"up":t.y=t.y-u;break;case"down":t.y=t.y+u;break;case"rotate":t.rotate=t.rotate+u;break}return t},e)};var D7={mixout(){return{parse:{transform:n=>vw(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=vw(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:s,iconWidth:o}=e;const u={transform:"translate(".concat(s/2," 256)")},f="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),g="rotate(".concat(r.rotate," 0 0)"),y={transform:"".concat(f," ").concat(d," ").concat(g)},_={transform:"translate(".concat(o/2*-1," -256)")},E={outer:u,inner:y,path:_};return{tag:"g",attributes:ge({},E.outer),children:[{tag:"g",attributes:ge({},E.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ge(ge({},t.icon.attributes),E.path)}]}]}}}};const ry={x:0,y:0,width:"100%",height:"100%"};function _w(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function N7(n){return n.tag==="g"?n.children:[n]}var P7={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?bm(t.split(" ").map(s=>s.trim())):HI();return r.prefix||(r.prefix=gs()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:s,mask:o,maskId:u,transform:f}=e;const{width:d,icon:g}=s,{width:y,icon:_}=o,E=Aj({transform:f,containerWidth:y,iconWidth:d}),T={tag:"rect",attributes:ge(ge({},ry),{},{fill:"white"})},A=g.children?{children:g.children.map(_w)}:{},k={tag:"g",attributes:ge({},E.inner),children:[_w(ge({tag:g.tag,attributes:ge(ge({},g.attributes),E.path)},A))]},M={tag:"g",attributes:ge({},E.outer),children:[k]},U="mask-".concat(u||zc()),J="clip-".concat(u||zc()),Y={tag:"mask",attributes:ge(ge({},ry),{},{id:U,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,M]},re={tag:"defs",children:[{tag:"clipPath",attributes:{id:J},children:N7(_)},Y]};return t.push(re,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(J,")"),mask:"url(#".concat(U,")")},ry)}),{children:t,attributes:r}}}},M7={provides(n){let e=!1;ms.matchMedia&&(e=ms.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ge(ge({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;1;1;0;1;"})}),t.push(u),t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},k7={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},L7=[Ij,_7,E7,b7,S7,x7,O7,D7,P7,M7,k7];Gj(L7,{mixoutsTo:fr});fr.noAuto;fr.config;fr.library;fr.dom;const vv=fr.parse;fr.findIconDefinition;fr.toHtml;const V7=fr.icon;fr.layer;fr.text;fr.counter;var iy={exports:{}},ay,Ew;function U7(){if(Ew)return ay;Ew=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ay=n,ay}var sy,bw;function j7(){if(bw)return sy;bw=1;var n=U7();function e(){}function t(){}return t.resetWarningCache=e,sy=function(){function r(u,f,d,g,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},sy}var Sw;function z7(){return Sw||(Sw=1,iy.exports=j7()()),iy.exports}var F7=z7();const rt=Ow(F7);function Tw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function di(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(t),!0).forEach(function(r){yl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zd(n){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(n)}function yl(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B7(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function H7(n,e){if(n==null)return{};var t=B7(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _v(n){return q7(n)||$7(n)||G7(n)||K7()}function q7(n){if(Array.isArray(n))return Ev(n)}function $7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function G7(n,e){if(n){if(typeof n=="string")return Ev(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ev(n,e)}}function Ev(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function K7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(n){var e,t=n.beat,r=n.fade,s=n.beatFade,o=n.bounce,u=n.shake,f=n.flash,d=n.spin,g=n.spinPulse,y=n.spinReverse,_=n.pulse,E=n.fixedWidth,T=n.inverse,A=n.border,k=n.listItem,M=n.flip,U=n.size,J=n.rotation,Y=n.pull,re=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":u,"fa-flash":f,"fa-spin":d,"fa-spin-reverse":y,"fa-spin-pulse":g,"fa-pulse":_,"fa-fw":E,"fa-inverse":T,"fa-border":A,"fa-li":k,"fa-flip":M===!0,"fa-flip-horizontal":M==="horizontal"||M==="both","fa-flip-vertical":M==="vertical"||M==="both"},yl(e,"fa-".concat(U),typeof U<"u"&&U!==null),yl(e,"fa-rotate-".concat(J),typeof J<"u"&&J!==null&&J!==0),yl(e,"fa-pull-".concat(Y),typeof Y<"u"&&Y!==null),yl(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(re).map(function(X){return re[X]?X:null}).filter(function(X){return X})}function Q7(n){return n=n-0,n===n}function XI(n){return Q7(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var X7=["style"];function W7(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Z7(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),s=XI(t.slice(0,r)),o=t.slice(r+1).trim();return s.startsWith("webkit")?e[W7(s)]=o:e[s]=o,e},{})}function WI(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(d){return WI(n,d)}),s=Object.keys(e.attributes||{}).reduce(function(d,g){var y=e.attributes[g];switch(g){case"class":d.attrs.className=y,delete e.attributes.class;break;case"style":d.attrs.style=Z7(y);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?d.attrs[g.toLowerCase()]=y:d.attrs[XI(g)]=y}return d},{attrs:{}}),o=t.style,u=o===void 0?{}:o,f=H7(t,X7);return s.attrs.style=di(di({},s.attrs.style),u),n.apply(void 0,[e.tag,di(di({},s.attrs),f)].concat(_v(r)))}var ZI=!1;try{ZI=!0}catch{}function J7(){if(!ZI&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function ww(n){if(n&&zd(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(vv.icon)return vv.icon(n);if(n===null)return null;if(n&&zd(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function oy(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?yl({},n,e):{}}var Aw={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Tm=Dw.forwardRef(function(n,e){var t=di(di({},Aw),n),r=t.icon,s=t.mask,o=t.symbol,u=t.className,f=t.title,d=t.titleId,g=t.maskId,y=ww(r),_=oy("classes",[].concat(_v(Y7(t)),_v((u||"").split(" ")))),E=oy("transform",typeof t.transform=="string"?vv.transform(t.transform):t.transform),T=oy("mask",ww(s)),A=V7(y,di(di(di(di({},_),E),T),{},{symbol:o,title:f,titleId:d,maskId:g}));if(!A)return J7("Could not find icon",y),null;var k=A.abstract,M={ref:e};return Object.keys(t).forEach(function(U){Aw.hasOwnProperty(U)||(M[U]=t[U])}),e8(k[0],M)});Tm.displayName="FontAwesomeIcon";Tm.propTypes={beat:rt.bool,border:rt.bool,beatFade:rt.bool,bounce:rt.bool,className:rt.string,fade:rt.bool,flash:rt.bool,mask:rt.oneOfType([rt.object,rt.array,rt.string]),maskId:rt.string,fixedWidth:rt.bool,inverse:rt.bool,flip:rt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:rt.oneOfType([rt.object,rt.array,rt.string]),listItem:rt.bool,pull:rt.oneOf(["right","left"]),pulse:rt.bool,rotation:rt.oneOf([0,90,180,270]),shake:rt.bool,size:rt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:rt.bool,spinPulse:rt.bool,spinReverse:rt.bool,symbol:rt.oneOfType([rt.bool,rt.string]),title:rt.string,titleId:rt.string,transform:rt.oneOfType([rt.string,rt.object]),swapOpacity:rt.bool};var e8=WI.bind(null,Dw.createElement);const t8="_LoadingIcon_1jisw_6",n8={LoadingIcon:t8},r8=()=>H.jsx("span",{className:n8.LoadingIcon,children:H.jsx(Tm,{icon:k5})}),JI=x.memo(r8),vn=[];for(let n=0;n<256;++n)vn.push((n+256).toString(16).slice(1));function i8(n,e=0){return(vn[n[e+0]]+vn[n[e+1]]+vn[n[e+2]]+vn[n[e+3]]+"-"+vn[n[e+4]]+vn[n[e+5]]+"-"+vn[n[e+6]]+vn[n[e+7]]+"-"+vn[n[e+8]]+vn[n[e+9]]+"-"+vn[n[e+10]]+vn[n[e+11]]+vn[n[e+12]]+vn[n[e+13]]+vn[n[e+14]]+vn[n[e+15]]).toLowerCase()}let ly;const a8=new Uint8Array(16);function s8(){if(!ly){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ly=crypto.getRandomValues.bind(crypto)}return ly(a8)}const uy={};function B_(n,e,t){let r;{const s=Date.now(),o=s8();o8(uy,s,o),r=l8(o,uy.msecs,uy.seq,e,t)}return i8(r)}function o8(n,e,t){return n.msecs??(n.msecs=-1/0),n.seq??(n.seq=0),e>n.msecs?(n.seq=t[6]<<23|t[7]<<16|t[8]<<8|t[9],n.msecs=e):(n.seq=n.seq+1|0,n.seq===0&&n.msecs++),n}function l8(n,e,t,r,s=0){if(n.length<16)throw new Error("Random bytes length must be >= 16");if(!r)r=new Uint8Array(16),s=0;else if(s<0||s+16>r.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);return e??(e=Date.now()),t??(t=n[6]*127<<24|n[7]<<16|n[8]<<8|n[9]),r[s++]=e/1099511627776&255,r[s++]=e/4294967296&255,r[s++]=e/16777216&255,r[s++]=e/65536&255,r[s++]=e/256&255,r[s++]=e&255,r[s++]=112|t>>>28&15,r[s++]=t>>>20&255,r[s++]=128|t>>>14&63,r[s++]=t>>>6&255,r[s++]=t<<2&255|n[10]&3,r[s++]=n[11],r[s++]=n[12],r[s++]=n[13],r[s++]=n[14],r[s++]=n[15],r}const H_=()=>({id:B_(),text:""}),sf=n=>{const e=Array.from({length:n},()=>H_());return{id:B_(),chunks:e}},u8=n=>({id:B_(),title:n,isNewSong:!0,notes:Array.from({length:10},()=>sf(6))}),c8="_FormAddSong_15ha3_1",f8="_FieldsContainer_15ha3_10",Rw={FormAddSong:c8,FieldsContainer:f8},h8=()=>{const{t:n}=Tn(),e=jl(),t=Gn(Vl.selectLoggedUser),r=Gn(rs.selectAllSongs),s=Gn(rs.selectAddSongStatus),o=Gn(rs.selectAddSongError),u=x.useCallback(async g=>{if(g.preventDefault(),tv(s))return;const y=g.target.title,_=y.value.trim();if(!_){e(zr.setAddSongError(n("Please, insert a song title")));return}if(r.some(A=>A.title==_)){e(zr.setAddSongError(n("This song already exist")));return}y.value="";const T=u8(_);e(zr.addSong({loggedUser:t,song:T}))},[s,e,t,r,n]),f=x.useCallback(()=>{e(zr.clearAddSongError())},[e]),d=x.useCallback(()=>{e(zr.clearAddSongStatus())},[e]);return H.jsxs("form",{className:Rw.FormAddSong,onSubmit:u,children:[H.jsx("h2",{children:n("Add Song")}),H.jsx("div",{className:Rw.FieldsContainer,children:H.jsx(H.Fragment,{children:H.jsxs(H.Fragment,{children:[H.jsx(Sl,{label:n("Title"),type:"text",name:"title"}),H.jsxs(nn,{category:tn.SUCCESS,children:[tv(s)?H.jsx(JI,{}):H.jsx(H.Fragment,{}),n("Add")]})]})})}),pI({requestStatus:s,onCloseGrowl:d}),O_({message:o,onCloseGrowl:f})]})},d8=x.memo(h8),m8="_Link_8fn99_1",g8={Link:m8},p8=n=>{const{children:e,...t}=n;return H.jsx($v,{className:g8.Link,...t,children:e})},ex=x.memo(p8),q_=n=>{const{noteIndex:e,chunkIndex:t}=n,r=document.querySelector(`[data-note-index="${e}"][data-chunk-index="${t}"]`);r&&r.dispatchEvent(new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}))},y8=n=>{n.preventDefault()},v8=n=>{const{event:e,noteIndex:t,chunkIndex:r}=n;e.preventDefault(),q_({noteIndex:t,chunkIndex:r+1})},_8=n=>{const{event:e,noteIndex:t,chunkIndex:r}=n;e.preventDefault(),q_({noteIndex:t,chunkIndex:r-1})},E8=n=>{const{event:e}=n;e.target.blur()},b8=n=>{const{event:e,originalText:t,setEditInputValue:r}=n;r(t),setTimeout(()=>{e.target.blur()},0)},S8=n=>{const{event:e,noteIndex:t,chunkIndex:r}=n;e.preventDefault();const s=e.shiftKey?t-1:t+1;q_({noteIndex:s,chunkIndex:r})},T8=Object.freeze({Enter:E8,Tab:S8,ArrowUp:_8,ArrowDown:v8,Escape:b8}),w8="_NoteChunk_1ed7q_1",A8={NoteChunk:w8},R8=n=>{const{chunk:e,note:t,text:r,chunkIndex:s,noteIndex:o,pitchIndex:u,isDragDisabled:f,isEditionDisabled:d,hasRightBorder:g,onOpenContextMenu:y,onEditNoteChunkText:_}=n,[E,T]=x.useState(!1),[A,k]=x.useState(r),M=x.useCallback(()=>{T(X=>!X)},[]),U=x.useCallback(X=>{if(X.preventDefault(),X.dataTransfer.getData("noteIndex")!=o)return;const O=X.dataTransfer.getData("text");_({text:O,noteIndex:o,chunkIndex:s})},[s,o,_]),J=x.useCallback(X=>{X.dataTransfer.setData("text",r),X.dataTransfer.setData("noteIndex",o)},[o,r]),Y=x.useCallback(X=>{const z=T8[X.key];z&&z({event:X,chunkIndex:s,noteIndex:o,originalText:r,setEditInputValue:k})},[s,o,r]);x.useEffect(()=>{k(r)},[r]);const re=x.useMemo(()=>`note-chunk-${t.id}-${e.id}`,[e.id,t.id]);return H.jsx("div",{id:re,className:A8.NoteChunk,onContextMenu:X=>{X.preventDefault(),y({chunkIndex:s,noteIndex:o,top:X.pageY-window.scrollY,left:X.pageX-window.scrollX})},onDoubleClick:d?null:M,draggable:f?"false":"true",onDragStart:J,onDrop:U,onDragOver:y8,"data-is-drag-disabled":f?"true":"false","data-pitch-index":u,"data-has-text":r?"true":"false","data-has-right-border":g,"data-chunk-index":s,"data-note-index":o,children:E?H.jsx("input",{autoFocus:!0,type:"text",name:"note-chunk-edit-input",value:A,onKeyDown:Y,onChange:X=>k(X.target.value),onBlur:()=>{T(!1),_({text:A,noteIndex:o,chunkIndex:s})}}):H.jsx("span",{children:r})})},C8=x.memo(R8),Ql=n=>n[0].chunks.length,I8=n=>{const{qty:e,setNotes:t}=n;t(r=>[...r,...Array.from({length:e},()=>sf(Ql(r)))])},x8=n=>{const{qty:e,setNotes:t}=n;t(r=>r.map(s=>{const o=[...s.chunks,...Array.from({length:e},()=>H_())];return{...s,chunks:o}}))},tx=n=>{const{noteIndex:e,setNotes:t}=n;t(r=>[...r.slice(0,e),sf(Ql(r)),...r.slice(e)])},O8=n=>{const{contextMenuData:e,setNotes:t}=n,{noteIndex:r}=e;tx({noteIndex:r+1,setNotes:t})},D8=n=>{const{contextMenuData:e,setNotes:t}=n,{noteIndex:r}=e;tx({noteIndex:r,setNotes:t})},nx=n=>{const{chunkIndex:e,setNotes:t}=n;t(r=>r.map(s=>{const o=[...s.chunks.slice(0,e),H_(),...s.chunks.slice(e)];return{...s,chunks:o}}))},N8=n=>{const{contextMenuData:e,setNotes:t}=n,{chunkIndex:r}=e;nx({chunkIndex:r+1,setNotes:t})},P8=n=>{const{contextMenuData:e,setNotes:t}=n,{chunkIndex:r}=e;nx({chunkIndex:r,setNotes:t})},M8=n=>{const{setNotes:e,songText:t}=n,r=t.replaceAll(`
`," ").trim().split(" ");e(s=>{const o=Ql(s);return[...s.slice(0,1),...r.map(u=>{const f=sf(o);return f.chunks[0].text=u,f})]},[])},rx=n=>n.chunks.findIndex(e=>e.text),k8=n=>{const{setNotes:e}=n;e(t=>{let r=-1;for(let o=t.length-1;o>=0&&!t[o].chunks.reduce((f,d)=>f+d.text,"");o--)r=o;const s=r!=-1?t.slice(0,r):[...t];return s.length?[...s]:[...t]})},L8=n=>{const{contextMenuData:e,setNotes:t}=n,{noteIndex:r}=e;t(s=>r===0?[...s]:[...s.slice(0,r),...s.slice(r+1)])},V8=n=>{const{contextMenuData:e,setNotes:t}=n,{chunkIndex:r}=e;t(s=>s.map(o=>{if(o.chunks.length===1)return{...o};const u=[...o.chunks.slice(0,r),...o.chunks.slice(r+1)];return{...o,chunks:u}}))},ix=(n,e)=>n.reduce((t,r)=>t+r.chunks[e].text,""),U8=n=>{const{setNotes:e}=n;e(t=>{const r=z8(t),s=j8(r);return s[0].chunks.length?[...s]:[...t]})},j8=n=>{const e=Ql(n);let t=-1;for(let r=e-1;r>=0&&!ix(n,r);r--)t=r;return t==-1?[...n]:n.map(r=>{const s=r.chunks.map((o,u)=>u>=t?null:o).filter(Boolean);return{...r,chunks:s}})},z8=n=>{const e=Ql(n);let t=-1;for(let r=0;r<e&&!ix(n,r);r++)t=r;return t==-1?[...n]:n.map(r=>{const s=r.chunks.map((o,u)=>u>t?o:null).filter(Boolean);return{...r,chunks:s}})},F8=n=>e=>{const{text:t,noteIndex:r,chunkIndex:s}=e,o=t.trim(),u=!!o,d=o.indexOf(" ")!==-1?o.split(" "):[t];n(g=>{const y=Ql(g),_=g[r],E=_.chunks.map((A,k)=>{const M=k==s,U=u?"":A.text;return{...A,text:M?d[0]:U}}),T=d.length>1?d.slice(1).map(A=>{const k=sf(y);return k.chunks[s].text=A,k}):[];return[...g.slice(0,r),{..._,chunks:E},...T,...g.slice(r+1)]})},B8=(n,e,t)=>{if(e==-1||t==-1)return!1;if(e<t)return!(n<=e||n>t);if(n==t)return!1;if(n<=e&&n>t)return!0},H8="_Note_efu7e_1",q8={Note:H8},$8=n=>{const{note:e,noteIndex:t,nextNoteNoteIndex:r,hasNextNote:s,setNotes:o,contextMenuFnsRef:u}=n,f=x.useCallback(g=>{var y;(y=u.current)==null||y.setContextMenuData(g)},[u]),d=x.useCallback(F8(o),[o]);return H.jsx("div",{className:q8.Note,children:e.chunks.map((g,y)=>{const _=y%12+1,E=!g.text||t==0,T=t==0,A=rx(e),k=s?B8(y,A,r):!1;return H.jsx(C8,{note:e,chunk:g,chunkIndex:y,noteIndex:t,pitchIndex:_,text:g.text,isDragDisabled:E,isEditionDisabled:T,hasRightBorder:k,onOpenContextMenu:f,onEditNoteChunkText:d},g.id)})})},G8=x.memo($8),K8="_NotesContainer_og4yb_1",Y8={NotesContainer:K8},Q8=n=>{const{notes:e,notesFnsRef:t}=n,{t:r}=Tn(),[s,o]=x.useState(e),[u,f]=x.useState(!0),d=x.useRef(null),g=x.useMemo(()=>[{label:r("Add Pitch Above"),onClick:y=>{P8({contextMenuData:y,setNotes:o})}},{label:r("Add Pitch Below"),onClick:y=>{N8({contextMenuData:y,setNotes:o})}},{label:r("Add Note Before"),onClick:y=>{D8({contextMenuData:y,setNotes:o})}},{label:r("Add Note After"),onClick:y=>{O8({contextMenuData:y,setNotes:o})}},{label:r("Remove Pitch"),type:"danger",onClick:y=>{V8({contextMenuData:y,setNotes:o})}},{label:r("Remove Note"),type:"danger",onClick:y=>{L8({contextMenuData:y,setNotes:o})}}],[r]);return x.useImperativeHandle(t,()=>({setWrapNotes(y){f(y)},getNotes(){return[...s]},addMultipleNotes(y){I8({setNotes:o,qty:y})},addMultiplePitches(y){x8({setNotes:o,qty:y})},removeEmptyNotesAtTheEnd(){k8({setNotes:o})},trimPitches(){U8({setNotes:o})},addWordsAsNotes(y){M8({setNotes:o,songText:y})}})),H.jsxs("div",{className:Y8.NotesContainer,"data-wrap-notes":u,children:[s.map((y,_)=>{const E=s.length>_+1,T=E?rx(s[_+1]):null;return H.jsx(G8,{setNotes:o,note:y,noteIndex:_,hasNextNote:E,nextNoteNoteIndex:T,contextMenuFnsRef:d},y.id)}),H.jsx(h4,{items:g,contextMenuFnsRef:d})]})},X8=x.memo(Q8),W8="_SaveChartOption_1tona_1",Cw={SaveChartOption:W8},Z8=n=>{const{notesFnsRef:e,song:t}=n,{t:r}=Tn(),s=jl(),o=Gn(Vl.selectLoggedUser),u=Gn(rs.selectSaveSongStatus),f=Gn(rs.selectSaveSongError),d=x.useCallback(async()=>{var E;const _=(E=e.current)==null?void 0:E.getNotes();s(zr.saveSong({song:{...t,isNewSong:!1,notes:_},loggedUser:o}))},[s,o,e,t]),g=x.useCallback(()=>{s(zr.clearSaveSongError())},[s]),y=x.useCallback(()=>{s(zr.clearSaveSongStatus())},[s]);return H.jsxs("div",{className:Cw.SaveChartOption,children:[H.jsxs(nn,{className:Cw.SaveSongButton,onClick:d,category:tn.SUCCESS,children:[tv(u)?H.jsx(JI,{}):H.jsx(H.Fragment,{})," ",r("Save Changes")]}),pI({requestStatus:u,onCloseGrowl:y}),O_({message:f,onCloseGrowl:g})]})},J8=x.memo(Z8),ez=()=>H.jsx(Tm,{icon:L5}),tz=x.memo(ez),nz="_Song_ludcu_1",rz="_SongTitleContainer_ludcu_7",iz="_CheckboxContainer_ludcu_17",cy={Song:nz,SongTitleContainer:rz,CheckboxContainer:iz},az=n=>{const{notesFnsRef:e,generateChartDialogFnsRef:t,song:r}=n,{t:s}=Tn(),o=x.useRef(null),u=x.useRef(null),f=x.useCallback(d=>{var g;(g=e.current)==null||g.setWrapNotes(d)},[e]);return H.jsxs("div",{className:cy.Song,children:[H.jsxs("div",{className:cy.SongTitleContainer,children:[H.jsx("h2",{children:r.title}),H.jsx(nn,{category:tn.PRIMARY,textOnly:!0,onClick:()=>{var d;return(d=o.current)==null?void 0:d.show()},children:H.jsx(tz,{})}),H.jsx(t4,{className:cy.CheckboxContainer,label:s("Break Chart"),initialValue:!0,onChange:f}),H.jsx(J8,{song:r,notesFnsRef:e})]}),H.jsx(X8,{notes:r.notes,notesFnsRef:e}),H.jsx(m4,{configSongDialogFnsRef:o,generateChartDialogFnsRef:t,deleteSongDialogFnsRef:u,notesFnsRef:e}),H.jsx(I5,{deleteSongDialogFnsRef:u,song:r})]})},sz=x.memo(az),{t:oz}=Pt,lz=n=>n.length?n.map(e=>H.jsx("li",{children:H.jsx(ex,{to:{pathname:"/chart",search:`?id=${e.id}`},children:e.title})},e.id)):H.jsx("li",{children:oz("No songs here. What about adding one?")}),uz="_SongListContainer_v77t5_1",cz="_SongList_v77t5_1",Iw={SongListContainer:uz,SongList:cz},fz=()=>{const{t:n}=Tn(),e=Gn(rs.selectAllSongs);return H.jsxs("div",{className:Iw.SongListContainer,children:[H.jsx("h2",{children:n("Song List")}),H.jsx("ul",{className:Iw.SongList,children:lz(e)})]})},hz=x.memo(fz),dz="_Header_10ukp_1",mz="_ContentContainer_10ukp_12",gz="_SignOut_10ukp_17",bv={Header:dz,ContentContainer:mz,SignOut:gz},pz=()=>{const{t:n}=Tn(),e=jl(),t=Gn(Vl.isLoggedIn),r=x.useCallback(s=>{s.preventDefault(),e(Vd.signOutUser())},[e]);return H.jsxs("div",{className:bv.Header,children:[H.jsx("h1",{children:"Melo Chart"}),t?H.jsxs(H.Fragment,{children:[H.jsx("ul",{children:H.jsx("li",{children:H.jsx(ex,{to:{pathname:""},children:n("My songs")})})}),H.jsx(nn,{className:bv.SignOut,category:tn.DANGER,textOnly:!0,onClick:r,children:n("Sign Out")})]}):H.jsx(H.Fragment,{})]})},yz=n=>{const{children:e}=n;return H.jsx("div",{className:bv.ContentContainer,children:e})},vz=()=>H.jsxs("div",{children:[H.jsx(w5,{}),H.jsx(pz,{}),H.jsx(yz,{children:H.jsx(Ik,{})})]}),ax=x.memo(vz),_z="_Chart_m1uz3_1",Ez={Chart:_z},bz=()=>{const n=x.useRef(null),e=x.useRef(null),[t]=sL(),r=t.get("id")||null,s=Gn(rs.selectSongById(r)),o=x.useCallback(d=>{var g;(g=n.current)==null||g.addWordsAsNotes(d)},[]),u=x.useCallback(()=>{var _;if(!s)return!1;const d=JSON.stringify(s.notes),g=((_=n.current)==null?void 0:_.getNotes())||[],y=JSON.stringify(g);return d!=y},[s,n]),f=Ek(u);return H.jsxs("div",{className:Ez.Chart,children:[s?H.jsx(sz,{notesFnsRef:n,generateChartDialogFnsRef:e,song:s}):H.jsx(Bv,{to:"/"}),H.jsx(M5,{show:f.state==="blocked",onConfirm:()=>f.proceed(),onCancel:()=>f.reset()}),H.jsx(N5,{generateChartDialogFnsRef:e,show:s==null?void 0:s.isNewSong,onAddWordsAsNotes:o})]})},Sz=x.memo(bz),Tz="_Home_1ni6n_1",wz={Home:Tz},Az=()=>H.jsxs("div",{className:wz.Home,children:[H.jsx(d8,{}),H.jsx(hz,{})]}),Rz=x.memo(Az),Cz="_LoginContainer_162n2_1",Iz="_Login_162n2_1",xw={LoginContainer:Cz,Login:Iz},xz=()=>{const{t:n}=Tn(),e=jl(),[t,r]=x.useState(!0),[s,o]=x.useState(""),[u,f]=x.useState(""),[d,g]=x.useState(""),y=x.useCallback(E=>{E.preventDefault(),e(Vd.signInUser({email:u,password:d}))},[e,u,d]),_=x.useCallback(E=>{E.preventDefault(),e(Vd.signUpUser({username:s,email:u,password:d}))},[e,u,d,s]);return H.jsxs("div",{className:xw.LoginContainer,children:[H.jsxs("form",{className:xw.Login,onSubmit:t?y:_,children:[H.jsx("h2",{children:n(t?"Login":"Create an Account")}),t?H.jsx(H.Fragment,{}):H.jsx(Sl,{label:n("Username"),type:"text",name:"username",value:s,onChange:E=>o(E.target.value)}),H.jsx(Sl,{label:n("Email"),type:"text",name:"email",value:u,onChange:E=>f(E.target.value)}),H.jsx(Sl,{label:n("Password"),type:"password",name:"password",value:d,onChange:E=>g(E.target.value)}),H.jsx(nn,{category:tn.SUCCESS,children:n(t?"Sign in":"Sign up")})]}),t?H.jsx(nn,{category:tn.PRIMARY,textOnly:!0,onClick:()=>r(!1),children:n("Don't have an account? Sign up")}):H.jsx(nn,{category:tn.PRIMARY,textOnly:!0,onClick:()=>r(!0),children:n("Go back")})]})},Oz=x.memo(xz),Dz=JA([{path:"/",element:H.jsx(ax,{}),children:[{index:!0,element:H.jsx(Oz,{})},{path:"*",element:H.jsx(Bv,{to:"/"})}]}]),Nz=JA([{path:"/",element:H.jsx(ax,{}),children:[{index:!0,element:H.jsx(Rz,{})},{path:"chart",element:H.jsx(Sz,{})},{path:"*",element:H.jsx(Bv,{to:"/"})}]}]),Pz=()=>{const n=jl(),e=Gn(Vl.selectLoggedUser),t=Gn(Vl.isLoggedIn);return x.useEffect(()=>{e&&n(zr.loadSongs(e.songs))},[n,e]),x.useEffect(()=>{qN(fa.auth.auth,r=>{r&&n(Vd.loadUser(r))})},[n]),H.jsx(H.Fragment,{children:H.jsx(Ak,{router:t?Nz:Dz})})},Mz=x.memo(Pz),kz=z4({reducer:{songs:n5,users:y5}});z2.createRoot(document.getElementById("root")).render(H.jsx(x.StrictMode,{children:H.jsx(tO,{store:kz,children:H.jsx(Mz,{})})}));export{Vz as c,Ow as g};
